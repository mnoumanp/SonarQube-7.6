(window.webpackJsonp=window.webpackJsonp||[]).push([[332],{1677:function(e,t,n){"use strict";n.r(t);var s=n(352),o=n(368),r=n.n(o),a=n(358),i=n(354),l=n(0),c=n(439);class m extends s.PureComponent{constructor(){super(...arguments),this.state={},this.handleChange=(e=>{const t=e.currentTarget.value;this.setState({newKey:t})}),this.handleReset=(()=>{this.setState({newKey:void 0})})}render(){const e=this.props.component,t=this.state.newKey,n=null!=t?t:e.key,o=n!==e.key;return s.createElement(c.a,{confirmButtonText:Object(l.l)("update_verb"),confirmData:t,modalBody:s.createElement(s.Fragment,null,Object(l.m)("update_key.are_you_sure_to_change_key",e.name),s.createElement("div",{className:"spacer-top"},Object(l.l)("update_key.old_key"),": ",s.createElement("strong",null,e.key)),s.createElement("div",{className:"spacer-top"},Object(l.l)("update_key.new_key"),": ",s.createElement("strong",null,t))),modalHeader:Object(l.l)("update_key.page"),onConfirm:this.props.onKeyChange},({onFormSubmit:e})=>s.createElement("form",{onSubmit:e},s.createElement("input",{className:"input-super-large",id:"update-key-new-key",onChange:this.handleChange,placeholder:Object(l.l)("update_key.new_key"),required:!0,type:"text",value:n}),s.createElement("div",{className:"spacer-top"},s.createElement(i.f,{disabled:!o,id:"update-key-submit"},Object(l.l)("update_verb")),s.createElement(i.a,{className:"spacer-left",disabled:!o,id:"update-key-reset",onClick:this.handleReset,type:"reset"},Object(l.l)("reset_verb")))))}}var u=n(399),d=n(707);n.d(t,"Key",function(){return p});class p extends s.PureComponent{constructor(){super(...arguments),this.handleChangeKey=(e=>Object(u.b)({from:this.props.component.key,to:e}).then(()=>{d.a.remove(this.props.component.key),this.props.router.replace({pathname:"/project/key",query:{id:e}})}))}render(){const e=this.props.component;return s.createElement("div",{className:"page page-limited",id:"project-key"},s.createElement(r.a,{title:Object(l.l)("update_key.page")}),s.createElement("header",{className:"page-header"},s.createElement("h1",{className:"page-title"},Object(l.l)("update_key.page")),s.createElement("div",{className:"page-description"},Object(l.l)("update_key.page.description"))),s.createElement(m,{component:e,onKeyChange:this.handleChangeKey}))}}t.default=Object(a.withRouter)(p)},366:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var s=n(352),o=n(397),r=n(353);function a(e){return s.createElement(o,Object.assign({className:r("modal",{"modal-medium":e.medium,"modal-large":e.large,"modal-simple":e.simple}),isOpen:!0,overlayClassName:r("modal-overlay",{"modal-no-backdrop":e.noBackdrop})},e))}o.setAppElement("#content")},385:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var s=n(352),o=n(366);class r extends s.Component{constructor(){super(...arguments),this.mounted=!1,this.state={submitting:!1},this.stopSubmitting=(()=>{this.mounted&&this.setState({submitting:!1})}),this.handleCloseClick=(e=>{e&&(e.preventDefault(),e.currentTarget.blur()),this.props.onClose()}),this.handleFormSubmit=(e=>{e.preventDefault(),this.submit()}),this.handleSubmitClick=(e=>{e&&(e.preventDefault(),e.currentTarget.blur()),this.submit()}),this.submit=(()=>{const e=this.props.onSubmit();e&&(this.setState({submitting:!0}),e.then(this.stopSubmitting,this.stopSubmitting))})}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}render(){return s.createElement(o.a,{contentLabel:this.props.header,onRequestClose:this.props.onClose},this.props.children({onCloseClick:this.handleCloseClick,onFormSubmit:this.handleFormSubmit,onSubmitClick:this.handleSubmitClick,submitting:this.state.submitting}))}}},391:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var s=n(352);class o extends s.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={modal:!1},this.handleButtonClick=(()=>{this.setState({modal:!0})}),this.handleFormSubmit=(e=>{e&&e.preventDefault(),this.setState({modal:!0})}),this.handleCloseModal=(()=>{this.mounted&&this.setState({modal:!1})})}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}render(){return s.createElement(s.Fragment,null,this.props.children({onClick:this.handleButtonClick,onFormSubmit:this.handleFormSubmit}),this.state.modal&&this.props.modal({onClose:this.handleCloseModal}))}}},404:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var s=n(352),o=n(385),r=n(365),a=n(0),i=n(354);class l extends s.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.handleSubmit=(()=>{const e=this.props.onConfirm(this.props.confirmData);return e?e.then(this.props.onClose,()=>{}):void this.props.onClose()}),this.renderModalContent=(({onCloseClick:e,onFormSubmit:t,submitting:n})=>{const o=this.props,l=o.children,c=o.confirmButtonText,m=o.confirmDisable,u=o.header,d=o.isDestructive,p=this.props.cancelButtonText,h=void 0===p?Object(a.l)("cancel"):p;return s.createElement("form",{onSubmit:t},s.createElement("header",{className:"modal-head"},s.createElement("h2",null,u)),s.createElement("div",{className:"modal-body"},l),s.createElement("footer",{className:"modal-foot"},s.createElement(r.a,{className:"spacer-right",loading:n}),s.createElement(i.f,{autoFocus:!0,className:d?"button-red":void 0,disabled:n||m},c),s.createElement(i.e,{disabled:n,onClick:e},h)))})}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}render(){const e=this.props.header;return s.createElement(o.a,{header:e,onClose:this.props.onClose,onSubmit:this.handleSubmit},this.renderModalContent)}}},439:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var s=n(352),o=n(391),r=n(404);class a extends s.PureComponent{constructor(){super(...arguments),this.renderConfirmModal=(({onClose:e})=>s.createElement(r.a,{cancelButtonText:this.props.cancelButtonText,confirmButtonText:this.props.confirmButtonText,confirmData:this.props.confirmData,confirmDisable:this.props.confirmDisable,header:this.props.modalHeader,isDestructive:this.props.isDestructive,onClose:e,onConfirm:this.props.onConfirm},this.props.modalBody))}render(){return s.createElement(o.a,{modal:this.renderConfirmModal},this.props.children)}}}}]);
//# sourceMappingURL=332.m.315cd6a6.chunk.js.map