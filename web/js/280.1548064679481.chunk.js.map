{"version":3,"sources":["webpack:///./src/main/js/app/components/ComponentContext.tsx","webpack:///./src/main/js/components/icons-components/PlusCircleIcon.tsx","webpack:///./node_modules/lodash/differenceBy.js","webpack:///../sonar-docs/src/tooltips/branches/no-branch-support.md","webpack:///../sonar-docs/src/tooltips/branches/single-branch.md","webpack:///./src/main/js/app/components/nav/component/ComponentNav.css?2b0a","webpack:///./src/main/js/app/components/nav/component/ComponentNav.css","webpack:///./src/main/js/app/components/ComponentContainerNotFound.tsx","webpack:///./src/main/js/app/components/nav/component/ComponentNavBranchesMenuItem.tsx","webpack:///./src/main/js/app/components/nav/component/ComponentNavBranchesMenu.tsx","webpack:///./src/main/js/app/components/nav/component/ComponentNavBranch.tsx","webpack:///./src/main/js/app/components/nav/component/ComponentNavHeader.tsx","webpack:///./src/main/js/app/components/nav/component/ComponentNavWarnings.tsx","webpack:///./src/main/js/components/common/BranchMeasures.tsx","webpack:///./src/main/js/app/components/nav/component/ComponentNavMeta.tsx","webpack:///./src/main/js/app/components/nav/component/ComponentNavMenu.tsx","webpack:///./src/main/js/app/components/nav/component/ComponentNavLicenseNotif.tsx","webpack:///./src/main/js/app/components/nav/component/ComponentNavBgTaskNotif.tsx","webpack:///./src/main/js/app/components/nav/component/ComponentNav.tsx","webpack:///./src/main/js/app/components/ComponentContainer.tsx","webpack:///./node_modules/lodash/toFinite.js","webpack:///./src/main/js/components/docs/DocTooltip.tsx","webpack:///./src/main/js/components/icons-components/QualifierIcon.tsx","webpack:///./node_modules/lodash/_baseInRange.js","webpack:///./src/main/js/components/intl/DateTimeFormatter.tsx","webpack:///./node_modules/lodash/inRange.js","webpack:///./src/main/js/helpers/almIntegrations.ts","webpack:///./src/main/js/helpers/periods.ts","webpack:///./src/main/js/components/measure/utils.ts","webpack:///./src/main/js/components/icons-components/DetachIcon.tsx","webpack:///./src/main/js/components/ui/CoverageRating.tsx","webpack:///./src/main/js/components/ui/DuplicationsRating.tsx","webpack:///./src/main/js/apps/background-tasks/constants.ts","webpack:///./src/main/js/components/ui/DuplicationsRating.css?4de2","webpack:///./src/main/js/components/ui/DuplicationsRating.css","webpack:///./src/main/js/components/withAppState.tsx","webpack:///./src/main/js/components/icons-components/FavoriteIcon.tsx","webpack:///./src/main/js/api/ce.ts","webpack:///./src/main/js/api/nav.ts","webpack:///./src/main/js/components/icons-components/HomeIcon.tsx","webpack:///./src/main/js/components/controls/HomePageSelect.tsx","webpack:///./src/main/js/components/controls/FavoriteBase.tsx","webpack:///./src/main/js/components/controls/Favorite.tsx","webpack:///./src/main/js/api/favorites.ts","webpack:///./src/main/js/components/common/OrganizationHelmet.tsx","webpack:///./src/main/js/components/icons-components/WarningIcon.tsx"],"names":["__webpack_require__","d","__webpack_exports__","ComponentContext","react__WEBPACK_IMPORTED_MODULE_0__","branchLike","undefined","component","PlusCircleIcon","_Icon__WEBPACK_IMPORTED_MODULE_1__","_a","className","_b","fill","size","style","baseDifference","baseFlatten","baseIteratee","baseRest","isArrayLikeObject","last","differenceBy","array","values","iteratee","module","exports","content","i","options","hmr","transform","insertInto","locals","push","ComponentContainerNotFound","index_js_exposed","Helmet","defaultTitle","Object","l10n","defer","id","react_router_es","to","ComponentNavBranchesMenuItem","props","__rest","displayName","helpers_branches","shouldBeIndented","isOrphan","key","onMouseEnter","onSelect","ref","innerRef","classnames","active","selected","urls","title","BranchIcon","big-spacer-left","BranchStatus","concise","ComponentNavBranchesMenu_ComponentNavBranchesMenu","_super","ComponentNavBranchesMenu","_this","apply","this","arguments","state","query","getFilteredBranchLikes","toLowerCase","branchLikes","filter","matchBranchName","name","includes","matchPullRequestTitleOrId","handleSearchChange","setState","handleKeyDown","event","keyCode","preventDefault","openSelected","selectPrevious","selectNext","getSelected","router","getProjectBranchUrl","index","findIndex","b","branches","length","handleSelect","find","currentBranchLike","renderSearch","SearchBox","autoFocus","onChange","onKeyDown","placeholder","value","renderBranchesList","items","map","previous","isPreviousOrphan","showDivider","showOrphanHeader","showPullRequestHeader","showShortLivingBranchHeader","isSelected","HelpTooltip","overlay","node","selectedBranchNode","listNode","__extends","prototype","componentDidMount","scrollToSelectedBranch","componentDidUpdate","smooth","scrolling","parent","render","showManageLink","qualifier","configuration","showSettings","Dropdown","noPadding","pathname","component_ComponentNavBranchesMenu","withRouter","ComponentNavBranch_ComponentNavBranch","ComponentNavBranch","mounted","dropdownOpen","handleClick","stopPropagation","currentTarget","blur","closeDropdown","renderMergeBranch","mergeBranch","index_es","defaultMessage","base","branch","renderOverlay","breadcrumbs","ComponentNavBranch_extends","componentWillReceiveProps","nextProps","location","componentWillUnmount","system","appState","branchesEnabled","theme","DocTooltip","doc","Promise","resolve","then","t","bind","Toggler","onRequestClose","open","canAdmin","onClose","href","onClick","DropdownIcon","component_ComponentNavBranch","withAppState","component_ComponentNavHeader","es","ownProps","organization","rootReducer","shouldLinkLast","lastItem","OrganizationHelmet","OrganizationAvatar","OrganizationLink","item","QualifierIcon","alm","url","rel","target","alt","almIntegrations","height","src","width","AnalysisWarningsModal","lazyLoad","all","e","ComponentNavWarnings","modal","handleCloseModal","ComponentNavWarnings_extends","WarningIcon","warnings","String","BranchMeasures","componentKey","measures","newCoverage","measure","metric","newDuplications","BranchCoverage","BranchDuplications","utils","CoverageRating","helpers_measures","link","DuplicationsRating","Number","component_ComponentNavMeta","currentUser","branchMeasures","mainBranch","longBranch","currentPage","type","getCurrentPage","displayVersion","version","component_ComponentNavWarnings","analysisDate","DateTimeFormatter","date","Tooltip","mouseEnterDelay","users","Favorite","favorite","Boolean","isFavorite","HomePageSelect","DetachIcon","SETTINGS_URLS","ComponentNavMenu_ComponentNavMenu","ComponentNavMenu","getQuery","__assign","renderExtension","isAdmin","activeClassName","ComponentNavMenu_extends","isProject","isDeveloper","isPortfolio","isApplication","getConfiguration","renderDashboardLink","renderCodeLink","renderActivityLink","renderIssuesLink","isIssuesActive","startsWith","resolved","renderComponentMeasuresLink","renderSecurityReportsLink","renderSecurityReports","isActive","tagName","onToggleClick","aria-expanded","aria-haspopup","renderAdministration","isSettingsActive","some","window","indexOf","adminLinks","renderAdministrationLinks","data-test","renderSettingsLink","renderBranchesLink","renderProfilesLink","renderQualityGateLink","renderCustomMeasuresLink","renderLinksLink","renderPermissionsLink","renderBackgroundTasksLink","renderUpdateKeyLink","renderWebhooksLink","renderAdminExtensions","renderDeletionLink","showQualityProfiles","showQualityGates","showManualMeasures","showLinks","showPermissions","showBackgroundTasks","showUpdateKey","extensions","renderExtensions","NavBarTabs","component_ComponentNavMenu","ComponentNavLicenseNotif_ComponentNavLicenseNotif","ComponentNavLicenseNotif","loading","fetchIsValidLicense","marketplace","isValidLicense","ComponentNavLicenseNotif_extends","currentTask","errorType","Alert","display","variant","errorMessage","component_ComponentNavLicenseNotif","ComponentNavBgTaskNotif","ComponentNavBgTaskNotif_extends","renderMessage","messageKey","status","currentTaskOnSameBranch","isInProgress","isPending","constants","ALL","FAILED","pullRequest","pullRequestTitle","message","ComponentNav","populateRecentHistory","RecentHistory","add","ComponentNav_extends","prevProps","notifComponent","component_ComponentNavBgTaskNotif","ContextNavBar","notif","FETCH_STATUS_WAIT_TIME","ComponentContainer_ComponentContainer","ComponentContainer","addQualifier","ComponentContainer_assign","fetchBranches","application","api_branches","getCurrentBranchLike","project","pullRequests","concat","fetchBranchMeasures","api_measures","metricKeys","fetchStatus","ce","current","queue","shouldFetchComponent_1","tasksInProgress","newCurrentTask","getCurrentTask","pendingTasks","getPendingTasks","newTasksInProgress","task","IN_PROGRESS","currentTaskChanged","progressChanged","differenceBy_default","clearTimeout","watchStatusTimer","setTimeout","PENDING","fetchComponent","fetchWarnings","isMain","isSameBranch","branchType","handleComponentChange","changes","handleBranchesChange","ComponentContainer_extends","api_nav","components","nav","data","fetchOrganization","catch","response","requireAuthorization","nav_component_ComponentNav","Provider","children","onBranchesChange","onComponentChange","mapDispatchToProps","rootActions","toNumber","INFINITY","MAX_INTEGER","DocMarkdownBlock","_lazyLoad__WEBPACK_IMPORTED_MODULE_2__","close","default","document","addEventListener","removeEventListener","_controls_HelpTooltip__WEBPACK_IMPORTED_MODULE_1__","childProps","overlayProps","isTooltip","_app_theme__WEBPACK_IMPORTED_MODULE_2__","qualifierIcons","app","brc","dev","dir","DirectoryIcon","fil","svw","trk","ProjectIcon","uts","UnitTestIcon","vw","cla","dev_prj","lib","pac","FoundIcon","nativeMax","Math","max","nativeMin","min","number","start","end","formatterOption","year","month","day","hour","minute","react_intl__WEBPACK_IMPORTED_MODULE_1__","_helpers_dates__WEBPACK_IMPORTED_MODULE_2__","baseInRange","toFinite","hasAdvancedALMIntegration","isBitbucket","isGithub","isVSTS","isPersonal","sanitizeAlmId","_users__WEBPACK_IMPORTED_MODULE_0__","user","externalProvider","almKey","personal","getLeakPeriod","getPeriodLabel","getPeriodDate","_l10n__WEBPACK_IMPORTED_MODULE_0__","_dates__WEBPACK_IMPORTED_MODULE_1__","periods","Array","isArray","period","getPeriod","dateFormatter","parameter","modeParam","mode","KNOWN_RATINGS","enhanceMeasure","metrics","leak","getLeakValue","_helpers_periods__WEBPACK_IMPORTED_MODULE_1__","getRatingTooltip","metricKey","finalMetricKey","_helpers_measures__WEBPACK_IMPORTED_MODULE_0__","substr","_lazyLoad__WEBPACK_IMPORTED_MODULE_1__","DonutChart","SIZE_TO_WIDTH_MAPPING","small","normal","big","huge","SIZE_TO_THICKNESS_MAPPING","muted","_c","numberValue","thickness","classnames__WEBPACK_IMPORTED_MODULE_2__","duplications-rating-small","duplications-rating-big","duplications-rating-huge","duplications-rating-muted","isNaN","duplications-rating-A","lodash_inRange__WEBPACK_IMPORTED_MODULE_0___default","duplications-rating-B","duplications-rating-C","duplications-rating-D","duplications-rating-E","react__WEBPACK_IMPORTED_MODULE_1__","STATUSES","ALL_TYPES","CURRENTS","DEFAULT_FILTERS","DEBOUNCE_DELAY","ALL_EXCEPT_PENDING","SUCCESS","CANCELED","ONLY_CURRENTS","taskType","currents","minSubmittedAt","maxExecutedAt","WrappedComponent","wrappedDisplayName","Wrapper","react_redux__WEBPACK_IMPORTED_MODULE_1__","_store_rootReducer__WEBPACK_IMPORTED_MODULE_2__","FavoriteIcon","classnames__WEBPACK_IMPORTED_MODULE_1__","_Icon__WEBPACK_IMPORTED_MODULE_2__","_app_theme__WEBPACK_IMPORTED_MODULE_3__","is-filled","color","getAnalysisStatus","getActivity","getStatus","getTask","cancelTask","cancelAllTasks","getTasksForComponent","getTypes","getWorkers","setWorkerCount","_helpers_request__WEBPACK_IMPORTED_MODULE_0__","_app_utils_throwGlobalError__WEBPACK_IMPORTED_MODULE_1__","componentId","assign","additionalFields","r","taskTypes","count","getComponentNavigation","getMarketplaceNavigation","getSettingsNavigation","HomeIcon","filled","Icon","HomePageSelect_HomePageSelect","setHomePage","helpers_users","a","homepage","checked","tooltip","FavoriteBase","call","toggleFavorite","removeFavorite","addFavorite","other","controls_FavoriteBase","request","favorites_addFavorite","favorites_removeFavorite","react_helmet__WEBPACK_IMPORTED_MODULE_1__","react_helmet__WEBPACK_IMPORTED_MODULE_1___default","n","titleTemplate"],"mappings":"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","file":"js/280.1548064679481.chunk.js","sourcesContent":["/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\n\ninterface ComponentContextType {\n  branchLike: T.BranchLike | undefined;\n  component: T.Component | undefined;\n}\n\nexport const ComponentContext = React.createContext<ComponentContextType>({\n  branchLike: undefined,\n  component: undefined\n});\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function PlusCircleIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M8 1c3.863 0 7 3.137 7 7s-3.137 7-7 7-7-3.137-7-7 3.137-7 7-7zm3.726 7.985A.274.274 0 0 0 12 8.711V7.289a.274.274 0 0 0-.274-.274H8.985V4.274A.274.274 0 0 0 8.711 4H7.289a.274.274 0 0 0-.274.274v2.741H4.274A.274.274 0 0 0 4 7.289v1.422c0 .152.123.274.274.274h2.741v2.741c0 .151.122.274.274.274h1.422a.274.274 0 0 0 .274-.274V8.985h2.741z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","var baseDifference = require('./_baseDifference'),\n    baseFlatten = require('./_baseFlatten'),\n    baseIteratee = require('./_baseIteratee'),\n    baseRest = require('./_baseRest'),\n    isArrayLikeObject = require('./isArrayLikeObject'),\n    last = require('./last');\n\n/**\n * This method is like `_.difference` except that it accepts `iteratee` which\n * is invoked for each element of `array` and `values` to generate the criterion\n * by which they're compared. The order and references of result values are\n * determined by the first array. The iteratee is invoked with one argument:\n * (value).\n *\n * **Note:** Unlike `_.pullAllBy`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {...Array} [values] The values to exclude.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {Array} Returns the new array of filtered values.\n * @example\n *\n * _.differenceBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n * // => [1.2]\n *\n * // The `_.property` iteratee shorthand.\n * _.differenceBy([{ 'x': 2 }, { 'x': 1 }], [{ 'x': 1 }], 'x');\n * // => [{ 'x': 2 }]\n */\nvar differenceBy = baseRest(function(array, values) {\n  var iteratee = last(values);\n  if (isArrayLikeObject(iteratee)) {\n    iteratee = undefined;\n  }\n  return isArrayLikeObject(array)\n    ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), baseIteratee(iteratee, 2))\n    : [];\n});\n\nmodule.exports = differenceBy;\n","module.exports = \"**Get the most out of SonarQube with branches analysis**\\n\\nAnalyze each branch of your project separately with the Developer Edition.\\n\\n---\\n\\n[Learn More](https://redirect.sonarsource.com/editions/developer.html)\\n\"","module.exports = \"**Learn how to analyze branches in {instance}**\\n\\nQuickly setup branch analysis and get separate insights for each of your branches and pull requests.\\n\\n---\\n\\n[Branches Documentation](/branches/overview/)  \\n[Pull Request Analysis](/analysis/pull-request/)\\n\"","\nvar content = require(\"!!../../../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./ComponentNav.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./ComponentNav.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./ComponentNav.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * SonarQube\\n * Copyright (C) 2009-2019 SonarSource SA\\n * mailto:info AT sonarsource DOT com\\n *\\n * This program is free software; you can redistribute it and/or\\n * modify it under the terms of the GNU Lesser General Public\\n * License as published by the Free Software Foundation; either\\n * version 3 of the License, or (at your option) any later version.\\n *\\n * This program is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\\n * Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with this program; if not, write to the Free Software Foundation,\\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\\n */\\n.navbar-context-branches {\\n  display: inline-flex;\\n  justify-content: center;\\n  align-items: center;\\n  flex-shrink: 1 !important;\\n  min-width: 0;\\n  line-height: 16px;\\n  margin-left: 16px;\\n  font-size: 13px;\\n}\\n\\n.navbar-context-branches .popup {\\n  min-width: 430px;\\n  max-width: 650px;\\n}\\n\\n.navbar-context-meta-branch-menu-title {\\n  padding-left: 24px;\\n}\\n\\n.navbar-context-meta-branch-menu-item {\\n  display: flex !important;\\n  justify-content: space-between;\\n  align-items: center;\\n}\\n\\n.navbar-context-meta-branch-menu-item-name {\\n  flex: 0 1 550px; /* Workaround for SONAR-10971 */\\n  min-width: 0;\\n}\\n\\n.navbar-context-meta-branch-menu-item-actions {\\n  height: 12px;\\n  margin-left: 32px;\\n}\\n\", \"\"]);\n\n// exports\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Helmet } from 'react-helmet';\nimport { Link } from 'react-router';\nimport { translate } from '../../helpers/l10n';\n\nexport default function ComponentContainerNotFound() {\n  return (\n    <>\n      <Helmet defaultTitle={translate('404_not_found')} defer={false} />\n      <div className=\"page-wrapper-simple\" id=\"bd\">\n        <div className=\"page-simple\" id=\"nonav\">\n          <h2 className=\"big-spacer-bottom\">{translate('dashboard.project_not_found')}</h2>\n          <p className=\"spacer-bottom\">{translate('dashboard.project_not_found.2')}</p>\n          <p>\n            <Link to=\"/\">{translate('go_back_to_homepage')}</Link>\n          </p>\n        </div>\n      </div>\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport * as classNames from 'classnames';\nimport BranchStatus from '../../../../components/common/BranchStatus';\nimport BranchIcon from '../../../../components/icons-components/BranchIcon';\nimport {\n  isShortLivingBranch,\n  getBranchLikeDisplayName,\n  getBranchLikeKey,\n  isMainBranch,\n  isPullRequest\n} from '../../../../helpers/branches';\nimport { translate } from '../../../../helpers/l10n';\nimport { getBranchLikeUrl } from '../../../../helpers/urls';\n\nexport interface Props {\n  branchLike: T.BranchLike;\n  component: T.Component;\n  onSelect: (branchLike: T.BranchLike) => void;\n  selected: boolean;\n  innerRef?: (node: HTMLLIElement) => void;\n}\n\nexport default function ComponentNavBranchesMenuItem({ branchLike, ...props }: Props) {\n  const handleMouseEnter = () => {\n    props.onSelect(branchLike);\n  };\n\n  const displayName = getBranchLikeDisplayName(branchLike);\n  const shouldBeIndented =\n    (isShortLivingBranch(branchLike) && !branchLike.isOrphan) || isPullRequest(branchLike);\n\n  return (\n    <li key={getBranchLikeKey(branchLike)} onMouseEnter={handleMouseEnter} ref={props.innerRef}>\n      <Link\n        className={classNames('navbar-context-meta-branch-menu-item', {\n          active: props.selected\n        })}\n        to={getBranchLikeUrl(props.component.key, branchLike)}>\n        <div\n          className=\"navbar-context-meta-branch-menu-item-name text-ellipsis\"\n          title={displayName}>\n          <BranchIcon\n            branchLike={branchLike}\n            className={classNames('little-spacer-right', { 'big-spacer-left': shouldBeIndented })}\n          />\n          {displayName}\n          {isMainBranch(branchLike) && (\n            <div className=\"outline-badge spacer-left\">{translate('branches.main_branch')}</div>\n          )}\n        </div>\n        <div className=\"big-spacer-left note\">\n          <BranchStatus branchLike={branchLike} concise={true} />\n        </div>\n      </Link>\n    </li>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport ComponentNavBranchesMenuItem from './ComponentNavBranchesMenuItem';\nimport {\n  sortBranchesAsTree,\n  isLongLivingBranch,\n  isShortLivingBranch,\n  isSameBranchLike,\n  getBranchLikeKey,\n  isPullRequest,\n  isBranch\n} from '../../../../helpers/branches';\nimport { scrollToElement } from '../../../../helpers/scrolling';\nimport { translate } from '../../../../helpers/l10n';\nimport { getBranchLikeUrl } from '../../../../helpers/urls';\nimport SearchBox from '../../../../components/controls/SearchBox';\nimport HelpTooltip from '../../../../components/controls/HelpTooltip';\nimport { DropdownOverlay } from '../../../../components/controls/Dropdown';\nimport { withRouter, Router } from '../../../../components/hoc/withRouter';\n\ninterface Props {\n  branchLikes: T.BranchLike[];\n  canAdmin?: boolean;\n  component: T.Component;\n  currentBranchLike: T.BranchLike;\n  onClose: () => void;\n  router: Pick<Router, 'push'>;\n}\n\ninterface State {\n  query: string;\n  selected: T.BranchLike | undefined;\n}\n\nexport class ComponentNavBranchesMenu extends React.PureComponent<Props, State> {\n  listNode?: HTMLUListElement | null;\n  selectedBranchNode?: HTMLLIElement | null;\n  state: State = { query: '', selected: undefined };\n\n  componentDidMount() {\n    this.scrollToSelectedBranch(false);\n  }\n\n  componentDidUpdate() {\n    this.scrollToSelectedBranch(true);\n  }\n\n  scrollToSelectedBranch(smooth: boolean) {\n    if (this.listNode && this.selectedBranchNode) {\n      scrollToElement(this.selectedBranchNode, {\n        parent: this.listNode,\n        smooth\n      });\n    }\n  }\n\n  getFilteredBranchLikes = () => {\n    const query = this.state.query.toLowerCase();\n    return sortBranchesAsTree(this.props.branchLikes).filter(branchLike => {\n      const matchBranchName = isBranch(branchLike) && branchLike.name.toLowerCase().includes(query);\n      const matchPullRequestTitleOrId =\n        isPullRequest(branchLike) &&\n        (branchLike.title.toLowerCase().includes(query) ||\n          branchLike.key.toLowerCase().includes(query));\n      return matchBranchName || matchPullRequestTitleOrId;\n    });\n  };\n\n  handleSearchChange = (query: string) => this.setState({ query, selected: undefined });\n\n  handleKeyDown = (event: React.KeyboardEvent<HTMLInputElement>) => {\n    switch (event.keyCode) {\n      case 13:\n        event.preventDefault();\n        this.openSelected();\n        return;\n      case 38:\n        event.preventDefault();\n        this.selectPrevious();\n        return;\n      case 40:\n        event.preventDefault();\n        this.selectNext();\n        // keep this return to prevent fall-through in case more cases will be adder later\n        // eslint-disable-next-line no-useless-return\n        return;\n    }\n  };\n\n  openSelected = () => {\n    const selected = this.getSelected();\n    if (selected) {\n      this.props.router.push(this.getProjectBranchUrl(selected));\n    }\n  };\n\n  selectPrevious = () => {\n    const selected = this.getSelected();\n    const branchLikes = this.getFilteredBranchLikes();\n    const index = branchLikes.findIndex(b => isSameBranchLike(b, selected));\n    if (index > 0) {\n      this.setState({ selected: branchLikes[index - 1] });\n    }\n  };\n\n  selectNext = () => {\n    const selected = this.getSelected();\n    const branches = this.getFilteredBranchLikes();\n    const index = branches.findIndex(b => isSameBranchLike(b, selected));\n    if (index >= 0 && index < branches.length - 1) {\n      this.setState({ selected: branches[index + 1] });\n    }\n  };\n\n  handleSelect = (branchLike: T.BranchLike) => {\n    this.setState({ selected: branchLike });\n  };\n\n  getSelected = () => {\n    if (this.state.selected) {\n      return this.state.selected;\n    }\n\n    const branchLikes = this.getFilteredBranchLikes();\n    if (branchLikes.find(b => isSameBranchLike(b, this.props.currentBranchLike))) {\n      return this.props.currentBranchLike;\n    }\n\n    if (branchLikes.length > 0) {\n      return branchLikes[0];\n    }\n\n    return undefined;\n  };\n\n  getProjectBranchUrl = (branchLike: T.BranchLike) =>\n    getBranchLikeUrl(this.props.component.key, branchLike);\n\n  isOrphan = (branchLike: T.BranchLike) => {\n    return (isShortLivingBranch(branchLike) || isPullRequest(branchLike)) && branchLike.isOrphan;\n  };\n\n  renderSearch = () => (\n    <div className=\"menu-search\">\n      <SearchBox\n        autoFocus={true}\n        onChange={this.handleSearchChange}\n        onKeyDown={this.handleKeyDown}\n        placeholder={translate('branches.search_for_branches')}\n        value={this.state.query}\n      />\n    </div>\n  );\n\n  renderBranchesList = () => {\n    const branchLikes = this.getFilteredBranchLikes();\n    const selected = this.getSelected();\n\n    if (branchLikes.length === 0) {\n      return <div className=\"menu-message note\">{translate('no_results')}</div>;\n    }\n\n    const items = branchLikes.map((branchLike, index) => {\n      const isOrphan = this.isOrphan(branchLike);\n      const previous = index > 0 ? branchLikes[index - 1] : undefined;\n      const isPreviousOrphan = previous !== undefined && this.isOrphan(previous);\n      const showDivider = isLongLivingBranch(branchLike) || (isOrphan && !isPreviousOrphan);\n      const showOrphanHeader = isOrphan && !isPreviousOrphan;\n      const showPullRequestHeader =\n        !showOrphanHeader && isPullRequest(branchLike) && !isPullRequest(previous);\n      const showShortLivingBranchHeader =\n        !showOrphanHeader && isShortLivingBranch(branchLike) && !isShortLivingBranch(previous);\n      const isSelected = isSameBranchLike(branchLike, selected);\n      return (\n        <React.Fragment key={getBranchLikeKey(branchLike)}>\n          {showDivider && <li className=\"divider\" />}\n          {showOrphanHeader && (\n            <li className=\"menu-header\">\n              <div className=\"display-inline-block text-middle\">\n                {translate('branches.orphan_branches')}\n              </div>\n              <HelpTooltip\n                className=\"spacer-left\"\n                overlay={translate('branches.orphan_branches.tooltip')}\n              />\n            </li>\n          )}\n          {showPullRequestHeader && (\n            <li className=\"menu-header navbar-context-meta-branch-menu-title\">\n              {translate('branches.pull_requests')}\n            </li>\n          )}\n          {showShortLivingBranchHeader && (\n            <li className=\"menu-header navbar-context-meta-branch-menu-title\">\n              {translate('branches.short_lived_branches')}\n            </li>\n          )}\n          <ComponentNavBranchesMenuItem\n            branchLike={branchLike}\n            component={this.props.component}\n            innerRef={node =>\n              (this.selectedBranchNode = isSelected ? node : this.selectedBranchNode)\n            }\n            key={getBranchLikeKey(branchLike)}\n            onSelect={this.handleSelect}\n            selected={isSelected}\n          />\n        </React.Fragment>\n      );\n    });\n\n    return (\n      <ul className=\"menu menu-vertically-limited\" ref={node => (this.listNode = node)}>\n        {items}\n      </ul>\n    );\n  };\n\n  render() {\n    const { component } = this.props;\n    const showManageLink =\n      component.qualifier === 'TRK' &&\n      component.configuration &&\n      component.configuration.showSettings;\n\n    return (\n      <DropdownOverlay noPadding={true}>\n        {this.renderSearch()}\n        {this.renderBranchesList()}\n        {showManageLink && (\n          <div className=\"dropdown-bottom-hint text-right\">\n            <Link\n              className=\"text-muted\"\n              to={{ pathname: '/project/branches', query: { id: component.key } }}>\n              {translate('branches.manage')}\n            </Link>\n          </div>\n        )}\n      </DropdownOverlay>\n    );\n  }\n}\n\nexport default withRouter(ComponentNavBranchesMenu);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router';\nimport ComponentNavBranchesMenu from './ComponentNavBranchesMenu';\nimport DocTooltip from '../../../../components/docs/DocTooltip';\nimport * as theme from '../../../theme';\nimport BranchIcon from '../../../../components/icons-components/BranchIcon';\nimport {\n  isShortLivingBranch,\n  isSameBranchLike,\n  getBranchLikeDisplayName,\n  isPullRequest\n} from '../../../../helpers/branches';\nimport { translate } from '../../../../helpers/l10n';\nimport PlusCircleIcon from '../../../../components/icons-components/PlusCircleIcon';\nimport HelpTooltip from '../../../../components/controls/HelpTooltip';\nimport Toggler from '../../../../components/controls/Toggler';\nimport DropdownIcon from '../../../../components/icons-components/DropdownIcon';\nimport { isSonarCloud } from '../../../../helpers/system';\nimport { getPortfolioAdminUrl } from '../../../../helpers/urls';\nimport { withAppState } from '../../../../components/withAppState';\n\ninterface Props {\n  appState: Pick<T.AppState, 'branchesEnabled'>;\n  branchLikes: T.BranchLike[];\n  component: T.Component;\n  currentBranchLike: T.BranchLike;\n  location?: any;\n}\n\ninterface State {\n  dropdownOpen: boolean;\n}\n\nexport class ComponentNavBranch extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { dropdownOpen: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    if (\n      nextProps.component !== this.props.component ||\n      !isSameBranchLike(nextProps.currentBranchLike, this.props.currentBranchLike) ||\n      nextProps.location !== this.props.location\n    ) {\n      this.setState({ dropdownOpen: false });\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleClick = (event: React.SyntheticEvent<HTMLElement>) => {\n    event.preventDefault();\n    event.stopPropagation();\n    event.currentTarget.blur();\n    this.setState(state => ({ dropdownOpen: !state.dropdownOpen }));\n  };\n\n  closeDropdown = () => {\n    if (this.mounted) {\n      this.setState({ dropdownOpen: false });\n    }\n  };\n\n  renderMergeBranch = () => {\n    const { currentBranchLike } = this.props;\n    if (isShortLivingBranch(currentBranchLike)) {\n      return currentBranchLike.isOrphan ? (\n        <span className=\"note big-spacer-left text-ellipsis flex-shrink\">\n          <span className=\"text-middle\">{translate('branches.orphan_branch')}</span>\n          <HelpTooltip\n            className=\"spacer-left\"\n            overlay={translate('branches.orphan_branches.tooltip')}\n          />\n        </span>\n      ) : (\n        <span className=\"note big-spacer-left\">\n          {translate('from')} <strong>{currentBranchLike.mergeBranch}</strong>\n        </span>\n      );\n    } else if (isPullRequest(currentBranchLike)) {\n      return (\n        <span className=\"note big-spacer-left text-ellipsis flex-shrink\">\n          <FormattedMessage\n            defaultMessage={translate('branches.pull_request.for_merge_into_x_from_y')}\n            id=\"branches.pull_request.for_merge_into_x_from_y\"\n            values={{\n              base: <strong>{currentBranchLike.base}</strong>,\n              branch: <strong>{currentBranchLike.branch}</strong>\n            }}\n          />\n        </span>\n      );\n    } else {\n      return null;\n    }\n  };\n\n  renderOverlay = () => {\n    return (\n      <>\n        <p>{translate('application.branches.help')}</p>\n        <hr className=\"spacer-top spacer-bottom\" />\n        <Link\n          className=\"spacer-left link-no-underline\"\n          to={getPortfolioAdminUrl(this.props.component.breadcrumbs[0].key, 'APP')}>\n          {translate('application.branches.link')}\n        </Link>\n      </>\n    );\n  };\n\n  render() {\n    const { branchLikes, currentBranchLike } = this.props;\n    const { configuration, breadcrumbs } = this.props.component;\n\n    if (isSonarCloud() && !this.props.appState.branchesEnabled) {\n      return null;\n    }\n\n    const displayName = getBranchLikeDisplayName(currentBranchLike);\n    const isApp = breadcrumbs && breadcrumbs[0] && breadcrumbs[0].qualifier === 'APP';\n\n    if (isApp && branchLikes.length < 2) {\n      return (\n        <div className=\"navbar-context-branches\">\n          <BranchIcon\n            branchLike={currentBranchLike}\n            className=\"little-spacer-right\"\n            fill={theme.gray80}\n          />\n          <span className=\"note\">{displayName}</span>\n          {configuration &&\n            configuration.showSettings && (\n              <HelpTooltip className=\"spacer-left\" overlay={this.renderOverlay()}>\n                <PlusCircleIcon className=\"vertical-middle\" fill={theme.blue} size={12} />\n              </HelpTooltip>\n            )}\n        </div>\n      );\n    } else {\n      if (!this.props.appState.branchesEnabled) {\n        return (\n          <div className=\"navbar-context-branches\">\n            <BranchIcon\n              branchLike={currentBranchLike}\n              className=\"little-spacer-right\"\n              fill={theme.gray80}\n            />\n            <span className=\"note\">{displayName}</span>\n            <DocTooltip\n              className=\"spacer-left\"\n              doc={import(/* webpackMode: \"eager\" */ 'Docs/tooltips/branches/no-branch-support.md')}>\n              <PlusCircleIcon fill={theme.gray71} size={12} />\n            </DocTooltip>\n          </div>\n        );\n      }\n\n      if (branchLikes.length < 2) {\n        return (\n          <div className=\"navbar-context-branches\">\n            <BranchIcon branchLike={currentBranchLike} className=\"little-spacer-right\" />\n            <span className=\"note\">{displayName}</span>\n            <DocTooltip\n              className=\"spacer-left\"\n              doc={import(/* webpackMode: \"eager\" */ 'Docs/tooltips/branches/single-branch.md')}>\n              <PlusCircleIcon fill={theme.blue} size={12} />\n            </DocTooltip>\n          </div>\n        );\n      }\n    }\n\n    return (\n      <div className=\"navbar-context-branches\">\n        <div className=\"dropdown\">\n          <Toggler\n            onRequestClose={this.closeDropdown}\n            open={this.state.dropdownOpen}\n            overlay={\n              <ComponentNavBranchesMenu\n                branchLikes={this.props.branchLikes}\n                canAdmin={configuration && configuration.showSettings}\n                component={this.props.component}\n                currentBranchLike={this.props.currentBranchLike}\n                onClose={this.closeDropdown}\n              />\n            }>\n            <a\n              className=\"link-base-color link-no-underline nowrap\"\n              href=\"#\"\n              onClick={this.handleClick}>\n              <BranchIcon branchLike={currentBranchLike} className=\"little-spacer-right\" />\n              <span className=\"text-limited text-top\" title={displayName}>\n                {displayName}\n              </span>\n              <DropdownIcon className=\"little-spacer-left\" />\n            </a>\n          </Toggler>\n        </div>\n        {this.renderMergeBranch()}\n      </div>\n    );\n  }\n}\n\nexport default withAppState(ComponentNavBranch);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router';\nimport ComponentNavBranch from './ComponentNavBranch';\nimport QualifierIcon from '../../../../components/icons-components/QualifierIcon';\nimport { getOrganizationByKey, Store } from '../../../../store/rootReducer';\nimport OrganizationAvatar from '../../../../components/common/OrganizationAvatar';\nimport OrganizationHelmet from '../../../../components/common/OrganizationHelmet';\nimport OrganizationLink from '../../../../components/ui/OrganizationLink';\nimport { sanitizeAlmId } from '../../../../helpers/almIntegrations';\nimport { getProjectUrl, getBaseUrl } from '../../../../helpers/urls';\nimport { isSonarCloud } from '../../../../helpers/system';\nimport { isMainBranch } from '../../../../helpers/branches';\n\ninterface StateProps {\n  organization?: T.Organization;\n}\n\ninterface OwnProps {\n  branchLikes: T.BranchLike[];\n  component: T.Component;\n  currentBranchLike: T.BranchLike | undefined;\n  location?: any;\n}\n\ntype Props = StateProps & OwnProps;\n\nexport function ComponentNavHeader(props: Props) {\n  const { component, organization } = props;\n\n  return (\n    <header className=\"navbar-context-header\">\n      <OrganizationHelmet\n        organization={organization && isSonarCloud() ? organization : undefined}\n        title={component.name}\n      />\n      {organization &&\n        isSonarCloud() && (\n          <>\n            <OrganizationAvatar organization={organization} />\n            <OrganizationLink\n              className=\"navbar-context-header-breadcrumb-link link-base-color link-no-underline spacer-left\"\n              organization={organization}>\n              {organization.name}\n            </OrganizationLink>\n            <span className=\"slash-separator\" />\n          </>\n        )}\n      {renderBreadcrumbs(\n        component.breadcrumbs,\n        props.currentBranchLike !== undefined && !isMainBranch(props.currentBranchLike)\n      )}\n      {isSonarCloud() &&\n        component.alm && (\n          <a\n            className=\"link-no-underline\"\n            href={component.alm.url}\n            rel=\"noopener noreferrer\"\n            target=\"_blank\">\n            <img\n              alt={sanitizeAlmId(component.alm.key)}\n              className=\"text-text-top spacer-left\"\n              height={16}\n              src={`${getBaseUrl()}/images/sonarcloud/${sanitizeAlmId(component.alm.key)}.svg`}\n              width={16}\n            />\n          </a>\n        )}\n      {props.currentBranchLike && (\n        <ComponentNavBranch\n          branchLikes={props.branchLikes}\n          component={component}\n          currentBranchLike={props.currentBranchLike}\n          // to close dropdown on any location change\n          location={props.location}\n        />\n      )}\n    </header>\n  );\n}\n\nfunction renderBreadcrumbs(breadcrumbs: T.Breadcrumb[], shouldLinkLast: boolean) {\n  const lastItem = breadcrumbs[breadcrumbs.length - 1];\n  return breadcrumbs.map((item, index) => {\n    return (\n      <React.Fragment key={item.key}>\n        {index === 0 && <QualifierIcon className=\"spacer-right\" qualifier={lastItem.qualifier} />}\n        {shouldLinkLast || index < breadcrumbs.length - 1 ? (\n          <Link\n            className=\"navbar-context-header-breadcrumb-link link-base-color link-no-underline\"\n            title={item.name}\n            to={getProjectUrl(item.key)}>\n            {item.name}\n          </Link>\n        ) : (\n          <span className=\"navbar-context-header-breadcrumb-link\" title={item.name}>\n            {item.name}\n          </span>\n        )}\n        {index < breadcrumbs.length - 1 && <span className=\"slash-separator\" />}\n      </React.Fragment>\n    );\n  });\n}\n\nconst mapStateToProps = (state: Store, ownProps: OwnProps): StateProps => ({\n  organization: getOrganizationByKey(state, ownProps.component.organization)\n});\n\nexport default connect(mapStateToProps)(ComponentNavHeader);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { lazyLoad } from '../../../../components/lazyLoad';\nimport WarningIcon from '../../../../components/icons-components/WarningIcon';\nimport { translate, translateWithParameters } from '../../../../helpers/l10n';\n\nconst AnalysisWarningsModal = lazyLoad(() =>\n  import('../../../../components/common/AnalysisWarningsModal')\n);\n\ninterface Props {\n  warnings: string[];\n}\n\ninterface State {\n  modal: boolean;\n}\n\nexport default class ComponentNavWarnings extends React.PureComponent<Props, State> {\n  state: State = { modal: false };\n\n  handleClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.setState({ modal: true });\n  };\n\n  handleCloseModal = () => {\n    this.setState({ modal: false });\n  };\n\n  render() {\n    return (\n      <>\n        <div className=\"badge badge-focus badge-medium display-inline-flex-center js-component-analysis-warnings\">\n          <WarningIcon className=\"spacer-right\" />\n          <FormattedMessage\n            defaultMessage={translate('component_navigation.last_analsys_had_warnings')}\n            id=\"component_navigation.last_analsys_had_warnings\"\n            values={{\n              warnings: (\n                <a href=\"#\" onClick={this.handleClick}>\n                  {translateWithParameters(\n                    'component_navigation.x_warnings',\n                    String(this.props.warnings.length)\n                  )}\n                </a>\n              )\n            }}\n          />\n        </div>\n        {this.state.modal && (\n          <AnalysisWarningsModal onClose={this.handleCloseModal} warnings={this.props.warnings} />\n        )}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router';\nimport { getLeakValue } from '../measure/utils';\nimport CoverageRating from '../ui/CoverageRating';\nimport { formatMeasure } from '../../helpers/measures';\nimport HelpTooltip from '../controls/HelpTooltip';\nimport { translate } from '../../helpers/l10n';\nimport DuplicationsRating from '../ui/DuplicationsRating';\nimport { getComponentDrilldownUrl } from '../../helpers/urls';\n\ninterface Props {\n  branchLike: T.BranchLike;\n  componentKey: string;\n  measures: T.Measure[];\n}\n\nexport default function BranchMeasures({ branchLike, componentKey, measures }: Props) {\n  const newCoverage = measures.find(measure => measure.metric === 'new_coverage');\n  const newDuplications = measures.find(\n    measure => measure.metric === 'new_duplicated_lines_density'\n  );\n  if (!newCoverage && !newDuplications) {\n    return null;\n  }\n\n  return (\n    <div className=\"display-inline-flex-center\">\n      <BranchCoverage branchLike={branchLike} componentKey={componentKey} measure={newCoverage} />\n      <BranchDuplications\n        branchLike={branchLike}\n        className=\"big-spacer-left\"\n        componentKey={componentKey}\n        measure={newDuplications}\n      />\n    </div>\n  );\n}\n\ninterface MeasureProps {\n  branchLike: T.BranchLike;\n  className?: string;\n  componentKey: string;\n  measure: T.Measure | undefined;\n}\n\nexport function BranchCoverage({ branchLike, className, componentKey, measure }: MeasureProps) {\n  const value = getLeakValue(measure);\n  return (\n    <div className={classNames('display-inline-flex-center', className)}>\n      <CoverageRating size=\"small\" value={value} />\n      <span className=\"little-spacer-left\">\n        {value !== undefined ? formatMeasure(value, 'PERCENT') : ''}\n      </span>\n      <HelpTooltip\n        className=\"little-spacer-left\"\n        overlay={\n          measure ? (\n            <FormattedMessage\n              defaultMessage={translate('branches.measures.new_coverage.help')}\n              id=\"branches.measures.new_coverage.help\"\n              values={{\n                link: (\n                  <Link\n                    to={getComponentDrilldownUrl({\n                      componentKey,\n                      branchLike,\n                      metric: 'new_coverage'\n                    })}>\n                    {translate('layout.measures')}\n                  </Link>\n                )\n              }}\n            />\n          ) : (\n            translate('branches.measures.new_coverage.missing')\n          )\n        }\n      />\n    </div>\n  );\n}\n\nexport function BranchDuplications({ branchLike, className, componentKey, measure }: MeasureProps) {\n  const value = getLeakValue(measure);\n  return (\n    <div className={classNames('display-inline-flex-center', className)}>\n      <DuplicationsRating size=\"small\" value={Number(value)} />\n      <span className=\"little-spacer-left\">\n        {value !== undefined ? formatMeasure(value, 'PERCENT') : ''}\n      </span>\n      <HelpTooltip\n        className=\"little-spacer-left\"\n        overlay={\n          measure ? (\n            <FormattedMessage\n              defaultMessage={translate('branches.measures.new_duplicated_lines_density.help')}\n              id=\"branches.measures.new_duplicated_lines_density.help\"\n              values={{\n                link: (\n                  <Link\n                    to={getComponentDrilldownUrl({\n                      componentKey,\n                      branchLike,\n                      metric: 'new_duplicated_lines_density'\n                    })}>\n                    {translate('layout.measures')}\n                  </Link>\n                )\n              }}\n            />\n          ) : (\n            translate('branches.measures.new_duplicated_lines_density.missing')\n          )\n        }\n      />\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport ComponentNavWarnings from './ComponentNavWarnings';\nimport BranchMeasures from '../../../../components/common/BranchMeasures';\nimport BranchStatus from '../../../../components/common/BranchStatus';\nimport DateTimeFormatter from '../../../../components/intl/DateTimeFormatter';\nimport Favorite from '../../../../components/controls/Favorite';\nimport HomePageSelect from '../../../../components/controls/HomePageSelect';\nimport Tooltip from '../../../../components/controls/Tooltip';\nimport DetachIcon from '../../../../components/icons-components/DetachIcon';\nimport {\n  isShortLivingBranch,\n  isLongLivingBranch,\n  isMainBranch,\n  isPullRequest\n} from '../../../../helpers/branches';\nimport { translate } from '../../../../helpers/l10n';\nimport { isLoggedIn } from '../../../../helpers/users';\nimport { getCurrentUser, Store } from '../../../../store/rootReducer';\n\ninterface StateProps {\n  currentUser: T.CurrentUser;\n}\n\ninterface Props extends StateProps {\n  branchLike?: T.BranchLike;\n  branchMeasures?: T.Measure[];\n  component: T.Component;\n  warnings: string[];\n}\n\nexport function ComponentNavMeta({\n  branchLike,\n  branchMeasures,\n  component,\n  currentUser,\n  warnings\n}: Props) {\n  const mainBranch = !branchLike || isMainBranch(branchLike);\n  const longBranch = isLongLivingBranch(branchLike);\n  const currentPage = getCurrentPage(component, branchLike);\n  const displayVersion = component.version !== undefined && (mainBranch || longBranch);\n\n  return (\n    <div className=\"navbar-context-meta\">\n      {warnings.length > 0 && <ComponentNavWarnings warnings={warnings} />}\n      {component.analysisDate && (\n        <div className=\"spacer-left text-ellipsis\">\n          <DateTimeFormatter date={component.analysisDate} />\n        </div>\n      )}\n      {displayVersion && (\n        <Tooltip mouseEnterDelay={0.5} overlay={`${translate('version')} ${component.version}`}>\n          <div className=\"spacer-left text-limited\">\n            {translate('version')} {component.version}\n          </div>\n        </Tooltip>\n      )}\n      {isLoggedIn(currentUser) && (\n        <div className=\"navbar-context-meta-secondary\">\n          {mainBranch && (\n            <Favorite\n              component={component.key}\n              favorite={Boolean(component.isFavorite)}\n              qualifier={component.qualifier}\n            />\n          )}\n          {(mainBranch || longBranch) &&\n            currentPage !== undefined && (\n              <HomePageSelect className=\"spacer-left\" currentPage={currentPage} />\n            )}\n        </div>\n      )}\n      {(isShortLivingBranch(branchLike) || isPullRequest(branchLike)) && (\n        <div className=\"navbar-context-meta-secondary display-inline-flex-center\">\n          {isPullRequest(branchLike) &&\n            branchLike.url !== undefined && (\n              <a\n                className=\"display-inline-flex-center big-spacer-right\"\n                href={branchLike.url}\n                rel=\"noopener noreferrer\"\n                target=\"_blank\">\n                {translate('branches.see_the_pr')}\n                <DetachIcon className=\"little-spacer-left\" size={12} />\n              </a>\n            )}\n          <BranchStatus branchLike={branchLike} />\n          {branchMeasures &&\n            branchMeasures.length > 0 && (\n              <>\n                <span className=\"vertical-separator big-spacer-left big-spacer-right\" />\n                <BranchMeasures\n                  branchLike={branchLike}\n                  componentKey={component.key}\n                  measures={branchMeasures}\n                />\n              </>\n            )}\n        </div>\n      )}\n    </div>\n  );\n}\n\nfunction getCurrentPage(component: T.Component, branchLike: T.BranchLike | undefined) {\n  let currentPage: T.HomePage | undefined;\n  if (component.qualifier === 'VW' || component.qualifier === 'SVW') {\n    currentPage = { type: 'PORTFOLIO', component: component.key };\n  } else if (component.qualifier === 'APP') {\n    const branch = isLongLivingBranch(branchLike) ? branchLike.name : undefined;\n    currentPage = { type: 'APPLICATION', component: component.key, branch };\n  } else if (component.qualifier === 'TRK') {\n    // when home page is set to the default branch of a project, its name is returned as `undefined`\n    const branch = isLongLivingBranch(branchLike) ? branchLike.name : undefined;\n    currentPage = { type: 'PROJECT', component: component.key, branch };\n  }\n  return currentPage;\n}\n\nconst mapStateToProps = (state: Store): StateProps => ({\n  currentUser: getCurrentUser(state)\n});\n\nexport default connect(mapStateToProps)(ComponentNavMeta);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport * as classNames from 'classnames';\nimport Dropdown from '../../../../components/controls/Dropdown';\nimport NavBarTabs from '../../../../components/nav/NavBarTabs';\nimport {\n  isShortLivingBranch,\n  isPullRequest,\n  isMainBranch,\n  getBranchLikeQuery\n} from '../../../../helpers/branches';\nimport { translate } from '../../../../helpers/l10n';\nimport DropdownIcon from '../../../../components/icons-components/DropdownIcon';\nimport { withAppState } from '../../../../components/withAppState';\nimport { isSonarCloud } from '../../../../helpers/system';\n\nconst SETTINGS_URLS = [\n  '/project/admin',\n  '/project/branches',\n  '/project/settings',\n  '/project/quality_profiles',\n  '/project/quality_gate',\n  '/custom_measures',\n  '/project/links',\n  '/project_roles',\n  '/project/history',\n  'background_tasks',\n  '/project/key',\n  '/project/deletion',\n  '/project/webhooks'\n];\n\ninterface Props {\n  appState: Pick<T.AppState, 'branchesEnabled'>;\n  branchLike: T.BranchLike | undefined;\n  component: T.Component;\n  location?: any;\n}\n\nexport class ComponentNavMenu extends React.PureComponent<Props> {\n  isProject() {\n    return this.props.component.qualifier === 'TRK';\n  }\n\n  isDeveloper() {\n    return this.props.component.qualifier === 'DEV';\n  }\n\n  isPortfolio() {\n    const { qualifier } = this.props.component;\n    return qualifier === 'VW' || qualifier === 'SVW';\n  }\n\n  isApplication() {\n    return this.props.component.qualifier === 'APP';\n  }\n\n  getConfiguration() {\n    return this.props.component.configuration || {};\n  }\n\n  getQuery = () => {\n    return { id: this.props.component.key, ...getBranchLikeQuery(this.props.branchLike) };\n  };\n\n  renderDashboardLink() {\n    const { branchLike } = this.props;\n\n    if (isShortLivingBranch(branchLike) || isPullRequest(branchLike)) {\n      return null;\n    }\n\n    const pathname = this.isPortfolio() ? '/portfolio' : '/dashboard';\n    return (\n      <li>\n        <Link activeClassName=\"active\" to={{ pathname, query: this.getQuery() }}>\n          {translate('overview.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderCodeLink() {\n    if (this.isDeveloper()) {\n      return null;\n    }\n\n    return (\n      <li>\n        <Link activeClassName=\"active\" to={{ pathname: '/code', query: this.getQuery() }}>\n          {this.isPortfolio() || this.isApplication()\n            ? translate('view_projects.page')\n            : translate('code.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderActivityLink() {\n    const { branchLike } = this.props;\n\n    if (isShortLivingBranch(branchLike) || isPullRequest(branchLike)) {\n      return null;\n    }\n\n    return (\n      <li>\n        <Link\n          activeClassName=\"active\"\n          to={{ pathname: '/project/activity', query: this.getQuery() }}>\n          {translate('project_activity.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderIssuesLink() {\n    const { location = { pathname: '' } } = this.props;\n    const isIssuesActive = location.pathname.startsWith('/project/issues');\n    return (\n      <li>\n        <Link\n          activeClassName=\"active\"\n          className={classNames({ active: isIssuesActive })}\n          to={{ pathname: '/project/issues', query: { ...this.getQuery(), resolved: 'false' } }}>\n          {translate('issues.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderComponentMeasuresLink() {\n    return (\n      <li>\n        <Link\n          activeClassName=\"active\"\n          to={{ pathname: '/component_measures', query: this.getQuery() }}>\n          {translate('layout.measures')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderSecurityReportsLink() {\n    return (\n      <ul className=\"menu\">\n        <li>\n          <Link\n            activeClassName=\"active\"\n            to={{ pathname: '/project/security_reports/owasp_top_10', query: this.getQuery() }}>\n            {translate('security_reports.owaspTop10.page')}\n          </Link>\n        </li>\n        <li>\n          <Link\n            activeClassName=\"active\"\n            to={{ pathname: '/project/security_reports/sans_top_25', query: this.getQuery() }}>\n            {translate('security_reports.sansTop25.page')}\n          </Link>\n        </li>\n      </ul>\n    );\n  }\n\n  renderSecurityReports() {\n    const { branchLike } = this.props;\n\n    if (isShortLivingBranch(branchLike) || isPullRequest(branchLike)) {\n      return null;\n    }\n\n    const { location = { pathname: '' } } = this.props;\n    const isActive = location.pathname.startsWith('/project/security_reports');\n    return (\n      <Dropdown overlay={this.renderSecurityReportsLink()} tagName=\"li\">\n        {({ onToggleClick, open }) => (\n          <a\n            aria-expanded={open}\n            aria-haspopup=\"true\"\n            className={classNames('dropdown-toggle', { active: isActive || open })}\n            href=\"#\"\n            onClick={onToggleClick}>\n            {translate('layout.security_reports')}\n            <DropdownIcon className=\"little-spacer-left\" />\n          </a>\n        )}\n      </Dropdown>\n    );\n  }\n\n  renderAdministration() {\n    const { branchLike } = this.props;\n\n    if (!this.getConfiguration().showSettings || (branchLike && !isMainBranch(branchLike))) {\n      return null;\n    }\n\n    const isSettingsActive = SETTINGS_URLS.some(url => window.location.href.indexOf(url) !== -1);\n\n    const adminLinks = this.renderAdministrationLinks();\n    if (!adminLinks.some(link => link != null)) {\n      return null;\n    }\n\n    return (\n      <Dropdown\n        data-test=\"administration\"\n        overlay={<ul className=\"menu\">{adminLinks}</ul>}\n        tagName=\"li\">\n        {({ onToggleClick, open }) => (\n          <a\n            aria-expanded={open}\n            aria-haspopup=\"true\"\n            className={classNames('dropdown-toggle', { active: isSettingsActive || open })}\n            href=\"#\"\n            id=\"component-navigation-admin\"\n            onClick={onToggleClick}>\n            {translate('layout.settings')}\n            <DropdownIcon className=\"little-spacer-left\" />\n          </a>\n        )}\n      </Dropdown>\n    );\n  }\n\n  renderAdministrationLinks() {\n    return [\n      this.renderSettingsLink(),\n      this.renderBranchesLink(),\n      this.renderProfilesLink(),\n      this.renderQualityGateLink(),\n      this.renderCustomMeasuresLink(),\n      this.renderLinksLink(),\n      this.renderPermissionsLink(),\n      this.renderBackgroundTasksLink(),\n      this.renderUpdateKeyLink(),\n      this.renderWebhooksLink(),\n      ...this.renderAdminExtensions(),\n      this.renderDeletionLink()\n    ];\n  }\n\n  renderSettingsLink() {\n    if (!this.getConfiguration().showSettings || this.isApplication() || this.isPortfolio()) {\n      return null;\n    }\n    return (\n      <li key=\"settings\">\n        <Link\n          activeClassName=\"active\"\n          to={{ pathname: '/project/settings', query: this.getQuery() }}>\n          {translate('project_settings.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderBranchesLink() {\n    if (\n      !this.props.appState.branchesEnabled ||\n      !this.isProject() ||\n      !this.getConfiguration().showSettings\n    ) {\n      return null;\n    }\n\n    return (\n      <li key=\"branches\">\n        <Link\n          activeClassName=\"active\"\n          to={{ pathname: '/project/branches', query: { id: this.props.component.key } }}>\n          {translate('project_branches.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderProfilesLink() {\n    if (!this.getConfiguration().showQualityProfiles) {\n      return null;\n    }\n    return (\n      <li key=\"profiles\">\n        <Link\n          activeClassName=\"active\"\n          to={{ pathname: '/project/quality_profiles', query: { id: this.props.component.key } }}>\n          {translate('project_quality_profiles.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderQualityGateLink() {\n    if (!this.getConfiguration().showQualityGates) {\n      return null;\n    }\n    return (\n      <li key=\"quality_gate\">\n        <Link\n          activeClassName=\"active\"\n          to={{ pathname: '/project/quality_gate', query: { id: this.props.component.key } }}>\n          {translate('project_quality_gate.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderCustomMeasuresLink() {\n    if (isSonarCloud() || !this.getConfiguration().showManualMeasures) {\n      return null;\n    }\n    return (\n      <li key=\"custom_measures\">\n        <Link\n          activeClassName=\"active\"\n          to={{ pathname: '/custom_measures', query: { id: this.props.component.key } }}>\n          {translate('custom_measures.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderLinksLink() {\n    if (!this.getConfiguration().showLinks) {\n      return null;\n    }\n    return (\n      <li key=\"links\">\n        <Link\n          activeClassName=\"active\"\n          to={{ pathname: '/project/links', query: { id: this.props.component.key } }}>\n          {translate('project_links.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderPermissionsLink() {\n    if (!this.getConfiguration().showPermissions) {\n      return null;\n    }\n    return (\n      <li key=\"permissions\">\n        <Link\n          activeClassName=\"active\"\n          to={{ pathname: '/project_roles', query: { id: this.props.component.key } }}>\n          {translate('permissions.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderBackgroundTasksLink() {\n    if (!this.getConfiguration().showBackgroundTasks) {\n      return null;\n    }\n    return (\n      <li key=\"background_tasks\">\n        <Link\n          activeClassName=\"active\"\n          to={{ pathname: '/project/background_tasks', query: { id: this.props.component.key } }}>\n          {translate('background_tasks.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderUpdateKeyLink() {\n    if (!this.getConfiguration().showUpdateKey) {\n      return null;\n    }\n    return (\n      <li key=\"update_key\">\n        <Link\n          activeClassName=\"active\"\n          to={{ pathname: '/project/key', query: { id: this.props.component.key } }}>\n          {translate('update_key.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderWebhooksLink() {\n    if (!this.getConfiguration().showSettings || !this.isProject()) {\n      return null;\n    }\n    return (\n      <li key=\"webhooks\">\n        <Link\n          activeClassName=\"active\"\n          to={{ pathname: '/project/webhooks', query: { id: this.props.component.key } }}>\n          {translate('webhooks.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderDeletionLink() {\n    const { qualifier } = this.props.component;\n\n    if (!this.getConfiguration().showSettings) {\n      return null;\n    }\n\n    if (qualifier !== 'TRK' && qualifier !== 'VW' && qualifier !== 'APP') {\n      return null;\n    }\n\n    return (\n      <li key=\"project_delete\">\n        <Link\n          activeClassName=\"active\"\n          to={{ pathname: '/project/deletion', query: { id: this.props.component.key } }}>\n          {translate('deletion.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderExtension = ({ key, name }: T.Extension, isAdmin: boolean) => {\n    const pathname = isAdmin ? `/project/admin/extension/${key}` : `/project/extension/${key}`;\n    const query = { id: this.props.component.key, qualifier: this.props.component.qualifier };\n    return (\n      <li key={key}>\n        <Link activeClassName=\"active\" to={{ pathname, query }}>\n          {name}\n        </Link>\n      </li>\n    );\n  };\n\n  renderAdminExtensions() {\n    if (this.props.branchLike && !isMainBranch(this.props.branchLike)) {\n      return [];\n    }\n    const extensions = this.getConfiguration().extensions || [];\n    return extensions.map(e => this.renderExtension(e, true));\n  }\n\n  renderExtensions() {\n    const extensions = this.props.component.extensions || [];\n    if (!extensions.length || (this.props.branchLike && !isMainBranch(this.props.branchLike))) {\n      return null;\n    }\n\n    return (\n      <Dropdown\n        data-test=\"extensions\"\n        overlay={<ul className=\"menu\">{extensions.map(e => this.renderExtension(e, false))}</ul>}\n        tagName=\"li\">\n        {({ onToggleClick, open }) => (\n          <a\n            aria-expanded={open}\n            aria-haspopup=\"true\"\n            className={classNames('dropdown-toggle', { active: open })}\n            href=\"#\"\n            id=\"component-navigation-more\"\n            onClick={onToggleClick}>\n            {translate('more')}\n            <DropdownIcon className=\"little-spacer-left\" />\n          </a>\n        )}\n      </Dropdown>\n    );\n  }\n\n  render() {\n    return (\n      <NavBarTabs>\n        {this.renderDashboardLink()}\n        {this.renderIssuesLink()}\n        {this.renderSecurityReports()}\n        {this.renderComponentMeasuresLink()}\n        {this.renderCodeLink()}\n        {this.renderActivityLink()}\n        {this.renderAdministration()}\n        {this.renderExtensions()}\n      </NavBarTabs>\n    );\n  }\n}\n\nexport default withAppState(ComponentNavMenu);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { translate } from '../../../../helpers/l10n';\nimport { isValidLicense } from '../../../../api/marketplace';\nimport { withAppState } from '../../../../components/withAppState';\nimport { Alert } from '../../../../components/ui/Alert';\n\ninterface Props {\n  appState: Pick<T.AppState, 'canAdmin'>;\n  currentTask?: T.Task;\n}\n\ninterface State {\n  isValidLicense?: boolean;\n  loading: boolean;\n}\n\nexport class ComponentNavLicenseNotif extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: false };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchIsValidLicense();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchIsValidLicense = () => {\n    this.setState({ loading: true });\n    isValidLicense().then(\n      ({ isValidLicense }) => {\n        if (this.mounted) {\n          this.setState({ isValidLicense, loading: false });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  render() {\n    const { currentTask } = this.props;\n    const { isValidLicense, loading } = this.state;\n\n    if (loading || !currentTask || !currentTask.errorType) {\n      return null;\n    }\n\n    if (isValidLicense && currentTask.errorType !== 'LICENSING_LOC') {\n      return (\n        <Alert display=\"banner\" variant=\"error\">\n          {translate('component_navigation.status.last_blocked_due_to_bad_license')}\n        </Alert>\n      );\n    }\n\n    return (\n      <Alert display=\"banner\" variant=\"error\">\n        <span className=\"little-spacer-right\">{currentTask.errorMessage}</span>\n        {this.props.appState.canAdmin ? (\n          <Link to=\"/admin/extension/license/app\">\n            {translate('license.component_navigation.button', currentTask.errorType)}.\n          </Link>\n        ) : (\n          translate('please_contact_administrator')\n        )}\n      </Alert>\n    );\n  }\n}\n\nexport default withAppState(ComponentNavLicenseNotif);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { FormattedMessage } from 'react-intl';\nimport ComponentNavLicenseNotif from './ComponentNavLicenseNotif';\nimport { STATUSES } from '../../../../apps/background-tasks/constants';\nimport { getComponentBackgroundTaskUrl } from '../../../../helpers/urls';\nimport { hasMessage, translate } from '../../../../helpers/l10n';\nimport { Alert } from '../../../../components/ui/Alert';\n\ninterface Props {\n  component: T.Component;\n  currentTask?: T.Task;\n  currentTaskOnSameBranch?: boolean;\n  isInProgress?: boolean;\n  isPending?: boolean;\n}\n\nexport default class ComponentNavBgTaskNotif extends React.PureComponent<Props> {\n  renderMessage(messageKey: string, status?: string, branch?: string) {\n    const { component } = this.props;\n    const canSeeBackgroundTasks =\n      component.configuration && component.configuration.showBackgroundTasks;\n\n    let url;\n    if (canSeeBackgroundTasks) {\n      messageKey += '.admin';\n      url = (\n        <Link to={getComponentBackgroundTaskUrl(component.key, status)}>\n          {translate('background_tasks.page')}\n        </Link>\n      );\n    }\n\n    return (\n      <FormattedMessage\n        defaultMessage={translate(messageKey)}\n        id={messageKey}\n        values={{ branch, url }}\n      />\n    );\n  }\n\n  render() {\n    const { currentTask, currentTaskOnSameBranch, isInProgress, isPending } = this.props;\n    if (isInProgress) {\n      return (\n        <Alert display=\"banner\" variant=\"info\">\n          {this.renderMessage('component_navigation.status.in_progress')}\n        </Alert>\n      );\n    } else if (isPending) {\n      return (\n        <Alert display=\"banner\" variant=\"info\">\n          {this.renderMessage('component_navigation.status.pending', STATUSES.ALL)}\n        </Alert>\n      );\n    } else if (currentTask && currentTask.status === STATUSES.FAILED) {\n      if (\n        currentTask.errorType &&\n        hasMessage('license.component_navigation.button', currentTask.errorType)\n      ) {\n        return <ComponentNavLicenseNotif currentTask={currentTask} />;\n      }\n      const branch =\n        currentTask.branch ||\n        `${currentTask.pullRequest}${\n          currentTask.pullRequestTitle ? ' - ' + currentTask.pullRequestTitle : ''\n        }`;\n      let message;\n      if (currentTaskOnSameBranch === false && branch) {\n        message = this.renderMessage(\n          'component_navigation.status.failed_branch',\n          undefined,\n          branch\n        );\n      } else {\n        message = this.renderMessage('component_navigation.status.failed');\n      }\n\n      return (\n        <Alert display=\"banner\" variant=\"error\">\n          {message}\n        </Alert>\n      );\n    }\n    return null;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ComponentNavHeader from './ComponentNavHeader';\nimport ComponentNavMeta from './ComponentNavMeta';\nimport ComponentNavMenu from './ComponentNavMenu';\nimport ComponentNavBgTaskNotif from './ComponentNavBgTaskNotif';\nimport RecentHistory from '../../RecentHistory';\nimport * as theme from '../../../theme';\nimport ContextNavBar from '../../../../components/nav/ContextNavBar';\nimport { STATUSES } from '../../../../apps/background-tasks/constants';\nimport './ComponentNav.css';\n\ninterface Props {\n  branchLikes: T.BranchLike[];\n  branchMeasures?: T.Measure[];\n  currentBranchLike: T.BranchLike | undefined;\n  component: T.Component;\n  currentTask?: T.Task;\n  currentTaskOnSameBranch?: boolean;\n  isInProgress?: boolean;\n  isPending?: boolean;\n  location: {};\n  warnings: string[];\n}\n\nexport default class ComponentNav extends React.PureComponent<Props> {\n  mounted = false;\n\n  componentDidMount() {\n    this.populateRecentHistory();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (this.props.component.key !== prevProps.component.key) {\n      this.populateRecentHistory();\n    }\n  }\n\n  populateRecentHistory = () => {\n    const { breadcrumbs } = this.props.component;\n    const { qualifier } = breadcrumbs[breadcrumbs.length - 1];\n    if (['TRK', 'VW', 'APP', 'DEV'].indexOf(qualifier) !== -1) {\n      RecentHistory.add(\n        this.props.component.key,\n        this.props.component.name,\n        qualifier.toLowerCase(),\n        this.props.component.organization\n      );\n    }\n  };\n\n  render() {\n    const { component, currentBranchLike, currentTask, isInProgress, isPending } = this.props;\n    let notifComponent;\n    if (isInProgress || isPending || (currentTask && currentTask.status === STATUSES.FAILED)) {\n      notifComponent = (\n        <ComponentNavBgTaskNotif\n          component={component}\n          currentTask={currentTask}\n          currentTaskOnSameBranch={this.props.currentTaskOnSameBranch}\n          isInProgress={isInProgress}\n          isPending={isPending}\n        />\n      );\n    }\n    return (\n      <ContextNavBar\n        height={notifComponent ? theme.contextNavHeightRaw + 30 : theme.contextNavHeightRaw}\n        id=\"context-navigation\"\n        notif={notifComponent}>\n        <div className=\"navbar-context-justified\">\n          <ComponentNavHeader\n            branchLikes={this.props.branchLikes}\n            component={component}\n            currentBranchLike={currentBranchLike}\n            // to close dropdown on any location change\n            location={this.props.location}\n          />\n          <ComponentNavMeta\n            branchLike={currentBranchLike}\n            branchMeasures={this.props.branchMeasures}\n            component={component}\n            warnings={this.props.warnings}\n          />\n        </div>\n        <ComponentNavMenu\n          branchLike={currentBranchLike}\n          component={component}\n          // to re-render selected menu item\n          location={this.props.location}\n        />\n      </ContextNavBar>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { differenceBy } from 'lodash';\nimport { ComponentContext } from './ComponentContext';\nimport ComponentContainerNotFound from './ComponentContainerNotFound';\nimport ComponentNav from './nav/component/ComponentNav';\nimport { getBranches, getPullRequests } from '../../api/branches';\nimport { getTasksForComponent, getAnalysisStatus } from '../../api/ce';\nimport { getComponentData } from '../../api/components';\nimport { getMeasures } from '../../api/measures';\nimport { getComponentNavigation } from '../../api/nav';\nimport { fetchOrganization, requireAuthorization } from '../../store/rootActions';\nimport { STATUSES } from '../../apps/background-tasks/constants';\nimport {\n  isPullRequest,\n  isBranch,\n  isMainBranch,\n  isLongLivingBranch,\n  isShortLivingBranch,\n  getBranchLikeQuery\n} from '../../helpers/branches';\nimport { isSonarCloud } from '../../helpers/system';\nimport { withRouter, Router, Location } from '../../components/hoc/withRouter';\n\ninterface Props {\n  children: React.ReactElement<any>;\n  fetchOrganization: (organization: string) => void;\n  location: Pick<Location, 'query'>;\n  requireAuthorization: (router: Pick<Router, 'replace'>) => void;\n  router: Pick<Router, 'replace'>;\n}\n\ninterface State {\n  branchLike?: T.BranchLike;\n  branchLikes: T.BranchLike[];\n  branchMeasures?: T.Measure[];\n  component?: T.Component;\n  currentTask?: T.Task;\n  isPending: boolean;\n  loading: boolean;\n  tasksInProgress?: T.Task[];\n  warnings: string[];\n}\n\nconst FETCH_STATUS_WAIT_TIME = 3000;\n\nexport class ComponentContainer extends React.PureComponent<Props, State> {\n  watchStatusTimer?: number;\n  mounted = false;\n  state: State = { branchLikes: [], isPending: false, loading: true, warnings: [] };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchComponent();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (\n      prevProps.location.query.id !== this.props.location.query.id ||\n      prevProps.location.query.branch !== this.props.location.query.branch ||\n      prevProps.location.query.pullRequest !== this.props.location.query.pullRequest\n    ) {\n      this.fetchComponent();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n    window.clearTimeout(this.watchStatusTimer);\n  }\n\n  addQualifier = (component: T.Component) => ({\n    ...component,\n    qualifier: component.breadcrumbs[component.breadcrumbs.length - 1].qualifier\n  });\n\n  fetchComponent() {\n    const { branch, id: key, pullRequest } = this.props.location.query;\n    this.setState({ loading: true });\n\n    const onError = (response?: Response) => {\n      if (this.mounted) {\n        if (response && response.status === 403) {\n          this.props.requireAuthorization(this.props.router);\n        } else {\n          this.setState({ component: undefined, loading: false });\n        }\n      }\n    };\n\n    Promise.all([\n      getComponentNavigation({ component: key, branch, pullRequest }),\n      getComponentData({ component: key, branch, pullRequest })\n    ])\n      .then(([nav, data]) => {\n        const component = this.addQualifier({ ...nav, ...data });\n\n        if (isSonarCloud()) {\n          this.props.fetchOrganization(component.organization);\n        }\n        return component;\n      })\n      .then(this.fetchBranches)\n      .then(this.fetchBranchMeasures)\n      .then(({ branchLike, branchLikes, component, branchMeasures }) => {\n        if (this.mounted) {\n          this.setState({\n            branchLike,\n            branchLikes,\n            branchMeasures,\n            component,\n            loading: false\n          });\n          this.fetchStatus(component);\n          this.fetchWarnings(component, branchLike);\n        }\n      })\n      .catch(onError);\n  }\n\n  fetchBranches = (\n    component: T.Component\n  ): Promise<{\n    branchLike?: T.BranchLike;\n    branchLikes: T.BranchLike[];\n    component: T.Component;\n  }> => {\n    const application = component.breadcrumbs.find(({ qualifier }) => qualifier === 'APP');\n    if (application) {\n      return getBranches(application.key).then(branchLikes => {\n        return {\n          branchLike: this.getCurrentBranchLike(branchLikes),\n          branchLikes,\n          component\n        };\n      });\n    }\n    const project = component.breadcrumbs.find(({ qualifier }) => qualifier === 'TRK');\n    if (project) {\n      return Promise.all([getBranches(project.key), getPullRequests(project.key)]).then(\n        ([branches, pullRequests]) => {\n          const branchLikes = [...branches, ...pullRequests];\n          const branchLike = this.getCurrentBranchLike(branchLikes);\n          return { branchLike, branchLikes, component };\n        }\n      );\n    }\n\n    return Promise.resolve({ branchLikes: [], component });\n  };\n\n  fetchBranchMeasures = ({\n    branchLike,\n    branchLikes,\n    component\n  }: {\n    branchLike: T.BranchLike;\n    branchLikes: T.BranchLike[];\n    component: T.Component;\n  }): Promise<{\n    branchLike?: T.BranchLike;\n    branchLikes: T.BranchLike[];\n    branchMeasures?: T.Measure[];\n    component: T.Component;\n  }> => {\n    const project = component.breadcrumbs.find(({ qualifier }) => qualifier === 'TRK');\n    if (project && (isShortLivingBranch(branchLike) || isPullRequest(branchLike))) {\n      return getMeasures({\n        component: project.key,\n        metricKeys: 'new_coverage,new_duplicated_lines_density',\n        ...getBranchLikeQuery(branchLike)\n      }).then(measures => {\n        return { branchLike, branchLikes, branchMeasures: measures, component };\n      });\n    }\n    return Promise.resolve({ branchLike, branchLikes, component });\n  };\n\n  fetchStatus = (component: T.Component) => {\n    getTasksForComponent(component.key).then(\n      ({ current, queue }) => {\n        if (this.mounted) {\n          let shouldFetchComponent = false;\n          this.setState(\n            ({ branchLike, component, currentTask, tasksInProgress }) => {\n              const newCurrentTask = this.getCurrentTask(current, branchLike);\n              const pendingTasks = this.getPendingTasks(queue, branchLike);\n              const newTasksInProgress = pendingTasks.filter(\n                task => task.status === STATUSES.IN_PROGRESS\n              );\n\n              const currentTaskChanged =\n                currentTask && newCurrentTask && currentTask.id !== newCurrentTask.id;\n              const progressChanged =\n                tasksInProgress &&\n                (newTasksInProgress.length !== tasksInProgress.length ||\n                  differenceBy(newTasksInProgress, tasksInProgress, 'id').length > 0);\n\n              shouldFetchComponent = Boolean(currentTaskChanged || progressChanged);\n              if (\n                !shouldFetchComponent &&\n                component &&\n                (newTasksInProgress.length > 0 || !component.analysisDate)\n              ) {\n                // Refresh the status as long as there is tasks in progress or no analysis\n                window.clearTimeout(this.watchStatusTimer);\n                this.watchStatusTimer = window.setTimeout(\n                  () => this.fetchStatus(component),\n                  FETCH_STATUS_WAIT_TIME\n                );\n              }\n\n              const isPending = pendingTasks.some(task => task.status === STATUSES.PENDING);\n              return {\n                currentTask: newCurrentTask,\n                isPending,\n                tasksInProgress: newTasksInProgress\n              };\n            },\n            () => {\n              if (shouldFetchComponent) {\n                this.fetchComponent();\n              }\n            }\n          );\n        }\n      },\n      () => {}\n    );\n  };\n\n  fetchWarnings = (component: T.Component, branchLike?: T.BranchLike) => {\n    if (component.qualifier === 'TRK') {\n      getAnalysisStatus({\n        component: component.key,\n        ...getBranchLikeQuery(branchLike)\n      }).then(\n        ({ component }) => {\n          this.setState({ warnings: component.warnings });\n        },\n        () => {}\n      );\n    }\n  };\n\n  getCurrentBranchLike = (branchLikes: T.BranchLike[]) => {\n    const { query } = this.props.location;\n    return query.pullRequest\n      ? branchLikes.find(b => isPullRequest(b) && b.key === query.pullRequest)\n      : branchLikes.find(b => isBranch(b) && (query.branch ? b.name === query.branch : b.isMain));\n  };\n\n  getCurrentTask = (current: T.Task, branchLike?: T.BranchLike) => {\n    if (!current) {\n      return undefined;\n    }\n\n    return current.status === STATUSES.FAILED || this.isSameBranch(current, branchLike)\n      ? current\n      : undefined;\n  };\n\n  getPendingTasks = (pendingTasks: T.Task[], branchLike?: T.BranchLike) => {\n    return pendingTasks.filter(task => this.isSameBranch(task, branchLike));\n  };\n\n  isSameBranch = (\n    task: Pick<T.Task, 'branch' | 'branchType' | 'pullRequest'>,\n    branchLike?: T.BranchLike\n  ) => {\n    if (branchLike && !isMainBranch(branchLike)) {\n      if (isPullRequest(branchLike)) {\n        return branchLike.key === task.pullRequest;\n      }\n      if (isShortLivingBranch(branchLike) || isLongLivingBranch(branchLike)) {\n        return branchLike.type === task.branchType && branchLike.name === task.branch;\n      }\n    }\n    return !task.branch && !task.pullRequest;\n  };\n\n  handleComponentChange = (changes: Partial<T.Component>) => {\n    if (this.mounted) {\n      this.setState(state => {\n        if (state.component) {\n          const newComponent: T.Component = { ...state.component, ...changes };\n          return { component: newComponent };\n        }\n        return null;\n      });\n    }\n  };\n\n  handleBranchesChange = () => {\n    if (this.mounted && this.state.component) {\n      this.fetchBranches(this.state.component)\n        .then(this.fetchBranchMeasures)\n        .then(\n          ({ branchLike, branchLikes, branchMeasures }) => {\n            if (this.mounted) {\n              this.setState({ branchLike, branchLikes, branchMeasures });\n            }\n          },\n          () => {}\n        );\n    }\n  };\n\n  render() {\n    const { component, loading } = this.state;\n\n    if (!loading && !component) {\n      return <ComponentContainerNotFound />;\n    }\n\n    const { branchLike, branchLikes, currentTask, isPending, tasksInProgress } = this.state;\n    const isInProgress = tasksInProgress && tasksInProgress.length > 0;\n\n    return (\n      <div>\n        {component &&\n          !['FIL', 'UTS'].includes(component.qualifier) && (\n            <ComponentNav\n              branchLikes={branchLikes}\n              branchMeasures={this.state.branchMeasures}\n              component={component}\n              currentBranchLike={branchLike}\n              currentTask={currentTask}\n              currentTaskOnSameBranch={currentTask && this.isSameBranch(currentTask, branchLike)}\n              isInProgress={isInProgress}\n              isPending={isPending}\n              location={this.props.location}\n              warnings={this.state.warnings}\n            />\n          )}\n        {loading ? (\n          <div className=\"page page-limited\">\n            <i className=\"spinner\" />\n          </div>\n        ) : (\n          <ComponentContext.Provider value={{ branchLike, component }}>\n            {React.cloneElement(this.props.children, {\n              branchLike,\n              branchLikes,\n              component,\n              isInProgress,\n              isPending,\n              onBranchesChange: this.handleBranchesChange,\n              onComponentChange: this.handleComponentChange\n            })}\n          </ComponentContext.Provider>\n        )}\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = { fetchOrganization, requireAuthorization };\n\nexport default withRouter(\n  connect(\n    null,\n    mapDispatchToProps\n  )(ComponentContainer)\n);\n","var toNumber = require('./toNumber');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\nmodule.exports = toFinite;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport HelpTooltip from '../controls/HelpTooltip';\nimport { lazyLoad } from '../lazyLoad';\n\nconst DocMarkdownBlock = lazyLoad(() => import('./DocMarkdownBlock'));\n\ninterface Props {\n  className?: string;\n  children?: React.ReactNode;\n  // Use as `import(/* webpackMode: \"eager\" */ 'Docs/tooltips/foo/bar.md')`\n  doc: Promise<{ default: string }>;\n  overlayProps?: { [k: string]: string };\n}\n\ninterface State {\n  content?: string;\n  open: boolean;\n}\n\nexport default class DocTooltip extends React.PureComponent<Props, State> {\n  state: State = { open: false };\n\n  componentDidMount() {\n    this.props.doc.then(\n      ({ default: content }) => {\n        this.setState({ content });\n      },\n      () => {}\n    );\n    document.addEventListener('scroll', this.close, true);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('scroll', this.close, true);\n  }\n\n  close = () => {\n    this.setState({ open: false });\n  };\n\n  render() {\n    return this.state.content ? (\n      <HelpTooltip\n        className={this.props.className}\n        overlay={\n          <div className=\"abs-width-300\">\n            <DocMarkdownBlock\n              childProps={this.props.overlayProps}\n              className=\"cut-margins\"\n              content={this.state.content}\n              isTooltip={true}\n            />\n          </div>\n        }>\n        {this.props.children}\n      </HelpTooltip>\n    ) : (\n      this.props.children || null\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\nimport * as theme from '../../app/theme';\n\nconst qualifierIcons: { [x: string]: (props: IconProps) => React.ReactElement<any> } = {\n  app: ApplicationIcon,\n  brc: SubProjectIcon,\n  dev: DeveloperIcon,\n  dir: DirectoryIcon,\n  fil: FileIcon,\n  svw: SubPortfolioIcon,\n  trk: ProjectIcon,\n  uts: UnitTestIcon,\n  vw: PortfolioIcon,\n\n  // deprecated:\n  cla: UnitTestIcon,\n  dev_prj: ProjectIcon,\n  lib: LibraryIcon,\n  pac: DirectoryIcon\n};\n\ninterface QualifierIconProps {\n  className?: string;\n  fill?: string;\n  qualifier: string | null | undefined;\n}\n\nexport default function QualifierIcon(props: QualifierIconProps) {\n  if (!props.qualifier) {\n    return null;\n  }\n\n  const qualifier = props.qualifier.toLowerCase();\n  const FoundIcon = qualifierIcons[qualifier];\n  return FoundIcon ? <FoundIcon className={props.className} fill={props.fill} /> : null;\n}\n\nfunction ApplicationIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M3.014 10.986a2 2 0 1 1-.001 4.001 2 2 0 0 1 .001-4.001zm9.984 0a2 2 0 1 1-.001 4.001 2 2 0 0 1 .001-4.001zm-5.004-.021c1.103 0 2 .896 2 2s-.897 2-2 2a2 2 0 0 1 0-4zm-4.98 1.021a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm9.984 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm-5.004-.021a1 1 0 1 1 0 2 1 1 0 0 1 0-2zM2.984 6a2 2 0 1 1-.001 4.001A2 2 0 0 1 2.984 6zm9.984 0a2 2 0 1 1-.001 4.001A2 2 0 0 1 12.968 6zm-5.004-.021c1.103 0 2 .897 2 2a2 2 0 1 1-2-2zM2.984 7a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm9.984 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm-5.004-.021a1.001 1.001 0 0 1 0 2 1 1 0 0 1 0-2zM3 1.025a2 2 0 1 1-.001 4.001A2 2 0 0 1 3 1.025zm9.984 0a2 2 0 1 1-.001 4.001 2 2 0 0 1 .001-4.001zM7.98 1.004c1.103 0 2 .896 2 2s-.897 2-2 2a2 2 0 0 1 0-4zM3 2.025a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm9.984 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zM7.98 2.004a1.001 1.001 0 0 1 0 2 1 1 0 0 1 0-2z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction DeveloperIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M7.974 8.02a3.5 3.5 0 0 1-2.482-1.017 3.428 3.428 0 0 1-1.028-2.455c0-.927.365-1.8 1.028-2.455a3.505 3.505 0 0 1 2.482-1.017 3.5 3.5 0 0 1 2.482 1.017 3.434 3.434 0 0 1 1.027 2.455c0 .928-.365 1.8-1.027 2.455A3.504 3.504 0 0 1 7.974 8.02zm0-5.778c-1.286 0-2.332 1.034-2.332 2.306s1.046 2.307 2.332 2.307c1.285 0 2.332-1.035 2.332-2.307S9.258 2.242 7.974 2.242zm3.534 6.418c.127.016.243.045.348.086.17.066.302.146.406.246.132.124.253.282.36.47.126.218.226.442.3.668.08.253.15.535.206.838.056.313.095.604.113.867.02.28.03.57.03.862 0 .532-.174.758-.306.882-.142.132-.397.31-.973.31H3.948c-.233 0-.437-.03-.606-.09-.14-.05-.26-.123-.366-.222-.13-.123-.306-.35-.306-.88 0-.294.01-.584.03-.863.018-.263.056-.554.112-.867a6.5 6.5 0 0 1 .207-.838c.073-.226.173-.45.298-.667.108-.19.23-.347.36-.47.106-.1.238-.18.407-.247.105-.04.22-.07.348-.086.202.13.432.277.683.435.342.217.756.4 1.265.564.523.166 1.06.25 1.59.25a5.25 5.25 0 0 0 1.592-.25c.51-.164.923-.348 1.266-.565.25-.158.48-.304.682-.435l-.002.002zm-.244-1.18c-.055 0-.184.066-.387.196-.202.13-.43.276-.685.437-.255.16-.586.307-.994.437-.408.13-.818.196-1.23.196-.41 0-.82-.065-1.228-.196a4.303 4.303 0 0 1-.993-.437c-.255-.16-.484-.306-.686-.437-.202-.13-.33-.196-.386-.196-.374 0-.716.06-1.026.183-.31.12-.572.283-.787.487a3.28 3.28 0 0 0-.57.737 4.662 4.662 0 0 0-.395.888c-.098.303-.18.633-.244.988a9.652 9.652 0 0 0-.128.992c-.02.306-.032.62-.032.942 0 .73.224 1.304.672 1.726.448.42 1.043.632 1.785.632h8.044c.743 0 1.34-.21 1.787-.633.447-.42.67-.996.67-1.725 0-.32-.01-.635-.03-.942a9.159 9.159 0 0 0-.374-1.98c-.098-.304-.23-.6-.395-.888a3.23 3.23 0 0 0-.57-.737 2.404 2.404 0 0 0-.788-.487 2.779 2.779 0 0 0-1.026-.183h-.004z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction DirectoryIcon({ className, fill = theme.orange, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14 12.286V5.703a.673.673 0 0 0-.195-.5.644.644 0 0 0-.49-.203H6.704a.686.686 0 0 1-.5-.214.707.707 0 0 1-.203-.51v-.57c0-.2-.07-.363-.207-.502A.679.679 0 0 0 5.29 3H2.707a.672.672 0 0 0-.5.204.683.683 0 0 0-.206.5v8.582c0 .2.07.367.206.506.137.14.304.208.5.208h10.61a.66.66 0 0 0 .49-.208.685.685 0 0 0 .194-.506H14zm1-6.598v6.65c0 .458-.152.83-.475 1.16-.324.326-.7.502-1.15.502H2.647c-.452 0-.84-.175-1.162-.503a1.572 1.572 0 0 1-.486-1.158V3.654a1.6 1.6 0 0 1 .486-1.17A1.578 1.578 0 0 1 2.648 2h2.7c.45 0 .84.157 1.164.485.324.328.488.714.488 1.17V4h6.373c.452 0 .83.174 1.152.5.323.33.475.73.475 1.187v.001z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction FileIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14 15H2V1l7.997.02c1 .034 1.759.758 2.428 1.42.667.663 1.561 1.605 1.574 2.555H14V15zM9 2H3v12h10V6H9V2zm3 10H4v-1h8v1zm0-2H4V9h8v1zm-1.988-5h3.008c-.012-.674-.714-1.443-1.204-1.937-.488-.495-1.039-1.058-1.816-1.055v2.96l.012.032z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction LibraryIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M1 13h4V3H1v10zm3-1H2v-2h2v2zM2 4h2v4H2V4zm4 9h4V3H6v10zm3-1H7v-2h2v2zM7 4h2v4H7V4zm4 9h4V3h-4v10zm3-1h-2v-2h2v2zm-2-8h2v4h-2V4z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction PortfolioIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14.97 14.97H1.016V1.015H14.97V14.97zm-1-12.955H2.015V13.97H13.97V2.015zm-.973 10.982H9V9h3.997v3.997zM7 12.996H3.004V9H7v3.996zM11.997 10H10v1.997h1.997V10zM6 10H4.004v1.996H6V10zm1-3H3.006V3.006H7V7zm5.985 0H9V3.015h3.985V7zM6 4.006H4.006V6H6V4.006zm5.985.009H10V6h1.985V4.015z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction ProjectIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14.985 13.988L1 14.005 1.02 5h13.966v8.988h-.001zM1.998 5.995l.006 7.02L14.022 13 14 6.004l-12.002-.01v.001zM3 4.5V4h9.996l.004.5h1l-.005-1.497-11.98.003L2 4.5h1zm1-2v-.504h8.002L12 2.5h1l-.004-1.495H3.003L3 2.5h1z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction SubPortfolioIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14 7h2v9H7v-2H0V0h14v7zM8 8v7h7V8H8zm3 6H9v-2h2v2zm3 0h-2v-2h2v2zm-1-7V1H1v12h6V7h6zm-7 5H2V8h4v4zm5-1H9V9h2v2zm3 0h-2V9h2v2zM5 9H3v2h2V9zm1-3H2V2h4v4zm6 0H8V2h4v4zM5 3H3v2h2V3zm6 0H9v2h2V3z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction SubProjectIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M8 9V8h6v1h1v1h1v6H6v-6h1V9h1zm7 2H7v4h8v-4zm-1-7v3h-1V5H1v7h4v1H0V4h14zm-1-2v1.5h-1V3H2v.5H1V2h12zm-1-2v1.5h-1V1H3v.5H2V0h10z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction UnitTestIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14 15H2V1l7.997.02c1.013-.03 1.57.893 2.239 1.555.667.663 1.75 1.47 1.763 2.42H14V15zM9 2H3v12h10V6H9V2zM7 8l-3 2.5L7 13V8zm1 5l3-2.5L8 8v5zm2.012-8h3.008c-.012-.674-.78-1.258-1.27-1.752-.488-.495-.973-1.243-1.75-1.24v2.96l.012.032z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * The base implementation of `_.inRange` which doesn't coerce arguments.\n *\n * @private\n * @param {number} number The number to check.\n * @param {number} start The start of the range.\n * @param {number} end The end of the range.\n * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n */\nfunction baseInRange(number, start, end) {\n  return number >= nativeMin(start, end) && number < nativeMax(start, end);\n}\n\nmodule.exports = baseInRange;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DateSource, FormattedDate } from 'react-intl';\nimport { parseDate } from '../../helpers/dates';\n\ninterface Props {\n  children?: (formattedDate: string) => React.ReactNode;\n  date: DateSource;\n}\n\nexport const formatterOption = {\n  year: 'numeric',\n  month: 'long',\n  day: 'numeric',\n  hour: 'numeric',\n  minute: 'numeric'\n};\n\nexport default function DateTimeFormatter({ children, date }: Props) {\n  return (\n    <FormattedDate value={parseDate(date)} {...formatterOption}>\n      {children}\n    </FormattedDate>\n  );\n}\n","var baseInRange = require('./_baseInRange'),\n    toFinite = require('./toFinite'),\n    toNumber = require('./toNumber');\n\n/**\n * Checks if `n` is between `start` and up to, but not including, `end`. If\n * `end` is not specified, it's set to `start` with `start` then set to `0`.\n * If `start` is greater than `end` the params are swapped to support\n * negative ranges.\n *\n * @static\n * @memberOf _\n * @since 3.3.0\n * @category Number\n * @param {number} number The number to check.\n * @param {number} [start=0] The start of the range.\n * @param {number} end The end of the range.\n * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n * @see _.range, _.rangeRight\n * @example\n *\n * _.inRange(3, 2, 4);\n * // => true\n *\n * _.inRange(4, 8);\n * // => true\n *\n * _.inRange(4, 2);\n * // => false\n *\n * _.inRange(2, 2);\n * // => false\n *\n * _.inRange(1.2, 2);\n * // => true\n *\n * _.inRange(5.2, 4);\n * // => false\n *\n * _.inRange(-3, -2, -6);\n * // => true\n */\nfunction inRange(number, start, end) {\n  start = toFinite(start);\n  if (end === undefined) {\n    end = start;\n    start = 0;\n  } else {\n    end = toFinite(end);\n  }\n  number = toNumber(number);\n  return baseInRange(number, start, end);\n}\n\nmodule.exports = inRange;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { isLoggedIn } from './users';\n\nexport function hasAdvancedALMIntegration(user: T.CurrentUser) {\n  return (\n    isLoggedIn(user) && (isBitbucket(user.externalProvider) || isGithub(user.externalProvider))\n  );\n}\n\nexport function isBitbucket(almKey?: string) {\n  return almKey && almKey.startsWith('bitbucket');\n}\n\nexport function isGithub(almKey?: string) {\n  return almKey === 'github';\n}\n\nexport function isVSTS(almKey?: string) {\n  return almKey === 'microsoft';\n}\n\nexport function isPersonal(organization?: T.AlmOrganization) {\n  return Boolean(organization && organization.personal);\n}\n\nexport function sanitizeAlmId(almKey?: string) {\n  if (isBitbucket(almKey)) {\n    return 'bitbucket';\n  }\n  return almKey;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { translate, translateWithParameters } from './l10n';\nimport { parseDate } from './dates';\n\nfunction getPeriod<T extends T.Period | T.PeriodMeasure>(periods: T[] | undefined, index: number) {\n  if (!Array.isArray(periods)) {\n    return undefined;\n  }\n  return periods.find(period => period.index === index);\n}\n\nexport function getLeakPeriod<T extends T.Period | T.PeriodMeasure>(periods: T[] | undefined) {\n  return getPeriod(periods, 1);\n}\n\nexport function getPeriodLabel(\n  period: T.Period | undefined,\n  dateFormatter: (date: string) => string\n) {\n  if (!period) {\n    return undefined;\n  }\n\n  let parameter = period.modeParam || period.parameter;\n  if (period.mode === 'previous_version' && !parameter) {\n    return translate('overview.period.previous_version_only_date');\n  }\n\n  if (period.mode === 'date' && parameter) {\n    parameter = dateFormatter(parameter);\n  }\n\n  return translateWithParameters(`overview.period.${period.mode}`, parameter || '');\n}\n\nexport function getPeriodDate(period?: { date?: string }): Date | undefined {\n  return period && period.date ? parseDate(period.date) : undefined;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getRatingTooltip as nextGetRatingTooltip, isDiffMetric } from '../../helpers/measures';\nimport { getLeakPeriod } from '../../helpers/periods';\n\nconst KNOWN_RATINGS = ['sqale_rating', 'reliability_rating', 'security_rating'];\n\nexport function enhanceMeasure(\n  measure: T.Measure,\n  metrics: { [key: string]: T.Metric }\n): T.MeasureEnhanced {\n  return {\n    ...measure,\n    metric: metrics[measure.metric],\n    leak: getLeakValue(measure)\n  };\n}\n\nexport function getLeakValue(measure: T.Measure | undefined): string | undefined {\n  if (!measure || !measure.periods) {\n    return undefined;\n  }\n  const period = getLeakPeriod(measure.periods);\n  return period && period.value;\n}\n\nexport function getRatingTooltip(metricKey: string, value: number): string | undefined {\n  const finalMetricKey = isDiffMetric(metricKey) ? metricKey.substr(4) : metricKey;\n  if (KNOWN_RATINGS.includes(finalMetricKey)) {\n    return nextGetRatingTooltip(finalMetricKey, value);\n  }\n  return undefined;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function DetachIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M12 9.25v2.5A2.25 2.25 0 0 1 9.75 14h-6.5A2.25 2.25 0 0 1 1 11.75v-6.5A2.25 2.25 0 0 1 3.25 3h5.5c.14 0 .25.11.25.25v.5c0 .14-.11.25-.25.25h-5.5C2.562 4 2 4.563 2 5.25v6.5c0 .688.563 1.25 1.25 1.25h6.5c.688 0 1.25-.563 1.25-1.25v-2.5c0-.14.11-.25.25-.25h.5c.14 0 .25.11.25.25zm3-6.75v4c0 .273-.227.5-.5.5a.497.497 0 0 1-.352-.148l-1.375-1.375L7.68 10.57a.27.27 0 0 1-.18.078.27.27 0 0 1-.18-.078l-.89-.89a.27.27 0 0 1-.078-.18.27.27 0 0 1 .078-.18l5.093-5.093-1.375-1.375A.497.497 0 0 1 10 2.5c0-.273.227-.5.5-.5h4c.273 0 .5.227.5.5z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { lazyLoad } from '../lazyLoad';\nimport * as theme from '../../app/theme';\n\nconst DonutChart = lazyLoad(() => import('../charts/DonutChart'));\n\nconst SIZE_TO_WIDTH_MAPPING = { small: 16, normal: 24, big: 40, huge: 60 };\n\nconst SIZE_TO_THICKNESS_MAPPING = { small: 2, normal: 3, big: 3, huge: 4 };\n\ninterface Props {\n  muted?: boolean;\n  size?: 'small' | 'normal' | 'big' | 'huge';\n  value: number | string | null | undefined;\n}\n\nexport default function CoverageRating({ muted = false, size = 'normal', value }: Props) {\n  let data = [{ value: 100, fill: '#ccc ' }];\n\n  if (value != null) {\n    const numberValue = Number(value);\n    data = [\n      { value: numberValue, fill: muted ? theme.gray71 : theme.green },\n      { value: 100 - numberValue, fill: muted ? theme.barBackgroundColor : theme.red }\n    ];\n  }\n\n  const width = SIZE_TO_WIDTH_MAPPING[size];\n  const thickness = SIZE_TO_THICKNESS_MAPPING[size];\n\n  return <DonutChart data={data} height={width} thickness={thickness} width={width} />;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { inRange } from 'lodash';\nimport './DuplicationsRating.css';\n\ninterface Props {\n  muted?: boolean;\n  size?: 'small' | 'normal' | 'big' | 'huge';\n  value: number | null | undefined;\n}\n\nexport default function DuplicationsRating({ muted = false, size = 'normal', value }: Props) {\n  const className = classNames('duplications-rating', {\n    'duplications-rating-small': size === 'small',\n    'duplications-rating-big': size === 'big',\n    'duplications-rating-huge': size === 'huge',\n    'duplications-rating-muted': muted || value == null || isNaN(value),\n    'duplications-rating-A': inRange(value || 0, 0, 3),\n    'duplications-rating-B': inRange(value || 0, 3, 5),\n    'duplications-rating-C': inRange(value || 0, 5, 10),\n    'duplications-rating-D': inRange(value || 0, 10, 20),\n    'duplications-rating-E': (value || 0) >= 20\n  });\n\n  return <div className={className} />;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { Query } from './utils';\n\nexport const STATUSES = {\n  ALL: '__ALL__',\n  ALL_EXCEPT_PENDING: '__ALL_EXCEPT_PENDING__',\n  PENDING: 'PENDING',\n  IN_PROGRESS: 'IN_PROGRESS',\n  SUCCESS: 'SUCCESS',\n  FAILED: 'FAILED',\n  CANCELED: 'CANCELED'\n};\n\nexport const ALL_TYPES = 'ALL_TYPES';\n\nexport const CURRENTS = {\n  ALL: '__ALL__',\n  ONLY_CURRENTS: 'CURRENTS'\n};\n\nexport const DATE = {\n  ANY: 'ANY',\n  TODAY: 'TODAY',\n  CUSTOM: 'CUSTOM'\n};\n\nexport const DEFAULT_FILTERS: Query = {\n  status: STATUSES.ALL_EXCEPT_PENDING,\n  taskType: ALL_TYPES,\n  currents: CURRENTS.ALL,\n  minSubmittedAt: undefined,\n  maxExecutedAt: undefined,\n  query: ''\n};\n\nexport const DATE_FORMAT = 'YYYY-MM-DD';\n\nexport const DEBOUNCE_DELAY = 250;\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./DuplicationsRating.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./DuplicationsRating.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./DuplicationsRating.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * SonarQube\\n * Copyright (C) 2009-2019 SonarSource SA\\n * mailto:info AT sonarsource DOT com\\n *\\n * This program is free software; you can redistribute it and/or\\n * modify it under the terms of the GNU Lesser General Public\\n * License as published by the Free Software Foundation; either\\n * version 3 of the License, or (at your option) any later version.\\n *\\n * This program is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\\n * Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with this program; if not, write to the Free Software Foundation,\\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\\n */\\n.duplications-rating {\\n  position: relative;\\n  display: inline-flex;\\n  vertical-align: top;\\n  justify-content: center;\\n  align-items: center;\\n  width: 24px;\\n  height: 24px;\\n  border: 3px solid #ed7d20;\\n  border-radius: 24px;\\n  box-sizing: border-box;\\n}\\n\\n.duplications-rating-small {\\n  width: 16px;\\n  height: 16px;\\n  border-width: 2px;\\n}\\n\\n.duplications-rating-big {\\n  width: 40px;\\n  height: 40px;\\n  border-width: 3px;\\n}\\n\\n.duplications-rating-huge {\\n  width: 60px;\\n  height: 60px;\\n  border-width: 4px;\\n  border-radius: 30px;\\n}\\n\\n.duplications-rating-muted {\\n  border-color: #bdbdbd !important;\\n}\\n\\n.duplications-rating-muted:after {\\n  background-color: #bdbdbd !important;\\n}\\n\\n.duplications-rating:after {\\n  border-radius: 24px;\\n  content: '';\\n}\\n\\n.duplications-rating-A {\\n  border-color: #00aa00;\\n}\\n\\n.duplications-rating-A:after {\\n  display: none;\\n}\\n\\n.duplications-rating-B {\\n  border-color: #b0d513;\\n}\\n\\n.duplications-rating-B:after {\\n  width: 6px;\\n  height: 6px;\\n  background-color: #b0d513;\\n}\\n\\n.duplications-rating-small.duplications-rating-B:after {\\n  width: 2px;\\n  height: 2px;\\n}\\n\\n.duplications-rating-big.duplications-rating-B:after {\\n  width: 12px;\\n  height: 12px;\\n}\\n\\n.duplications-rating-huge.duplications-rating-B:after {\\n  width: 18px;\\n  height: 18px;\\n}\\n\\n.duplications-rating-C {\\n  border-color: #eabe06;\\n}\\n\\n.duplications-rating-C:after {\\n  width: 8px;\\n  height: 8px;\\n  background-color: #eabe06;\\n}\\n\\n.duplications-rating-small.duplications-rating-C:after {\\n  width: 6px;\\n  height: 6px;\\n}\\n\\n.duplications-rating-big.duplications-rating-C:after {\\n  width: 16px;\\n  height: 16px;\\n}\\n\\n.duplications-rating-huge.duplications-rating-C:after {\\n  width: 24px;\\n  height: 24px;\\n}\\n\\n.duplications-rating-D {\\n  border-color: #ed7d20;\\n}\\n\\n.duplications-rating-D:after {\\n  width: 12px;\\n  height: 12px;\\n  background-color: #ed7d20;\\n}\\n\\n.duplications-rating-small.duplications-rating-D:after {\\n  width: 8px;\\n  height: 8px;\\n}\\n\\n.duplications-rating-big.duplications-rating-D:after {\\n  width: 24px;\\n  height: 24px;\\n}\\n\\n.duplications-rating-huge.duplications-rating-D:after {\\n  width: 36px;\\n  height: 36px;\\n}\\n\\n.duplications-rating-E {\\n  border-color: #d4333f;\\n}\\n\\n.duplications-rating-E:after {\\n  width: 14px;\\n  height: 14px;\\n  background-color: #d4333f;\\n}\\n\\n.duplications-rating-small.duplications-rating-E:after {\\n  width: 10px;\\n  height: 10px;\\n}\\n\\n.duplications-rating-big.duplications-rating-E:after {\\n  width: 28px;\\n  height: 28px;\\n}\\n\\n.duplications-rating-huge.duplications-rating-E:after {\\n  width: 42px;\\n  height: 42px;\\n}\\n\", \"\"]);\n\n// exports\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { Store, getAppState } from '../store/rootReducer';\n\nexport function withAppState<P>(\n  WrappedComponent: React.ComponentClass<P & { appState: Partial<T.AppState> }>\n) {\n  const wrappedDisplayName = WrappedComponent.displayName || WrappedComponent.name || 'Component';\n\n  class Wrapper extends React.Component<P & { appState: T.AppState }> {\n    static displayName = `withAppState(${wrappedDisplayName})`;\n\n    render() {\n      return <WrappedComponent {...this.props} />;\n    }\n  }\n\n  function mapStateToProps(state: Store) {\n    return { appState: getAppState(state) };\n  }\n\n  return connect(mapStateToProps)(Wrapper);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport Icon, { IconProps } from './Icon';\nimport * as theme from '../../app/theme';\n\nexport interface Props extends IconProps {\n  favorite: boolean;\n}\n\nexport default function FavoriteIcon({ className, favorite, fill = theme.orange, size }: Props) {\n  return (\n    <Icon\n      className={classNames('icon-outline', { 'is-filled': favorite }, className)}\n      size={size}\n      style={{ color: fill }}>\n      <g transform=\"matrix(0.988024,0,0,0.988024,0.0957953,0.717719)\">\n        <path d=\"M15.428,5.777C15.428,5.908 15.35,6.051 15.195,6.205L11.954,9.366L12.722,13.83C12.728,13.872 12.731,13.932 12.731,14.009C12.731,14.134 12.7,14.24 12.637,14.326C12.575,14.412 12.484,14.455 12.365,14.455C12.252,14.455 12.133,14.42 12.008,14.348L7.999,12.241L3.99,14.348C3.859,14.42 3.74,14.455 3.633,14.455C3.508,14.455 3.414,14.412 3.352,14.326C3.289,14.24 3.258,14.134 3.258,14.009C3.258,13.973 3.264,13.914 3.276,13.83L4.044,9.366L0.794,6.205C0.645,6.045 0.57,5.902 0.57,5.777C0.57,5.557 0.737,5.42 1.07,5.366L5.552,4.714L7.561,0.652C7.674,0.408 7.82,0.286 7.999,0.286C8.177,0.286 8.323,0.408 8.436,0.652L10.445,4.714L14.927,5.366C15.261,5.42 15.427,5.557 15.427,5.777L15.428,5.777Z\" />\n      </g>\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post, RequestData } from '../helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport function getAnalysisStatus(data: {\n  component: string;\n  branch?: string;\n  pullRequest?: string;\n}): Promise<{\n  component: {\n    branch?: string;\n    key: string;\n    name: string;\n    organization?: string;\n    pullRequest?: string;\n    warnings: string[];\n  };\n}> {\n  return getJSON('/api/ce/analysis_status', data).catch(throwGlobalError);\n}\n\nexport function getActivity(data: RequestData): Promise<{ tasks: T.Task[] }> {\n  return getJSON('/api/ce/activity', data);\n}\n\nexport function getStatus(\n  componentId?: string\n): Promise<{ failing: number; inProgress: number; pending: number }> {\n  const data = {};\n  if (componentId) {\n    Object.assign(data, { componentId });\n  }\n  return getJSON('/api/ce/activity_status', data);\n}\n\nexport function getTask(id: string, additionalFields?: string[]): Promise<T.Task> {\n  return getJSON('/api/ce/task', { id, additionalFields }).then(r => r.task);\n}\n\nexport function cancelTask(id: string): Promise<any> {\n  return post('/api/ce/cancel', { id }).then(() => getTask(id), () => getTask(id));\n}\n\nexport function cancelAllTasks(): Promise<any> {\n  return post('/api/ce/cancel_all');\n}\n\nexport function getTasksForComponent(\n  component: string\n): Promise<{ queue: T.Task[]; current: T.Task }> {\n  return getJSON('/api/ce/component', { component }).catch(throwGlobalError);\n}\n\nexport function getTypes(): Promise<string[]> {\n  return getJSON('/api/ce/task_types').then(r => r.taskTypes);\n}\n\nexport function getWorkers(): Promise<{ canSetWorkerCount: boolean; value: number }> {\n  return getJSON('/api/ce/worker_count').catch(throwGlobalError);\n}\n\nexport function setWorkerCount(count: number): Promise<void | Response> {\n  return post('/api/ce/set_worker_count', { count }).catch(throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON } from '../helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport function getGlobalNavigation(): Promise<T.AppState> {\n  return getJSON('/api/navigation/global');\n}\n\nexport function getComponentNavigation(\n  data: { component: string } & T.BranchParameters\n): Promise<any> {\n  return getJSON('/api/navigation/component', data).catch(throwGlobalError);\n}\n\nexport function getMarketplaceNavigation(): Promise<{ serverId: string; ncloc: number }> {\n  return getJSON('/api/navigation/marketplace').catch(throwGlobalError);\n}\n\nexport function getSettingsNavigation(): Promise<any> {\n  return getJSON('/api/navigation/settings').catch(throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport Icon, { IconProps } from './Icon';\nimport * as theme from '../../app/theme';\n\nexport interface Props extends IconProps {\n  filled?: boolean;\n}\n\nexport default function HomeIcon({ className, fill = theme.orange, filled = false, size }: Props) {\n  return (\n    <Icon\n      className={classNames(className, 'icon-outline', { 'is-filled': filled })}\n      size={size}\n      style={{ color: fill }}>\n      <g transform=\"matrix(0.870918,0,0,0.870918,0.978227,0.978227)\">\n        <path d=\"M15.9,7.8L8.2,0.1C8.1,0 7.9,0 7.8,0.1L0.1,7.8C0,7.9 0,8.1 0.1,8.2C0.2,8.3 0.2,8.3 0.3,8.3L2.2,8.3L2.2,15.8C2.2,15.9 2.2,15.9 2.3,16C2.3,16 2.4,16.1 2.5,16.1L6.2,16.1C6.3,16.1 6.5,16 6.5,15.8L6.5,10.5L9.7,10.5L9.7,15.8C9.7,15.9 9.8,16.1 10,16.1L13.7,16.1C13.8,16.1 14,16 14,15.8L14,8.2L15.9,8.2C16,8.2 16,8.2 16.1,8.1C16,8 16.1,7.9 15.9,7.8Z\" />\n      </g>\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { connect } from 'react-redux';\nimport Tooltip from './Tooltip';\nimport HomeIcon from '../icons-components/HomeIcon';\nimport { translate } from '../../helpers/l10n';\nimport { getCurrentUser, Store } from '../../store/rootReducer';\nimport { setHomePage } from '../../store/users';\nimport { isLoggedIn } from '../../helpers/users';\n\ninterface StateProps {\n  currentUser: T.CurrentUser;\n}\n\ninterface DispatchProps {\n  setHomePage: (homepage: T.HomePage) => void;\n}\n\ninterface Props extends StateProps, DispatchProps {\n  className?: string;\n  currentPage: T.HomePage;\n}\n\nclass HomePageSelect extends React.PureComponent<Props> {\n  handleClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.setHomePage(this.props.currentPage);\n  };\n\n  render() {\n    const { currentPage, currentUser } = this.props;\n\n    if (!isLoggedIn(currentUser)) {\n      return null;\n    }\n\n    const { homepage } = currentUser;\n    const checked = homepage !== undefined && isSameHomePage(homepage, currentPage);\n    const tooltip = checked ? translate('homepage.current') : translate('homepage.check');\n\n    return (\n      <Tooltip overlay={tooltip}>\n        {checked ? (\n          <span className={classNames('display-inline-block', this.props.className)}>\n            <HomeIcon filled={checked} />\n          </span>\n        ) : (\n          <a\n            className={classNames(\n              'link-no-underline',\n              'display-inline-block',\n              this.props.className\n            )}\n            href=\"#\"\n            onClick={this.handleClick}>\n            <HomeIcon filled={checked} />\n          </a>\n        )}\n      </Tooltip>\n    );\n  }\n}\n\nconst mapStateToProps = (state: Store): StateProps => ({\n  currentUser: getCurrentUser(state)\n});\n\nconst mapDispatchToProps: DispatchProps = { setHomePage };\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(HomePageSelect);\n\nfunction isSameHomePage(a: T.HomePage, b: T.HomePage) {\n  return (\n    a.type === b.type &&\n    (a as any).branch === (b as any).branch &&\n    (a as any).component === (b as any).component &&\n    (a as any).organization === (b as any).organization\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport Tooltip from './Tooltip';\nimport FavoriteIcon from '../icons-components/FavoriteIcon';\nimport { translate } from '../../helpers/l10n';\n\nexport interface Props {\n  addFavorite: () => Promise<void>;\n  className?: string;\n  favorite: boolean;\n  qualifier: string;\n  removeFavorite: () => Promise<void>;\n}\n\ninterface State {\n  favorite: boolean;\n}\n\nexport default class FavoriteBase extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = { favorite: this.props.favorite };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    if (nextProps.favorite !== this.props.favorite || nextProps.favorite !== this.state.favorite) {\n      this.setState({ favorite: nextProps.favorite });\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  toggleFavorite = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    if (this.state.favorite) {\n      this.removeFavorite();\n    } else {\n      this.addFavorite();\n    }\n  };\n\n  addFavorite() {\n    this.props.addFavorite().then(\n      () => {\n        if (this.mounted) {\n          this.setState({ favorite: true });\n        }\n      },\n      () => {}\n    );\n  }\n\n  removeFavorite() {\n    this.props.removeFavorite().then(\n      () => {\n        if (this.mounted) {\n          this.setState({ favorite: false });\n        }\n      },\n      () => {}\n    );\n  }\n\n  render() {\n    const tooltip = this.state.favorite\n      ? translate('favorite.current', this.props.qualifier)\n      : translate('favorite.check', this.props.qualifier);\n    return (\n      <Tooltip overlay={tooltip}>\n        <a\n          className={classNames('display-inline-block', 'link-no-underline', this.props.className)}\n          href=\"#\"\n          onClick={this.toggleFavorite}>\n          <FavoriteIcon favorite={this.state.favorite} />\n        </a>\n      </Tooltip>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport FavoriteBase from './FavoriteBase';\nimport { addFavorite, removeFavorite } from '../../api/favorites';\n\ninterface Props {\n  className?: string;\n  component: string;\n  favorite: boolean;\n  qualifier: string;\n}\n\nexport default function Favorite({ component, ...other }: Props) {\n  return (\n    <FavoriteBase\n      {...other}\n      addFavorite={() => addFavorite(component)}\n      removeFavorite={() => removeFavorite(component)}\n    />\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { post, getJSON } from '../helpers/request';\n\nexport function getFavorites(): Promise<any> {\n  return getJSON('/api/favorites/search');\n}\n\nexport function addFavorite(component: string): Promise<void> {\n  return post('/api/favorites/add', { component });\n}\n\nexport function removeFavorite(component: string): Promise<void> {\n  return post('/api/favorites/remove', { component });\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Helmet from 'react-helmet';\n\ninterface Props {\n  organization?: { name: string };\n  title: string;\n}\n\nexport default function OrganizationHelmet({ title, organization }: Props) {\n  const defaultTitle = title + (organization ? ' - ' + organization.name : '');\n  return <Helmet defaultTitle={defaultTitle} titleTemplate={'%s - ' + defaultTitle} />;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\nimport * as theme from '../../app/theme';\n\nexport default function WarningIcon({ className, fill = theme.warningIconColor, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M9 12.242v-1.484c0-.14-.11-.258-.25-.258h-1.5c-.14 0-.25.117-.25.258v1.484c0 .14.11.258.25.258h1.5c.14 0 .25-.117.25-.258zM8.984 9.32l.141-3.586a.189.189 0 0 0-.078-.148C9 5.546 8.93 5.5 8.859 5.5H7.141c-.07 0-.141.047-.188.086-.055.039-.078.117-.078.164l.133 3.57c0 .102.117.18.265.18H8.72c.14 0 .258-.078.265-.18zm-.109-7.297l6 11A1 1 0 0 1 14 14.5H2a1 1 0 0 1-.875-1.477l6-11a.994.994 0 0 1 1.75 0z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n"],"sourceRoot":""}