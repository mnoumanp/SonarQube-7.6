{"version":3,"sources":["webpack:///./src/main/js/apps/code/code.css?1940","webpack:///./src/main/js/apps/code/code.css","webpack:///./src/main/js/apps/code/components/Truncated.tsx","webpack:///./src/main/js/apps/code/components/ComponentName.tsx","webpack:///./src/main/js/apps/code/components/ComponentMeasure.tsx","webpack:///./src/main/js/components/icons-components/PinIcon.tsx","webpack:///./src/main/js/apps/code/components/ComponentPin.tsx","webpack:///./src/main/js/apps/code/components/Component.tsx","webpack:///./src/main/js/apps/code/components/ComponentsEmpty.tsx","webpack:///./src/main/js/apps/code/components/ComponentsHeader.tsx","webpack:///./src/main/js/apps/code/bucket.ts","webpack:///./src/main/js/apps/code/utils.ts","webpack:///./src/main/js/apps/code/components/Components.tsx","webpack:///./src/main/js/apps/code/components/Breadcrumbs.tsx","webpack:///./src/main/js/apps/code/components/Search.tsx","webpack:///./src/main/js/apps/code/components/SourceViewerWrapper.tsx","webpack:///./src/main/js/apps/code/components/App.tsx","webpack:///./src/main/js/app/components/embed-docs-modal/Suggestions.tsx","webpack:///./src/main/js/components/icons-components/QualifierIcon.tsx","webpack:///./src/main/js/components/controls/ListFooter.tsx","webpack:///./src/main/js/components/ui/Rating.tsx","webpack:///./src/main/js/components/ui/Level.tsx","webpack:///./src/main/js/components/ui/Level.css?5a2b","webpack:///./src/main/js/components/ui/Level.css","webpack:///./src/main/js/components/ui/Rating.css?38ca","webpack:///./src/main/js/components/ui/Rating.css","webpack:///./src/main/js/helpers/periods.ts","webpack:///./src/main/js/components/measure/Measure.tsx","webpack:///./src/main/js/components/measure/utils.ts","webpack:///./src/main/js/components/icons-components/LongLivingBranchIcon.tsx","webpack:///./src/main/js/components/SourceViewer/SourceViewer.tsx"],"names":["content","__webpack_require__","module","i","options","hmr","transform","insertInto","undefined","locals","exports","push","Truncated","_a","children","title","index_js_exposed","className","getTooltip","component","qualifier","path","key","name","ComponentName","props","branchLike","rootComponent","previous","canBrowse","prefix","strings","sortedStrings","slice","sort","firstString","firstStringLength","length","lastString","charAt","substr","prefixTokens","split","lastPrefixPart","mostCommitPrefix","style","color","theme","inner","refKey","branch","react_router_es","to","pathname","query","__assign","id","QualifierIcon","Object","branches","assign","selected","LongLivingBranchIcon","l10n","ComponentMeasure","metric","isProject","isReleasability","finalMetricKey","finalMetricType","type","measure","Array","isArray","measures","find","value","utils","Measure","metricKey","metricType","PinIcon","_b","fill","size","Icon","d","_super","ComponentPin","_this","apply","this","arguments","handleClick","event","preventDefault","currentTarget","blur","openComponent","__extends","prototype","render","href","onClick","Component","Component_extends","componentDidMount","handleUpdate","componentDidUpdate","setTimeout","handleScroll","node","position","getBoundingClientRect","top","bottom","window","innerHeight","scrollTo","pageYOffset","isLeak","metrics","_c","isFile","classnames","ref","context","Consumer","components_ComponentPin","map","leak","ComponentsEmpty","colSpan","SHORT_NAME_METRICS","ComponentsHeader","baseComponent","columns","includes","column","index","code-components-cell","bucket","childrenBucket","breadcrumbsBucket","addComponent","addComponentChildren","componentKey","total","page","getComponentChildren","concat","addComponentBreadcrumbs","breadcrumbs","getComponentBreadcrumbs","METRICS","APPLICATION_METRICS","PORTFOLIO_METRICS","LEAK_METRICS","PAGE_SIZE","prepareChildren","r","components","paging","pageIndex","showLeakMeasure","skipRootDir","filter","storeChildrenBase","forEach","storeChildrenBreadcrumbs","parentComponentKey","parentBreadcrumbs","child","getCodeMetrics","retrieveComponentBase","existing","getComponent","Promise","resolve","api_components","utils_assign","metricKeys","join","then","retrieveComponentChildren","ps","s","retrieveComponentBreadcrumbs","Components","types","Boolean","components_Component","list","Breadcrumbs","Search_Search","Search","mounted","state","loading","handleKeyDown","keyCode","handleSelectCurrent","handleSelectPrevious","handleSelectNext","handleSearch","setState","qualifiers","Search_assign","q","results","selectedIndex","catch","handleQueryChange","Search_extends","componentWillReceiveProps","nextProps","location","componentWillUnmount","router","urls","containerClassName","code-search-with-results","isPortfolio","SearchBox","minLength","onChange","onKeyDown","placeholder","components_Search","withRouter","SourceViewerWrapper","line","finalLine","Number","SourceViewer","aroundLine","highlightedLine","onLoaded","row","document","querySelector","scrolling","smooth","bottomOffset","App_App","App","handleLoadMore","p","loadMoreChildren","stopLoading","App_extends","fetchMetrics","handleComponentChange","prevProps","loadComponent","all","retrieveComponent","sourceViewer","searchResults","finalKey","shouldShowBreadcrumbs","componentsClassName","new-loading","defaultTitle","Suggestions","suggestions","Helmet_default","a","ListFooter","count","loadMore","mapDispatchToProps","rootActions","__webpack_exports__","es","rootReducer","react__WEBPACK_IMPORTED_MODULE_0__","_SuggestionsContext__WEBPACK_IMPORTED_MODULE_1__","addSuggestions","removeSuggestions","SuggestionsInner","_Icon__WEBPACK_IMPORTED_MODULE_1__","_app_theme__WEBPACK_IMPORTED_MODULE_2__","qualifierIcons","app","brc","dev","dir","DirectoryIcon","fil","svw","trk","ProjectIcon","uts","UnitTestIcon","vw","cla","dev_prj","lib","pac","toLowerCase","FoundIcon","ready","__rest","hasMore","loadMoreLink","_helpers_l10n__WEBPACK_IMPORTED_MODULE_3__","classnames__WEBPACK_IMPORTED_MODULE_1__","_helpers_measures__WEBPACK_IMPORTED_MODULE_4__","_common_DeferredSpinner__WEBPACK_IMPORTED_MODULE_2__","Rating","_helpers_measures__WEBPACK_IMPORTED_MODULE_2__","muted","small","formatted","rating-small","rating-muted","Level","level","level-small","level-muted","getLeakPeriod","getPeriodLabel","getPeriodDate","_l10n__WEBPACK_IMPORTED_MODULE_0__","_dates__WEBPACK_IMPORTED_MODULE_1__","periods","period","getPeriod","dateFormatter","parameter","modeParam","mode","date","_utils__WEBPACK_IMPORTED_MODULE_1__","_ui_Rating__WEBPACK_IMPORTED_MODULE_2__","_ui_Level__WEBPACK_IMPORTED_MODULE_3__","_controls_Tooltip__WEBPACK_IMPORTED_MODULE_4__","_helpers_measures__WEBPACK_IMPORTED_MODULE_5__","decimals","formattedValue","tooltip","rating","overlay","KNOWN_RATINGS","enhanceMeasure","getLeakValue","_helpers_periods__WEBPACK_IMPORTED_MODULE_1__","getRatingTooltip","_helpers_measures__WEBPACK_IMPORTED_MODULE_0__","_lazyLoad__WEBPACK_IMPORTED_MODULE_0__","e","bind"],"mappings":"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","file":"js/291.1548064679481.chunk.js","sourcesContent":["\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./code.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./code.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./code.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * SonarQube\\n * Copyright (C) 2009-2019 SonarSource SA\\n * mailto:info AT sonarsource DOT com\\n *\\n * This program is free software; you can redistribute it and/or\\n * modify it under the terms of the GNU Lesser General Public\\n * License as published by the Free Software Foundation; either\\n * version 3 of the License, or (at your option) any later version.\\n *\\n * This program is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\\n * Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with this program; if not, write to the Free Software Foundation,\\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\\n */\\n.code-breadcrumbs {\\n  display: flex;\\n  flex-wrap: wrap;\\n}\\n\\n.code-breadcrumbs > li {\\n  padding: 5px 5px 3px;\\n}\\n\\n.code-breadcrumbs > li:first-child {\\n  padding-left: 0;\\n}\\n\\n.code-breadcrumbs > li::after {\\n  position: relative;\\n  top: -1px;\\n  padding-left: 10px;\\n  color: #777;\\n  font-size: 11px;\\n  content: '>';\\n}\\n\\n.code-breadcrumbs > li:last-child::after {\\n  display: none;\\n}\\n\\n.code-components-cell {\\n  min-width: 80px;\\n  padding-left: 30px !important;\\n  box-sizing: border-box;\\n}\\n\\n.code-truncated {\\n  display: inline-block;\\n  vertical-align: text-top;\\n  max-width: 50vw;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n}\\n\\n.code-name-cell {\\n  max-width: 0;\\n}\\n\\n.code-name-cell .code-truncated {\\n  max-width: 100%;\\n}\\n\\n.code-search {\\n  margin-bottom: 10px;\\n}\\n\\n.code-search-with-results + .code-components {\\n  display: none;\\n}\\n\\n.code-components-header {\\n  position: -webkit-sticky;\\n  position: sticky;\\n  top: 95px;\\n  background-color: rgba(255, 255, 255, 0.9);\\n}\\n\", \"\"]);\n\n// exports\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\n\ninterface Props {\n  children: React.ReactNode;\n  title: string;\n}\n\nexport default function Truncated({ children, title }: Props) {\n  return (\n    <span className=\"code-truncated\" title={title}>\n      {children}\n    </span>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport Truncated from './Truncated';\nimport * as theme from '../../../app/theme';\nimport QualifierIcon from '../../../components/icons-components/QualifierIcon';\nimport { getBranchLikeQuery } from '../../../helpers/branches';\nimport LongLivingBranchIcon from '../../../components/icons-components/LongLivingBranchIcon';\nimport { translate } from '../../../helpers/l10n';\n\nfunction getTooltip(component: T.ComponentMeasure) {\n  const isFile = component.qualifier === 'FIL' || component.qualifier === 'UTS';\n  if (isFile && component.path) {\n    return component.path + '\\n\\n' + component.key;\n  } else {\n    return component.name + '\\n\\n' + component.key;\n  }\n}\n\nfunction mostCommitPrefix(strings: string[]) {\n  const sortedStrings = strings.slice(0).sort();\n  const firstString = sortedStrings[0];\n  const firstStringLength = firstString.length;\n  const lastString = sortedStrings[sortedStrings.length - 1];\n  let i = 0;\n  while (i < firstStringLength && firstString.charAt(i) === lastString.charAt(i)) {\n    i++;\n  }\n  const prefix = firstString.substr(0, i);\n  const prefixTokens = prefix.split(/[\\s\\\\/]/);\n  const lastPrefixPart = prefixTokens[prefixTokens.length - 1];\n  return prefix.substr(0, prefix.length - lastPrefixPart.length);\n}\n\ninterface Props {\n  branchLike?: T.BranchLike;\n  canBrowse?: boolean;\n  component: T.ComponentMeasure;\n  previous?: T.ComponentMeasure;\n  rootComponent: T.ComponentMeasure;\n}\n\nexport default function ComponentName(props: Props) {\n  const { branchLike, component, rootComponent, previous, canBrowse = false } = props;\n  const areBothDirs = component.qualifier === 'DIR' && previous && previous.qualifier === 'DIR';\n  const prefix =\n    areBothDirs && previous !== undefined\n      ? mostCommitPrefix([component.name + '/', previous.name + '/'])\n      : '';\n  const name = prefix ? (\n    <span>\n      <span style={{ color: theme.secondFontColor }}>{prefix}</span>\n      <span>{component.name.substr(prefix.length)}</span>\n    </span>\n  ) : (\n    component.name\n  );\n\n  let inner = null;\n\n  if (component.refKey && component.qualifier !== 'SVW') {\n    const branch = rootComponent.qualifier === 'APP' ? { branch: component.branch } : {};\n    inner = (\n      <Link\n        className=\"link-with-icon\"\n        to={{ pathname: '/dashboard', query: { id: component.refKey, ...branch } }}>\n        <QualifierIcon qualifier={component.qualifier} /> <span>{name}</span>\n      </Link>\n    );\n  } else if (canBrowse) {\n    const query = { id: rootComponent.key, ...getBranchLikeQuery(branchLike) };\n    if (component.key !== rootComponent.key) {\n      Object.assign(query, { selected: component.key });\n    }\n    inner = (\n      <Link className=\"link-with-icon\" to={{ pathname: '/code', query }}>\n        <QualifierIcon qualifier={component.qualifier} /> <span>{name}</span>\n      </Link>\n    );\n  } else {\n    inner = (\n      <span>\n        <QualifierIcon qualifier={component.qualifier} /> {name}\n      </span>\n    );\n  }\n\n  if (rootComponent.qualifier === 'APP') {\n    inner = (\n      <>\n        {inner}\n        {component.branch ? (\n          <>\n            <LongLivingBranchIcon className=\"spacer-left little-spacer-right\" />\n            <span className=\"note\">{component.branch}</span>\n          </>\n        ) : (\n          <span className=\"spacer-left outline-badge\">{translate('branches.main_branch')}</span>\n        )}\n      </>\n    );\n  }\n\n  return <Truncated title={getTooltip(component)}>{inner}</Truncated>;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Measure from '../../../components/measure/Measure';\nimport { isDiffMetric } from '../../../helpers/measures';\nimport { getLeakValue } from '../../../components/measure/utils';\n\ninterface Props {\n  component: T.ComponentMeasure;\n  metric: T.Metric;\n}\n\nexport default function ComponentMeasure({ component, metric }: Props) {\n  const isProject = component.qualifier === 'TRK';\n  const isReleasability = metric.key === 'releasability_rating';\n\n  const finalMetricKey = isProject && isReleasability ? 'alert_status' : metric.key;\n  const finalMetricType = isProject && isReleasability ? 'LEVEL' : metric.type;\n\n  const measure =\n    Array.isArray(component.measures) &&\n    component.measures.find(measure => measure.metric === finalMetricKey);\n\n  if (!measure) {\n    return <span />;\n  }\n\n  const value = isDiffMetric(metric.key) ? getLeakValue(measure) : measure.value;\n  return <Measure metricKey={finalMetricKey} metricType={finalMetricType} value={value} />;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function PinIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M7.25 7.25v-3.5a.243.243 0 0 0-.07-.18A.243.243 0 0 0 7 3.5a.243.243 0 0 0-.18.07.243.243 0 0 0-.07.18v3.5c0 .073.023.133.07.18.047.047.107.07.18.07a.243.243 0 0 0 .18-.07.243.243 0 0 0 .07-.18zM12.5 10a.482.482 0 0 1-.148.352.482.482 0 0 1-.352.148H8.648l-.398 3.773a.29.29 0 0 1-.082.161.219.219 0 0 1-.16.066H8c-.141 0-.224-.07-.25-.211L7.156 10.5H4a.482.482 0 0 1-.352-.148A.482.482 0 0 1 3.5 10c0-.641.204-1.217.613-1.73.409-.513.871-.77 1.387-.77v-4a.96.96 0 0 1-.703-.297A.96.96 0 0 1 4.5 2.5a.96.96 0 0 1 .297-.703A.96.96 0 0 1 5.5 1.5h5a.96.96 0 0 1 .703.297.96.96 0 0 1 .297.703.96.96 0 0 1-.297.703.96.96 0 0 1-.703.297v4c.516 0 .978.257 1.387.77.409.513.613 1.089.613 1.73z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport PinIcon from '../../../components/icons-components/PinIcon';\nimport { WorkspaceContextShape } from '../../../components/workspace/context';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  branchLike?: T.BranchLike;\n  component: T.ComponentMeasure;\n  openComponent: WorkspaceContextShape['openComponent'];\n}\n\nexport default class ComponentPin extends React.PureComponent<Props> {\n  handleClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.openComponent({\n      branchLike: this.props.branchLike,\n      key: this.props.component.key,\n      name: this.props.component.path,\n      qualifier: this.props.component.qualifier\n    });\n  };\n\n  render() {\n    return (\n      <a\n        className=\"link-no-underline\"\n        href=\"#\"\n        onClick={this.handleClick}\n        title={translate('component_viewer.open_in_workspace')}>\n        <PinIcon />\n      </a>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport ComponentName from './ComponentName';\nimport ComponentMeasure from './ComponentMeasure';\nimport ComponentPin from './ComponentPin';\nimport { WorkspaceContext } from '../../../components/workspace/context';\n\nconst TOP_OFFSET = 200;\nconst BOTTOM_OFFSET = 10;\n\ninterface Props {\n  branchLike?: T.BranchLike;\n  canBrowse?: boolean;\n  component: T.ComponentMeasure;\n  isLeak: boolean;\n  metrics: T.Metric[];\n  previous?: T.ComponentMeasure;\n  rootComponent: T.ComponentMeasure;\n  selected?: boolean;\n}\n\nexport default class Component extends React.PureComponent<Props> {\n  node?: HTMLElement | null;\n\n  componentDidMount() {\n    this.handleUpdate();\n  }\n\n  componentDidUpdate() {\n    this.handleUpdate();\n  }\n\n  handleUpdate() {\n    const { selected } = this.props;\n\n    // scroll viewport so the current selected component is visible\n    if (selected) {\n      setTimeout(() => {\n        this.handleScroll();\n      }, 0);\n    }\n  }\n\n  handleScroll() {\n    if (this.node) {\n      const position = this.node.getBoundingClientRect();\n      const { top, bottom } = position;\n      if (bottom > window.innerHeight - BOTTOM_OFFSET) {\n        window.scrollTo(0, bottom - window.innerHeight + window.pageYOffset + BOTTOM_OFFSET);\n      } else if (top < TOP_OFFSET) {\n        window.scrollTo(0, top + window.pageYOffset - TOP_OFFSET);\n      }\n    }\n  }\n\n  render() {\n    const {\n      branchLike,\n      canBrowse = false,\n      component,\n      isLeak,\n      metrics,\n      previous,\n      rootComponent,\n      selected = false\n    } = this.props;\n\n    const isFile = component.qualifier === 'FIL' || component.qualifier === 'UTS';\n\n    return (\n      <tr className={classNames({ selected })} ref={node => (this.node = node)}>\n        <td className=\"blank\" />\n        <td className=\"thin nowrap\">\n          <span className=\"spacer-right\">\n            {isFile && (\n              <WorkspaceContext.Consumer>\n                {({ openComponent }) => (\n                  <ComponentPin\n                    branchLike={branchLike}\n                    component={component}\n                    openComponent={openComponent}\n                  />\n                )}\n              </WorkspaceContext.Consumer>\n            )}\n          </span>\n        </td>\n        <td className=\"code-name-cell\">\n          <ComponentName\n            branchLike={branchLike}\n            canBrowse={canBrowse}\n            component={component}\n            previous={previous}\n            rootComponent={rootComponent}\n          />\n        </td>\n\n        {metrics.map(metric => (\n          <td className={classNames('thin nowrap text-right', { leak: isLeak })} key={metric.key}>\n            <div className=\"code-components-cell\">\n              <ComponentMeasure component={component} metric={metric} />\n            </div>\n          </td>\n        ))}\n        <td className={classNames('blank', { leak: isLeak })} />\n      </tr>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { translate } from '../../../helpers/l10n';\n\nexport default function ComponentsEmpty({ isLeak }: { isLeak: boolean }) {\n  return (\n    <tr>\n      <td />\n      <td className=\"note\" colSpan={2}>\n        {translate('no_results')}\n      </td>\n      <td className={classNames({ leak: isLeak })} colSpan={10} />\n    </tr>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  baseComponent?: T.ComponentMeasure;\n  isLeak: boolean;\n  metrics: string[];\n  rootComponent: T.ComponentMeasure;\n}\n\nconst SHORT_NAME_METRICS = [\n  'duplicated_lines_density',\n  'new_lines',\n  'new_coverage',\n  'new_duplicated_lines_density'\n];\n\nexport default function ComponentsHeader({ baseComponent, isLeak, metrics, rootComponent }: Props) {\n  const isPortfolio = ['VW', 'SVW'].includes(rootComponent.qualifier);\n  let columns: string[] = [];\n  if (isPortfolio) {\n    columns = [\n      translate('metric_domain.Releasability'),\n      translate('metric_domain.Reliability'),\n      translate('metric_domain.Security'),\n      translate('metric_domain.Maintainability'),\n      translate('metric', 'ncloc', 'name')\n    ];\n  } else {\n    columns = metrics.map(metric =>\n      translate('metric', metric, SHORT_NAME_METRICS.includes(metric) ? 'short_name' : 'name')\n    );\n  }\n\n  return (\n    <thead>\n      <tr className=\"code-components-header\">\n        <th className=\"thin nowrap\" colSpan={2} />\n        <th />\n        {baseComponent &&\n          columns.map((column, index) => (\n            <th\n              className={classNames('thin', 'nowrap', 'text-right', {\n                'code-components-cell': index > 0,\n                leak: isLeak\n              })}\n              key={column}>\n              {column}\n            </th>\n          ))}\n        <th className={classNames({ leak: isLeak })} />\n      </tr>\n    </thead>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nlet bucket: { [key: string]: T.ComponentMeasure } = {};\nlet childrenBucket: {\n  [key: string]: {\n    children: T.ComponentMeasure[];\n    page: number;\n    total: number;\n  };\n} = {};\nlet breadcrumbsBucket: { [key: string]: T.Breadcrumb[] } = {};\n\nexport function addComponent(component: T.ComponentMeasure): void {\n  bucket[component.key] = component;\n}\n\nexport function getComponent(componentKey: string): T.ComponentMeasure {\n  return bucket[componentKey];\n}\n\nexport function addComponentChildren(\n  componentKey: string,\n  children: T.ComponentMeasure[],\n  total: number,\n  page: number\n): void {\n  const previous = getComponentChildren(componentKey);\n  if (previous) {\n    children = [...previous.children, ...children];\n  }\n  childrenBucket[componentKey] = { children, total, page };\n}\n\nexport function getComponentChildren(\n  componentKey: string\n): {\n  children: T.ComponentMeasure[];\n  page: number;\n  total: number;\n} {\n  return childrenBucket[componentKey];\n}\n\nexport function addComponentBreadcrumbs(componentKey: string, breadcrumbs: T.Breadcrumb[]): void {\n  breadcrumbsBucket[componentKey] = breadcrumbs;\n}\n\nexport function getComponentBreadcrumbs(componentKey: string): T.Breadcrumb[] {\n  return breadcrumbsBucket[componentKey];\n}\n\nexport function clearBucket(): void {\n  bucket = {};\n  childrenBucket = {};\n  breadcrumbsBucket = {};\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport {\n  addComponent,\n  getComponent as getComponentFromBucket,\n  addComponentChildren,\n  getComponentChildren,\n  addComponentBreadcrumbs,\n  getComponentBreadcrumbs\n} from './bucket';\nimport { getChildren, getComponent, getBreadcrumbs } from '../../api/components';\nimport { getBranchLikeQuery, isShortLivingBranch, isPullRequest } from '../../helpers/branches';\n\nconst METRICS = [\n  'ncloc',\n  'bugs',\n  'vulnerabilities',\n  'code_smells',\n  'coverage',\n  'duplicated_lines_density'\n];\n\nconst APPLICATION_METRICS = ['alert_status', ...METRICS];\n\nconst PORTFOLIO_METRICS = [\n  'releasability_rating',\n  'reliability_rating',\n  'security_rating',\n  'sqale_rating',\n  'ncloc'\n];\n\nconst LEAK_METRICS = [\n  'new_lines',\n  'bugs',\n  'vulnerabilities',\n  'code_smells',\n  'new_coverage',\n  'new_duplicated_lines_density'\n];\n\nconst PAGE_SIZE = 100;\n\ninterface Children {\n  components: T.ComponentMeasure[];\n  page: number;\n  total: number;\n}\n\nfunction prepareChildren(r: any): Children {\n  return {\n    components: r.components,\n    total: r.paging.total,\n    page: r.paging.pageIndex\n  };\n}\n\nexport function showLeakMeasure(branchLike?: T.BranchLike) {\n  return isShortLivingBranch(branchLike) || isPullRequest(branchLike);\n}\n\nfunction skipRootDir(breadcrumbs: T.ComponentMeasure[]) {\n  return breadcrumbs.filter(component => {\n    return !(component.qualifier === 'DIR' && component.name === '/');\n  });\n}\n\nfunction storeChildrenBase(children: T.ComponentMeasure[]) {\n  children.forEach(addComponent);\n}\n\nfunction storeChildrenBreadcrumbs(parentComponentKey: string, children: T.Breadcrumb[]) {\n  const parentBreadcrumbs = getComponentBreadcrumbs(parentComponentKey);\n  if (parentBreadcrumbs) {\n    children.forEach(child => {\n      const breadcrumbs = [...parentBreadcrumbs, child];\n      addComponentBreadcrumbs(child.key, breadcrumbs);\n    });\n  }\n}\n\nexport function getCodeMetrics(qualifier: string, branchLike?: T.BranchLike) {\n  if (['VW', 'SVW'].includes(qualifier)) {\n    return [...PORTFOLIO_METRICS];\n  }\n  if (qualifier === 'APP') {\n    return [...APPLICATION_METRICS];\n  }\n  if (showLeakMeasure(branchLike)) {\n    return [...LEAK_METRICS];\n  }\n  return [...METRICS];\n}\n\nfunction retrieveComponentBase(componentKey: string, qualifier: string, branchLike?: T.BranchLike) {\n  const existing = getComponentFromBucket(componentKey);\n  if (existing) {\n    return Promise.resolve(existing);\n  }\n\n  const metrics = getCodeMetrics(qualifier, branchLike);\n\n  return getComponent({\n    component: componentKey,\n    metricKeys: metrics.join(),\n    ...getBranchLikeQuery(branchLike)\n  }).then(component => {\n    addComponent(component);\n    return component;\n  });\n}\n\nexport function retrieveComponentChildren(\n  componentKey: string,\n  qualifier: string,\n  branchLike?: T.BranchLike\n): Promise<{ components: T.ComponentMeasure[]; page: number; total: number }> {\n  const existing = getComponentChildren(componentKey);\n  if (existing) {\n    return Promise.resolve({\n      components: existing.children,\n      total: existing.total,\n      page: existing.page\n    });\n  }\n\n  const metrics = getCodeMetrics(qualifier, branchLike);\n  if (['VW', 'SVW'].includes(qualifier)) {\n    metrics.push('alert_status');\n  }\n\n  return getChildren(componentKey, metrics, {\n    ps: PAGE_SIZE,\n    s: 'qualifier,name',\n    ...getBranchLikeQuery(branchLike)\n  })\n    .then(prepareChildren)\n    .then(r => {\n      addComponentChildren(componentKey, r.components, r.total, r.page);\n      storeChildrenBase(r.components);\n      storeChildrenBreadcrumbs(componentKey, r.components);\n      return r;\n    });\n}\n\nfunction retrieveComponentBreadcrumbs(\n  component: string,\n  branchLike?: T.BranchLike\n): Promise<T.Breadcrumb[]> {\n  const existing = getComponentBreadcrumbs(component);\n  if (existing) {\n    return Promise.resolve(existing);\n  }\n\n  return getBreadcrumbs({ component, ...getBranchLikeQuery(branchLike) })\n    .then(skipRootDir)\n    .then(breadcrumbs => {\n      addComponentBreadcrumbs(component, breadcrumbs);\n      return breadcrumbs;\n    });\n}\n\nexport function retrieveComponent(\n  componentKey: string,\n  qualifier: string,\n  branchLike?: T.BranchLike\n): Promise<{\n  breadcrumbs: T.Breadcrumb[];\n  component: T.ComponentMeasure;\n  components: T.ComponentMeasure[];\n  page: number;\n  total: number;\n}> {\n  return Promise.all([\n    retrieveComponentBase(componentKey, qualifier, branchLike),\n    retrieveComponentChildren(componentKey, qualifier, branchLike),\n    retrieveComponentBreadcrumbs(componentKey, branchLike)\n  ]).then(r => {\n    return {\n      breadcrumbs: r[2],\n      component: r[0],\n      components: r[1].components,\n      page: r[1].page,\n      total: r[1].total\n    };\n  });\n}\n\nexport function loadMoreChildren(\n  componentKey: string,\n  page: number,\n  qualifier: string,\n  branchLike?: T.BranchLike\n): Promise<Children> {\n  const metrics = getCodeMetrics(qualifier, branchLike);\n\n  return getChildren(componentKey, metrics, {\n    ps: PAGE_SIZE,\n    p: page,\n    ...getBranchLikeQuery(branchLike)\n  })\n    .then(prepareChildren)\n    .then(r => {\n      addComponentChildren(componentKey, r.components, r.total, r.page);\n      storeChildrenBase(r.components);\n      storeChildrenBreadcrumbs(componentKey, r.components);\n      return r;\n    });\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport Component from './Component';\nimport ComponentsEmpty from './ComponentsEmpty';\nimport ComponentsHeader from './ComponentsHeader';\nimport { isDefined } from '../../../helpers/types';\nimport { getCodeMetrics, showLeakMeasure } from '../utils';\n\ninterface Props {\n  baseComponent?: T.ComponentMeasure;\n  branchLike?: T.BranchLike;\n  components: T.ComponentMeasure[];\n  metrics: { [metric: string]: T.Metric };\n  rootComponent: T.ComponentMeasure;\n  selected?: T.ComponentMeasure;\n}\n\nexport default function Components(props: Props) {\n  const { baseComponent, branchLike, components, rootComponent, selected } = props;\n  const metricKeys = getCodeMetrics(rootComponent.qualifier, branchLike);\n  const metrics = metricKeys.map(metric => props.metrics[metric]).filter(isDefined);\n  const isLeak = Boolean(baseComponent && showLeakMeasure(branchLike));\n  return (\n    <table className=\"data boxed-padding zebra\">\n      {baseComponent && (\n        <ComponentsHeader\n          baseComponent={baseComponent}\n          isLeak={isLeak}\n          metrics={metricKeys}\n          rootComponent={rootComponent}\n        />\n      )}\n      {baseComponent && (\n        <tbody>\n          <Component\n            branchLike={branchLike}\n            component={baseComponent}\n            isLeak={isLeak}\n            key={baseComponent.key}\n            metrics={metrics}\n            rootComponent={rootComponent}\n          />\n          <tr className=\"blank\">\n            <td colSpan={3}>&nbsp;</td>\n            <td className={classNames({ leak: isLeak })} colSpan={10}>\n              {' '}\n              &nbsp;{' '}\n            </td>\n          </tr>\n        </tbody>\n      )}\n      <tbody>\n        {components.length ? (\n          components.map((component, index, list) => (\n            <Component\n              branchLike={branchLike}\n              canBrowse={true}\n              component={component}\n              isLeak={isLeak}\n              key={component.key}\n              metrics={metrics}\n              previous={index > 0 ? list[index - 1] : undefined}\n              rootComponent={rootComponent}\n              selected={component === selected}\n            />\n          ))\n        ) : (\n          <ComponentsEmpty isLeak={isLeak} />\n        )}\n\n        <tr className=\"blank\">\n          <td colSpan={3} />\n          <td className={classNames({ leak: isLeak })} colSpan={10} />\n        </tr>\n      </tbody>\n    </table>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ComponentName from './ComponentName';\n\ninterface Props {\n  branchLike?: T.BranchLike;\n  breadcrumbs: T.Breadcrumb[];\n  rootComponent: T.ComponentMeasure;\n}\n\nexport default function Breadcrumbs({ branchLike, breadcrumbs, rootComponent }: Props) {\n  return (\n    <ul className=\"code-breadcrumbs\">\n      {breadcrumbs.map((component, index) => (\n        <li key={component.key}>\n          <ComponentName\n            branchLike={branchLike}\n            canBrowse={index < breadcrumbs.length - 1}\n            component={component}\n            rootComponent={rootComponent}\n          />\n        </li>\n      ))}\n    </ul>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport Components from './Components';\nimport { getTree } from '../../../api/components';\nimport SearchBox from '../../../components/controls/SearchBox';\nimport { getBranchLikeQuery } from '../../../helpers/branches';\nimport { translate } from '../../../helpers/l10n';\nimport { getProjectUrl } from '../../../helpers/urls';\nimport { withRouter, Router, Location } from '../../../components/hoc/withRouter';\n\ninterface Props {\n  branchLike?: T.BranchLike;\n  component: T.ComponentMeasure;\n  location: Location;\n  router: Pick<Router, 'push'>;\n}\n\ninterface State {\n  query: string;\n  loading: boolean;\n  results?: T.ComponentMeasure[];\n  selectedIndex?: number;\n}\n\nclass Search extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = {\n    query: '',\n    loading: false\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    // if the url has change, reset the current state\n    if (nextProps.location !== this.props.location) {\n      this.setState({\n        query: '',\n        loading: false,\n        results: undefined,\n        selectedIndex: undefined\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleSelectNext() {\n    const { selectedIndex, results } = this.state;\n    if (results && selectedIndex !== undefined && selectedIndex < results.length - 1) {\n      this.setState({ selectedIndex: selectedIndex + 1 });\n    }\n  }\n\n  handleSelectPrevious() {\n    const { selectedIndex, results } = this.state;\n    if (results && selectedIndex !== undefined && selectedIndex > 0) {\n      this.setState({ selectedIndex: selectedIndex - 1 });\n    }\n  }\n\n  handleSelectCurrent() {\n    const { branchLike, component } = this.props;\n    const { results, selectedIndex } = this.state;\n    if (results && selectedIndex !== undefined) {\n      const selected = results[selectedIndex];\n\n      if (selected.refKey) {\n        this.props.router.push(getProjectUrl(selected.refKey));\n      } else {\n        this.props.router.push({\n          pathname: '/code',\n          query: { id: component.key, selected: selected.key, ...getBranchLikeQuery(branchLike) }\n        });\n      }\n    }\n  }\n\n  handleKeyDown = (event: React.KeyboardEvent<HTMLInputElement>) => {\n    switch (event.keyCode) {\n      case 13:\n        event.preventDefault();\n        this.handleSelectCurrent();\n        break;\n      case 38:\n        event.preventDefault();\n        this.handleSelectPrevious();\n        break;\n      case 40:\n        event.preventDefault();\n        this.handleSelectNext();\n        break;\n      default: // do nothing\n    }\n  };\n\n  handleSearch = (query: string) => {\n    if (this.mounted) {\n      const { branchLike, component } = this.props;\n      this.setState({ loading: true });\n\n      const isPortfolio = ['VW', 'SVW', 'APP'].includes(component.qualifier);\n      const qualifiers = isPortfolio ? 'SVW,TRK' : 'BRC,UTS,FIL';\n\n      getTree({\n        component: component.key,\n        q: query,\n        s: 'qualifier,name',\n        qualifiers,\n        ...getBranchLikeQuery(branchLike)\n      })\n        .then(r => {\n          if (this.mounted) {\n            this.setState({\n              results: r.components,\n              selectedIndex: r.components.length > 0 ? 0 : undefined,\n              loading: false\n            });\n          }\n        })\n        .catch(() => {\n          if (this.mounted) {\n            this.setState({ loading: false });\n          }\n        });\n    }\n  };\n\n  handleQueryChange = (query: string) => {\n    this.setState({ query });\n    if (query.length === 0) {\n      this.setState({ results: undefined });\n    } else {\n      this.handleSearch(query);\n    }\n  };\n\n  render() {\n    const { component } = this.props;\n    const { loading, selectedIndex, results } = this.state;\n    const selected = selectedIndex !== undefined && results ? results[selectedIndex] : undefined;\n    const containerClassName = classNames('code-search', {\n      'code-search-with-results': Boolean(results)\n    });\n    const isPortfolio = ['VW', 'SVW', 'APP'].includes(component.qualifier);\n\n    return (\n      <div className={containerClassName} id=\"code-search\">\n        <SearchBox\n          minLength={3}\n          onChange={this.handleQueryChange}\n          onKeyDown={this.handleKeyDown}\n          placeholder={translate(\n            isPortfolio ? 'code.search_placeholder.portfolio' : 'code.search_placeholder'\n          )}\n          value={this.state.query}\n        />\n        {loading && <i className=\"spinner spacer-left\" />}\n\n        {results && (\n          <div className=\"boxed-group spacer-top\">\n            <div className=\"big-spacer-top\" />\n            <Components\n              branchLike={this.props.branchLike}\n              components={results}\n              metrics={{}}\n              rootComponent={component}\n              selected={selected}\n            />\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default withRouter(Search);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Location } from 'history';\nimport SourceViewer from '../../../components/SourceViewer/SourceViewer';\nimport { scrollToElement } from '../../../helpers/scrolling';\n\ninterface Props {\n  branchLike?: T.BranchLike;\n  component: string;\n  location: Pick<Location, 'query'>;\n}\n\nexport default function SourceViewerWrapper({ branchLike, component, location }: Props) {\n  const { line } = location.query;\n\n  const scrollToLine = () => {\n    if (line) {\n      const row = document.querySelector(`.source-line[data-line-number=\"${line}\"]`);\n      if (row) {\n        scrollToElement(row, { smooth: false, bottomOffset: window.innerHeight / 2 - 60 });\n      }\n    }\n  };\n\n  const finalLine = line ? Number(line) : undefined;\n\n  return (\n    <SourceViewer\n      aroundLine={finalLine}\n      branchLike={branchLike}\n      component={component}\n      highlightedLine={finalLine}\n      onLoaded={scrollToLine}\n    />\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { connect } from 'react-redux';\nimport Helmet from 'react-helmet';\nimport { Location } from 'history';\nimport Components from './Components';\nimport Breadcrumbs from './Breadcrumbs';\nimport Search from './Search';\nimport SourceViewerWrapper from './SourceViewerWrapper';\nimport { addComponent, addComponentBreadcrumbs, clearBucket } from '../bucket';\nimport { retrieveComponentChildren, retrieveComponent, loadMoreChildren } from '../utils';\nimport ListFooter from '../../../components/controls/ListFooter';\nimport Suggestions from '../../../app/components/embed-docs-modal/Suggestions';\nimport { fetchMetrics } from '../../../store/rootActions';\nimport { getMetrics } from '../../../store/rootReducer';\nimport { isSameBranchLike } from '../../../helpers/branches';\nimport { translate } from '../../../helpers/l10n';\nimport '../code.css';\n\ninterface StateToProps {\n  metrics: { [metric: string]: T.Metric };\n}\n\ninterface DispatchToProps {\n  fetchMetrics: () => void;\n}\n\ninterface OwnProps {\n  branchLike?: T.BranchLike;\n  component: T.Component;\n  location: Pick<Location, 'query'>;\n}\n\ntype Props = StateToProps & DispatchToProps & OwnProps;\n\ninterface State {\n  baseComponent?: T.ComponentMeasure;\n  breadcrumbs: T.Breadcrumb[];\n  components?: T.ComponentMeasure[];\n  loading: boolean;\n  page: number;\n  searchResults?: T.ComponentMeasure[];\n  sourceViewer?: T.ComponentMeasure;\n  total: number;\n}\n\nexport class App extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = {\n    loading: true,\n    breadcrumbs: [],\n    total: 0,\n    page: 0\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.props.fetchMetrics();\n    this.handleComponentChange();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (\n      prevProps.component !== this.props.component ||\n      !isSameBranchLike(prevProps.branchLike, this.props.branchLike)\n    ) {\n      this.handleComponentChange();\n    } else if (prevProps.location !== this.props.location) {\n      this.handleUpdate();\n    }\n  }\n\n  componentWillUnmount() {\n    clearBucket();\n    this.mounted = false;\n  }\n\n  handleComponentChange() {\n    const { branchLike, component } = this.props;\n\n    // we already know component's breadcrumbs,\n    addComponentBreadcrumbs(component.key, component.breadcrumbs);\n\n    this.setState({ loading: true });\n    retrieveComponentChildren(component.key, component.qualifier, branchLike).then(() => {\n      addComponent(component);\n      if (this.mounted) {\n        this.handleUpdate();\n      }\n    }, this.stopLoading);\n  }\n\n  loadComponent(componentKey: string) {\n    this.setState({ loading: true });\n\n    retrieveComponent(componentKey, this.props.component.qualifier, this.props.branchLike).then(\n      r => {\n        if (this.mounted) {\n          if (['FIL', 'UTS'].includes(r.component.qualifier)) {\n            this.setState({\n              loading: false,\n              sourceViewer: r.component,\n              breadcrumbs: r.breadcrumbs,\n              searchResults: undefined\n            });\n          } else {\n            this.setState({\n              loading: false,\n              baseComponent: r.component,\n              components: r.components,\n              breadcrumbs: r.breadcrumbs,\n              total: r.total,\n              page: r.page,\n              sourceViewer: undefined,\n              searchResults: undefined\n            });\n          }\n        }\n      },\n      this.stopLoading\n    );\n  }\n\n  handleUpdate() {\n    const { component, location } = this.props;\n    const { selected } = location.query;\n    const finalKey = selected || component.key;\n\n    this.loadComponent(finalKey);\n  }\n\n  handleLoadMore = () => {\n    const { baseComponent, components, page } = this.state;\n    if (!baseComponent || !components) {\n      return;\n    }\n    loadMoreChildren(\n      baseComponent.key,\n      page + 1,\n      this.props.component.qualifier,\n      this.props.branchLike\n    ).then(r => {\n      if (this.mounted) {\n        this.setState({\n          components: [...components, ...r.components],\n          page: r.page,\n          total: r.total\n        });\n      }\n    }, this.stopLoading);\n  };\n\n  stopLoading = () => {\n    if (this.mounted) {\n      this.setState({ loading: false });\n    }\n  };\n\n  render() {\n    const { branchLike, component, location } = this.props;\n    const { loading, baseComponent, components, breadcrumbs, total, sourceViewer } = this.state;\n    const shouldShowBreadcrumbs = breadcrumbs.length > 1;\n\n    const componentsClassName = classNames('boxed-group', 'spacer-top', {\n      'new-loading': loading\n    });\n\n    const defaultTitle =\n      baseComponent && ['APP', 'VW', 'SVW'].includes(baseComponent.qualifier)\n        ? translate('projects.page')\n        : translate('code.page');\n\n    return (\n      <div className=\"page page-limited\">\n        <Suggestions suggestions=\"code\" />\n        <Helmet title={sourceViewer !== undefined ? sourceViewer.name : defaultTitle} />\n\n        <Search branchLike={branchLike} component={component} />\n\n        <div className=\"code-components\">\n          {shouldShowBreadcrumbs && (\n            <Breadcrumbs\n              branchLike={branchLike}\n              breadcrumbs={breadcrumbs}\n              rootComponent={component}\n            />\n          )}\n\n          {sourceViewer === undefined &&\n            components !== undefined && (\n              <div className={componentsClassName}>\n                <Components\n                  baseComponent={baseComponent}\n                  branchLike={branchLike}\n                  components={components}\n                  metrics={this.props.metrics}\n                  rootComponent={component}\n                />\n              </div>\n            )}\n\n          {sourceViewer === undefined &&\n            components !== undefined && (\n              <ListFooter count={components.length} loadMore={this.handleLoadMore} total={total} />\n            )}\n\n          {sourceViewer !== undefined && (\n            <div className=\"spacer-top\">\n              <SourceViewerWrapper\n                branchLike={branchLike}\n                component={sourceViewer.key}\n                location={location}\n              />\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state: any): StateToProps => ({\n  metrics: getMetrics(state)\n});\n\nconst mapDispatchToProps: DispatchToProps = { fetchMetrics };\n\nexport default connect<StateToProps, DispatchToProps, Props>(\n  mapStateToProps,\n  mapDispatchToProps\n)(App);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { SuggestionsContext } from './SuggestionsContext';\n\ninterface Props {\n  suggestions: string;\n}\n\nexport default function Suggestions({ suggestions }: Props) {\n  return (\n    <SuggestionsContext.Consumer>\n      {({ addSuggestions, removeSuggestions }) => (\n        <SuggestionsInner\n          addSuggestions={addSuggestions}\n          removeSuggestions={removeSuggestions}\n          suggestions={suggestions}\n        />\n      )}\n    </SuggestionsContext.Consumer>\n  );\n}\n\ninterface SuggestionsInnerProps {\n  addSuggestions: (key: string) => void;\n  removeSuggestions: (key: string) => void;\n  suggestions: string;\n}\n\nclass SuggestionsInner extends React.PureComponent<SuggestionsInnerProps> {\n  componentDidMount() {\n    this.props.addSuggestions(this.props.suggestions);\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.suggestions !== this.props.suggestions) {\n      this.props.removeSuggestions(this.props.suggestions);\n      this.props.addSuggestions(prevProps.suggestions);\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.removeSuggestions(this.props.suggestions);\n  }\n\n  render() {\n    return null;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\nimport * as theme from '../../app/theme';\n\nconst qualifierIcons: { [x: string]: (props: IconProps) => React.ReactElement<any> } = {\n  app: ApplicationIcon,\n  brc: SubProjectIcon,\n  dev: DeveloperIcon,\n  dir: DirectoryIcon,\n  fil: FileIcon,\n  svw: SubPortfolioIcon,\n  trk: ProjectIcon,\n  uts: UnitTestIcon,\n  vw: PortfolioIcon,\n\n  // deprecated:\n  cla: UnitTestIcon,\n  dev_prj: ProjectIcon,\n  lib: LibraryIcon,\n  pac: DirectoryIcon\n};\n\ninterface QualifierIconProps {\n  className?: string;\n  fill?: string;\n  qualifier: string | null | undefined;\n}\n\nexport default function QualifierIcon(props: QualifierIconProps) {\n  if (!props.qualifier) {\n    return null;\n  }\n\n  const qualifier = props.qualifier.toLowerCase();\n  const FoundIcon = qualifierIcons[qualifier];\n  return FoundIcon ? <FoundIcon className={props.className} fill={props.fill} /> : null;\n}\n\nfunction ApplicationIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M3.014 10.986a2 2 0 1 1-.001 4.001 2 2 0 0 1 .001-4.001zm9.984 0a2 2 0 1 1-.001 4.001 2 2 0 0 1 .001-4.001zm-5.004-.021c1.103 0 2 .896 2 2s-.897 2-2 2a2 2 0 0 1 0-4zm-4.98 1.021a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm9.984 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm-5.004-.021a1 1 0 1 1 0 2 1 1 0 0 1 0-2zM2.984 6a2 2 0 1 1-.001 4.001A2 2 0 0 1 2.984 6zm9.984 0a2 2 0 1 1-.001 4.001A2 2 0 0 1 12.968 6zm-5.004-.021c1.103 0 2 .897 2 2a2 2 0 1 1-2-2zM2.984 7a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm9.984 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm-5.004-.021a1.001 1.001 0 0 1 0 2 1 1 0 0 1 0-2zM3 1.025a2 2 0 1 1-.001 4.001A2 2 0 0 1 3 1.025zm9.984 0a2 2 0 1 1-.001 4.001 2 2 0 0 1 .001-4.001zM7.98 1.004c1.103 0 2 .896 2 2s-.897 2-2 2a2 2 0 0 1 0-4zM3 2.025a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm9.984 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zM7.98 2.004a1.001 1.001 0 0 1 0 2 1 1 0 0 1 0-2z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction DeveloperIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M7.974 8.02a3.5 3.5 0 0 1-2.482-1.017 3.428 3.428 0 0 1-1.028-2.455c0-.927.365-1.8 1.028-2.455a3.505 3.505 0 0 1 2.482-1.017 3.5 3.5 0 0 1 2.482 1.017 3.434 3.434 0 0 1 1.027 2.455c0 .928-.365 1.8-1.027 2.455A3.504 3.504 0 0 1 7.974 8.02zm0-5.778c-1.286 0-2.332 1.034-2.332 2.306s1.046 2.307 2.332 2.307c1.285 0 2.332-1.035 2.332-2.307S9.258 2.242 7.974 2.242zm3.534 6.418c.127.016.243.045.348.086.17.066.302.146.406.246.132.124.253.282.36.47.126.218.226.442.3.668.08.253.15.535.206.838.056.313.095.604.113.867.02.28.03.57.03.862 0 .532-.174.758-.306.882-.142.132-.397.31-.973.31H3.948c-.233 0-.437-.03-.606-.09-.14-.05-.26-.123-.366-.222-.13-.123-.306-.35-.306-.88 0-.294.01-.584.03-.863.018-.263.056-.554.112-.867a6.5 6.5 0 0 1 .207-.838c.073-.226.173-.45.298-.667.108-.19.23-.347.36-.47.106-.1.238-.18.407-.247.105-.04.22-.07.348-.086.202.13.432.277.683.435.342.217.756.4 1.265.564.523.166 1.06.25 1.59.25a5.25 5.25 0 0 0 1.592-.25c.51-.164.923-.348 1.266-.565.25-.158.48-.304.682-.435l-.002.002zm-.244-1.18c-.055 0-.184.066-.387.196-.202.13-.43.276-.685.437-.255.16-.586.307-.994.437-.408.13-.818.196-1.23.196-.41 0-.82-.065-1.228-.196a4.303 4.303 0 0 1-.993-.437c-.255-.16-.484-.306-.686-.437-.202-.13-.33-.196-.386-.196-.374 0-.716.06-1.026.183-.31.12-.572.283-.787.487a3.28 3.28 0 0 0-.57.737 4.662 4.662 0 0 0-.395.888c-.098.303-.18.633-.244.988a9.652 9.652 0 0 0-.128.992c-.02.306-.032.62-.032.942 0 .73.224 1.304.672 1.726.448.42 1.043.632 1.785.632h8.044c.743 0 1.34-.21 1.787-.633.447-.42.67-.996.67-1.725 0-.32-.01-.635-.03-.942a9.159 9.159 0 0 0-.374-1.98c-.098-.304-.23-.6-.395-.888a3.23 3.23 0 0 0-.57-.737 2.404 2.404 0 0 0-.788-.487 2.779 2.779 0 0 0-1.026-.183h-.004z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction DirectoryIcon({ className, fill = theme.orange, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14 12.286V5.703a.673.673 0 0 0-.195-.5.644.644 0 0 0-.49-.203H6.704a.686.686 0 0 1-.5-.214.707.707 0 0 1-.203-.51v-.57c0-.2-.07-.363-.207-.502A.679.679 0 0 0 5.29 3H2.707a.672.672 0 0 0-.5.204.683.683 0 0 0-.206.5v8.582c0 .2.07.367.206.506.137.14.304.208.5.208h10.61a.66.66 0 0 0 .49-.208.685.685 0 0 0 .194-.506H14zm1-6.598v6.65c0 .458-.152.83-.475 1.16-.324.326-.7.502-1.15.502H2.647c-.452 0-.84-.175-1.162-.503a1.572 1.572 0 0 1-.486-1.158V3.654a1.6 1.6 0 0 1 .486-1.17A1.578 1.578 0 0 1 2.648 2h2.7c.45 0 .84.157 1.164.485.324.328.488.714.488 1.17V4h6.373c.452 0 .83.174 1.152.5.323.33.475.73.475 1.187v.001z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction FileIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14 15H2V1l7.997.02c1 .034 1.759.758 2.428 1.42.667.663 1.561 1.605 1.574 2.555H14V15zM9 2H3v12h10V6H9V2zm3 10H4v-1h8v1zm0-2H4V9h8v1zm-1.988-5h3.008c-.012-.674-.714-1.443-1.204-1.937-.488-.495-1.039-1.058-1.816-1.055v2.96l.012.032z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction LibraryIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M1 13h4V3H1v10zm3-1H2v-2h2v2zM2 4h2v4H2V4zm4 9h4V3H6v10zm3-1H7v-2h2v2zM7 4h2v4H7V4zm4 9h4V3h-4v10zm3-1h-2v-2h2v2zm-2-8h2v4h-2V4z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction PortfolioIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14.97 14.97H1.016V1.015H14.97V14.97zm-1-12.955H2.015V13.97H13.97V2.015zm-.973 10.982H9V9h3.997v3.997zM7 12.996H3.004V9H7v3.996zM11.997 10H10v1.997h1.997V10zM6 10H4.004v1.996H6V10zm1-3H3.006V3.006H7V7zm5.985 0H9V3.015h3.985V7zM6 4.006H4.006V6H6V4.006zm5.985.009H10V6h1.985V4.015z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction ProjectIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14.985 13.988L1 14.005 1.02 5h13.966v8.988h-.001zM1.998 5.995l.006 7.02L14.022 13 14 6.004l-12.002-.01v.001zM3 4.5V4h9.996l.004.5h1l-.005-1.497-11.98.003L2 4.5h1zm1-2v-.504h8.002L12 2.5h1l-.004-1.495H3.003L3 2.5h1z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction SubPortfolioIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14 7h2v9H7v-2H0V0h14v7zM8 8v7h7V8H8zm3 6H9v-2h2v2zm3 0h-2v-2h2v2zm-1-7V1H1v12h6V7h6zm-7 5H2V8h4v4zm5-1H9V9h2v2zm3 0h-2V9h2v2zM5 9H3v2h2V9zm1-3H2V2h4v4zm6 0H8V2h4v4zM5 3H3v2h2V3zm6 0H9v2h2V3z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction SubProjectIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M8 9V8h6v1h1v1h1v6H6v-6h1V9h1zm7 2H7v4h8v-4zm-1-7v3h-1V5H1v7h4v1H0V4h14zm-1-2v1.5h-1V3H2v.5H1V2h12zm-1-2v1.5h-1V1H3v.5H2V0h10z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction UnitTestIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14 15H2V1l7.997.02c1.013-.03 1.57.893 2.239 1.555.667.663 1.75 1.47 1.763 2.42H14V15zM9 2H3v12h10V6H9V2zM7 8l-3 2.5L7 13V8zm1 5l3-2.5L8 8v5zm2.012-8h3.008c-.012-.674-.78-1.258-1.27-1.752-.488-.495-.973-1.243-1.75-1.24v2.96l.012.032z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport DeferredSpinner from '../common/DeferredSpinner';\nimport { translate, translateWithParameters } from '../../helpers/l10n';\nimport { formatMeasure } from '../../helpers/measures';\n\ninterface Props {\n  count: number;\n  className?: string;\n  loading?: boolean;\n  loadMore?: () => void;\n  ready?: boolean;\n  total?: number;\n}\n\nexport default function ListFooter({ ready = true, ...props }: Props) {\n  const handleLoadMore = (event: React.SyntheticEvent<HTMLElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (props.loadMore) {\n      props.loadMore();\n    }\n  };\n\n  const hasMore = props.total && props.total > props.count;\n  const loadMoreLink = (\n    <a className=\"spacer-left\" href=\"#\" onClick={handleLoadMore}>\n      {translate('show_more')}\n    </a>\n  );\n  const className = classNames(\n    'spacer-top note text-center',\n    { 'new-loading': !ready },\n    props.className\n  );\n\n  return (\n    <footer className={className}>\n      {translateWithParameters(\n        'x_of_y_shown',\n        formatMeasure(props.count, 'INT', null),\n        formatMeasure(props.total, 'INT', null)\n      )}\n      {props.loadMore != null && hasMore ? loadMoreLink : null}\n      {props.loading && (\n        <DeferredSpinner className=\"vertical-bottom spacer-left position-absolute\" />\n      )}\n    </footer>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { formatMeasure } from '../../helpers/measures';\nimport './Rating.css';\n\ninterface Props {\n  className?: string;\n  muted?: boolean;\n  small?: boolean;\n  value: string | number | undefined;\n}\n\nexport default function Rating({ className, muted = false, small = false, value }: Props) {\n  if (value === undefined) {\n    return <span>{'–'}</span>;\n  }\n  const formatted = formatMeasure(value, 'RATING');\n  return (\n    <span\n      className={classNames(\n        'rating',\n        'rating-' + formatted,\n        { 'rating-small': small, 'rating-muted': muted },\n        className\n      )}>\n      {formatted}\n    </span>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { formatMeasure } from '../../helpers/measures';\nimport './Level.css';\n\ninterface Props {\n  className?: string;\n  level: string;\n  small?: boolean;\n  muted?: boolean;\n}\n\nexport default function Level(props: Props) {\n  const formatted = formatMeasure(props.level, 'LEVEL');\n  const className = classNames(props.className, 'level', 'level-' + props.level, {\n    'level-small': props.small,\n    'level-muted': props.muted\n  });\n\n  return <span className={className}>{formatted}</span>;\n}\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Level.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Level.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Level.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * SonarQube\\n * Copyright (C) 2009-2019 SonarSource SA\\n * mailto:info AT sonarsource DOT com\\n *\\n * This program is free software; you can redistribute it and/or\\n * modify it under the terms of the GNU Lesser General Public\\n * License as published by the Free Software Foundation; either\\n * version 3 of the License, or (at your option) any later version.\\n *\\n * This program is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\\n * Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with this program; if not, write to the Free Software Foundation,\\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\\n */\\n.level {\\n  display: inline-block;\\n  width: auto;\\n  min-width: 80px;\\n  padding-left: 9px;\\n  padding-right: 9px;\\n  height: 24px;\\n  line-height: 24px;\\n  border-radius: 24px;\\n  box-sizing: border-box;\\n  color: #fff;\\n  letter-spacing: 0.02em;\\n  font-size: 13px;\\n  font-weight: 400;\\n  text-align: center;\\n  text-shadow: 0 0 1px rgba(0, 0, 0, 0.35);\\n}\\n\\n.level-small {\\n  width: auto;\\n  min-width: 64px;\\n  padding-left: 9px;\\n  padding-right: 9px;\\n  margin-top: -1px;\\n  margin-bottom: -1px;\\n  height: 20px;\\n  line-height: 20px;\\n  font-size: 12px;\\n}\\n\\n.level-muted {\\n  background-color: #bdbdbd !important;\\n}\\n\\na > .level {\\n  margin-bottom: -1px;\\n  border-bottom: 1px solid;\\n  transition: all 0.2s ease;\\n}\\n\\na > .level:hover {\\n  opacity: 0.8;\\n}\\n\\n.level-OK {\\n  background-color: #00aa00;\\n}\\n\\n.level-WARN {\\n  background-color: #ed7d20;\\n}\\n\\n.level-ERROR {\\n  background-color: #d4333f;\\n}\\n\\n.level-NONE {\\n  background-color: #b4b4b4;\\n}\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Rating.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Rating.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Rating.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * SonarQube\\n * Copyright (C) 2009-2019 SonarSource SA\\n * mailto:info AT sonarsource DOT com\\n *\\n * This program is free software; you can redistribute it and/or\\n * modify it under the terms of the GNU Lesser General Public\\n * License as published by the Free Software Foundation; either\\n * version 3 of the License, or (at your option) any later version.\\n *\\n * This program is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\\n * Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with this program; if not, write to the Free Software Foundation,\\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\\n */\\n.rating {\\n  display: inline-block;\\n  width: 24px;\\n  height: 24px;\\n  line-height: 24px;\\n  border-radius: 24px;\\n  box-sizing: border-box;\\n  color: #fff;\\n  font-size: 16px;\\n  font-weight: 400;\\n  text-align: center;\\n  text-shadow: 0 0 1px rgba(0, 0, 0, 0.35);\\n}\\n\\n.rating-muted {\\n  background-color: #bdbdbd !important;\\n  color: #fff !important;\\n  text-shadow: 0 0 1px rgba(0, 0, 0, 0.35) !important;\\n}\\n\\na > .rating {\\n  margin-bottom: -1px;\\n  border-bottom: 1px solid;\\n  transition: all 0.2s ease;\\n}\\n\\na > .rating:hover {\\n  opacity: 0.8;\\n}\\n\\n.rating-A {\\n  line-height: 23px;\\n  background-color: #00aa00;\\n}\\n\\na > .rating-A {\\n  border-bottom-color: #00aa00;\\n}\\n\\n.rating-B {\\n  background-color: #b0d513;\\n}\\n\\na .rating-B {\\n  border-bottom-color: #b0d513;\\n}\\n\\n.rating-C {\\n  background-color: #eabe06;\\n}\\n\\na .rating-C {\\n  border-bottom-color: #eabe06;\\n}\\n\\n.rating-D {\\n  background-color: #ed7d20;\\n}\\n\\na .rating-D {\\n  border-bottom-color: #ed7d20;\\n}\\n\\n.rating-E {\\n  background-color: #e00;\\n}\\n\\na .rating-E {\\n  border-bottom-color: #e00;\\n}\\n\\n.rating-small {\\n  width: 18px;\\n  height: 18px;\\n  line-height: 18px;\\n  margin-top: -1px;\\n  margin-bottom: -1px;\\n  font-size: 12px;\\n}\\n\", \"\"]);\n\n// exports\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { translate, translateWithParameters } from './l10n';\nimport { parseDate } from './dates';\n\nfunction getPeriod<T extends T.Period | T.PeriodMeasure>(periods: T[] | undefined, index: number) {\n  if (!Array.isArray(periods)) {\n    return undefined;\n  }\n  return periods.find(period => period.index === index);\n}\n\nexport function getLeakPeriod<T extends T.Period | T.PeriodMeasure>(periods: T[] | undefined) {\n  return getPeriod(periods, 1);\n}\n\nexport function getPeriodLabel(\n  period: T.Period | undefined,\n  dateFormatter: (date: string) => string\n) {\n  if (!period) {\n    return undefined;\n  }\n\n  let parameter = period.modeParam || period.parameter;\n  if (period.mode === 'previous_version' && !parameter) {\n    return translate('overview.period.previous_version_only_date');\n  }\n\n  if (period.mode === 'date' && parameter) {\n    parameter = dateFormatter(parameter);\n  }\n\n  return translateWithParameters(`overview.period.${period.mode}`, parameter || '');\n}\n\nexport function getPeriodDate(period?: { date?: string }): Date | undefined {\n  return period && period.date ? parseDate(period.date) : undefined;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { getRatingTooltip } from './utils';\nimport Rating from '../ui/Rating';\nimport Level from '../ui/Level';\nimport Tooltip from '../controls/Tooltip';\nimport { formatMeasure } from '../../helpers/measures';\n\ninterface Props {\n  className?: string;\n  decimals?: number | null;\n  metricKey: string;\n  metricType: string;\n  small?: boolean;\n  value: string | undefined;\n}\n\nexport default function Measure({\n  className,\n  decimals,\n  metricKey,\n  metricType,\n  small,\n  value\n}: Props) {\n  if (value === undefined) {\n    return <span>{'–'}</span>;\n  }\n\n  if (metricType === 'LEVEL') {\n    return <Level className={className} level={value} small={small} />;\n  }\n\n  if (metricType !== 'RATING') {\n    const formattedValue = formatMeasure(value, metricType, { decimals });\n    return <span className={className}>{formattedValue != null ? formattedValue : '–'}</span>;\n  }\n\n  const tooltip = getRatingTooltip(metricKey, Number(value));\n  const rating = <Rating small={small} value={value} />;\n  if (tooltip) {\n    return (\n      <Tooltip overlay={tooltip}>\n        <span className={className}>{rating}</span>\n      </Tooltip>\n    );\n  }\n  return rating;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getRatingTooltip as nextGetRatingTooltip, isDiffMetric } from '../../helpers/measures';\nimport { getLeakPeriod } from '../../helpers/periods';\n\nconst KNOWN_RATINGS = ['sqale_rating', 'reliability_rating', 'security_rating'];\n\nexport function enhanceMeasure(\n  measure: T.Measure,\n  metrics: { [key: string]: T.Metric }\n): T.MeasureEnhanced {\n  return {\n    ...measure,\n    metric: metrics[measure.metric],\n    leak: getLeakValue(measure)\n  };\n}\n\nexport function getLeakValue(measure: T.Measure | undefined): string | undefined {\n  if (!measure || !measure.periods) {\n    return undefined;\n  }\n  const period = getLeakPeriod(measure.periods);\n  return period && period.value;\n}\n\nexport function getRatingTooltip(metricKey: string, value: number): string | undefined {\n  const finalMetricKey = isDiffMetric(metricKey) ? metricKey.substr(4) : metricKey;\n  if (KNOWN_RATINGS.includes(finalMetricKey)) {\n    return nextGetRatingTooltip(finalMetricKey, value);\n  }\n  return undefined;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\nimport * as theme from '../../app/theme';\n\nexport default function LongLivingBranchIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <g transform=\"translate(5, 0)\">\n        <path\n          d=\"M4.5 8c0-.9-.6-1.7-1.5-1.9V4c.9-.2 1.5-1 1.5-1.9 0-1.1-.9-2-2-2s-2 .9-2 2C.5 3 1.1 3.8 2 4v2.1C1.1 6.3.5 7.1.5 8s.6 1.7 1.5 2v2.1c-.9.2-1.5 1-1.5 1.9 0 1.1.9 2 2 2s2-.9 2-2c0-.9-.6-1.7-1.5-1.9V10c.9-.3 1.5-1 1.5-2zm-3-5.9c0-.6.4-1 1-1s1 .4 1 1-.4 1-1 1-1-.5-1-1zm0 5.9c0-.6.4-1 1-1s1 .4 1 1-.4 1-1 1-1-.4-1-1zm2 6c0 .6-.4 1-1 1s-1-.4-1-1 .4-1 1-1 1 .5 1 1z\"\n          style={{ fill }}\n        />\n      </g>\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from '../lazyLoad';\n\nconst SourceViewer = lazyLoad(() => import(/* webpackPrefetch: true */ './SourceViewerBase'));\nexport default SourceViewer;\n"],"sourceRoot":""}