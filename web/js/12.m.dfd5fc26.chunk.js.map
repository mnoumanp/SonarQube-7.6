{"version":3,"sources":["webpack:///./src/main/js/apps/projectsManagement/CreateProjectForm.tsx","webpack:///./node_modules/timers-browserify/main.js","webpack:///./node_modules/setimmediate/setImmediate.js","webpack:///./src/main/js/apps/projectsManagement/ChangeDefaultVisibilityForm.tsx","webpack:///./src/main/js/apps/projectsManagement/Header.tsx","webpack:///./src/main/js/apps/projectsManagement/BulkApplyTemplateModal.tsx","webpack:///./src/main/js/apps/projectsManagement/DeleteModal.tsx","webpack:///./src/main/js/apps/projectsManagement/Search.tsx","webpack:///./src/main/js/apps/projectsManagement/RestoreAccessModal.tsx","webpack:///./src/main/js/apps/projectsManagement/ProjectRowActions.tsx","webpack:///./src/main/js/apps/projectsManagement/ProjectRow.tsx","webpack:///./src/main/js/apps/projectsManagement/Projects.tsx","webpack:///./src/main/js/apps/projectsManagement/App.tsx","webpack:///./src/main/js/apps/projectsManagement/AppContainer.tsx","webpack:///./src/main/js/components/docs/DocTooltip.tsx","webpack:///./node_modules/lodash/_baseInRange.js","webpack:///./node_modules/lodash/inRange.js","webpack:///./src/main/js/helpers/almIntegrations.ts","webpack:///./src/main/js/apps/create/organization/utils.ts","webpack:///./src/main/js/apps/create/components/UpgradeOrganizationAdvantages.tsx","webpack:///./src/main/js/helpers/organizations.ts","webpack:///./src/main/js/api/permissions.ts","webpack:///./src/main/js/components/hoc/withCurrentUser.tsx","webpack:///./src/main/js/helpers/strings.ts","webpack:///./src/main/js/api/billing.ts","webpack:///./src/main/js/api/nav.ts","webpack:///./src/main/js/apps/organizations/forSingleOrganization.tsx","webpack:///./src/main/js/components/icons-components/VisibleIcon.tsx","webpack:///./src/main/js/components/common/PrivacyBadgeContainer.tsx","webpack:///./src/main/js/apps/create/components/CardPlan.css?2aa3","webpack:///./src/main/js/apps/create/components/CardPlan.css","webpack:///./src/main/js/apps/create/components/BillingFormShim.tsx","webpack:///../sonar-docs/src/tooltips/project/visibility-private.md","webpack:///../sonar-docs/src/tooltips/project/visibility-public-paid-org-admin.md","webpack:///../sonar-docs/src/tooltips/project/visibility-public-paid-org.md","webpack:///../sonar-docs/src/tooltips/project/visibility-public-admin.md","webpack:///../sonar-docs/src/tooltips/project/visibility-public.md","webpack:///./src/main/js/components/icons-components/RecommendedIcon.tsx","webpack:///./src/main/js/apps/create/components/CardPlan.tsx","webpack:///./src/main/js/apps/create/components/UpgradeOrganizationModal.tsx","webpack:///./src/main/js/apps/create/components/UpgradeOrganizationBox.tsx","webpack:///./src/main/js/components/common/VisibilitySelector.tsx","webpack:///./src/main/js/components/intl/DateTooltipFormatter.tsx","webpack:///./node_modules/process/browser.js","webpack:///./src/main/js/apps/permissions/project/components/ApplyTemplate.tsx"],"names":["setImmediate","__webpack_require__","d","__webpack_exports__","CreateProjectForm","react__WEBPACK_IMPORTED_MODULE_0__","react_router__WEBPACK_IMPORTED_MODULE_1__","react_intl__WEBPACK_IMPORTED_MODULE_2__","_api_components__WEBPACK_IMPORTED_MODULE_3__","_create_components_UpgradeOrganizationBox__WEBPACK_IMPORTED_MODULE_4__","_components_common_VisibilitySelector__WEBPACK_IMPORTED_MODULE_5__","_components_controls_Modal__WEBPACK_IMPORTED_MODULE_6__","_components_ui_buttons__WEBPACK_IMPORTED_MODULE_7__","_helpers_l10n__WEBPACK_IMPORTED_MODULE_8__","_helpers_urls__WEBPACK_IMPORTED_MODULE_9__","_components_ui_Alert__WEBPACK_IMPORTED_MODULE_10__","[object Object]","props","super","this","mounted","handleInputChange","event","_event$currentTarget","currentTarget","name","value","setState","handleVisibilityChange","visibility","handleFormSubmit","preventDefault","data","state","organization","key","project","loading","Object","then","response","createdProject","onProjectCreated","projectVisibility","closeButton","focus","contentLabel","onRequestClose","onClose","className","variant","defaultMessage","id","values","to","innerRef","node","onClick","onSubmit","htmlFor","autoFocus","maxLength","onChange","required","type","canTurnToPrivate","canUpdateProjectsVisibilityToPrivate","actions","admin","insideModal","onOrganizationUpgrade","disabled","apply","Function","prototype","Timeout","clearFn","_id","_clearFn","exports","setTimeout","call","window","arguments","clearTimeout","setInterval","clearInterval","timeout","close","unref","ref","enroll","item","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","clearImmediate","global","process","undefined","registerImmediate","html","channel","messagePrefix","onGlobalMessage","nextHandle","tasksByHandle","currentlyRunningATask","doc","document","attachTo","getPrototypeOf","toString","handle","nextTick","runIfPresent","postMessage","importScripts","postMessageIsAsynchronous","oldOnMessage","onmessage","canUsePostMessage","MessageChannel","port1","port2","createElement","documentElement","script","onreadystatechange","removeChild","appendChild","Math","random","source","indexOf","slice","length","addEventListener","attachEvent","callback","args","Array","i","task","run","self","ChangeDefaultVisibilityForm_ChangeDefaultVisibilityForm","index_js_exposed","handleConfirmClick","onConfirm","handleVisibilityClick","blur","dataset","Modal","l10n","map","data-visibility","href","classnames","is-checked","style","paddingLeft","Alert","buttons","Header_Header","visibilityForm","handleChangeVisibilityClick","closeVisiblityForm","system","hasProvisionPermission","onProjectCreate","onVisibilityChange","BulkApplyTemplateModal_BulkApplyTemplateModal","done","submitting","analyzedBefore","permissionTemplate","parameters","selection","projects","join","templateId","dates","onProvisionedOnly","provisioned","qualifiers","qualifier","q","query","permissions","handlePermissionTemplateChange","renderWarning","total","renderSelect","Select","clearable","options","permissionTemplates","t","label","loadPermissionTemplates","_this$state","header","DeleteModal_DeleteModal","components","QUALIFIERS_ORDER","Search_Search","bulkApplyTemplateModal","deleteModal","getQualifierOptions","topLevelQualifiers","sortBy_default","option","onCheck","checked","onAllSelected","onAllDeselected","handleDeleteClick","closeDeleteModal","handleDeleteConfirm","onDeleteProjects","handleBulkApplyTemplateClick","closeBulkApplyTemplateModal","handleQualifierChange","onQualifierChanged","onVisibilityChanged","renderCheckbox","isAllChecked","thirdState","Checkbox","renderQualifierOption","QualifierIcon","renderQualifierFilter","ready","optionRenderer","searchable","valueRenderer","renderVisibilityFilter","renderTypeFilter","onProvisionedChanged","HelpTooltip","overlay","renderDateFilter","DateInput","inputClassName","onDateChanged","placeholder","SearchBox","minLength","onSearch","RestoreAccessModal_RestoreAccessModal","Promise","all","grantPermission","onRestoreAccess","permission","projectKey","login","currentUser","index_es","browse","administer","ProjectRowActions_ProjectRowActions","applyTemplateModal","restoreAccessModal","fetchPermissions","nav","component","navResponse","hasAccess","Boolean","configuration","showPermissions","handleDropdownOpen","handleApplyTemplateClick","handleApplyTemplateClose","handleRestoreAccessClick","handleRestoreAccessClose","handleRestoreAccessDone","ActionsDropdown","onOpen","urls","ApplyTemplate","ProjectRow_ProjectRow","handleProjectCheck","onProjectCheck","_this$props","selected","react_router_es","pathname","PrivacyBadgeContainer","tooltipProps","lastAnalysisDate","DateTooltipFormatter","date","Projects_Projects","onProjectSelected","onProjectDeselected","new-loading","includes","PAGE_SIZE","App_App","requestProjects","p","page","ps","r","paging","loadMore","newQualifier","newVisibility","handleDateChanged","uniq_default","without_default","openCreateProjectForm","createProjectForm","closeCreateProjectForm","debounce_default","Suggestions","suggestions","Helmet_default","a","title","ListFooter","count","forSingleOrganization","es","ownProps","appState","rootReducer","defaultOrganization","dispatch","fetchOrganization","rootActions","currentVisibility","organizations","assign","catch","_onVisibilityChange","handleOrganizationUpgrade","isDefault","_organization$actions","provision","DocTooltip","_controls_HelpTooltip__WEBPACK_IMPORTED_MODULE_1__","_lazyLoad__WEBPACK_IMPORTED_MODULE_2__","DocMarkdownBlock","e","bind","open","default","content","removeEventListener","childProps","overlayProps","isTooltip","children","nativeMax","max","nativeMin","min","module","number","start","end","baseInRange","toFinite","toNumber","hasAdvancedALMIntegration","isBitbucket","isGithub","isVSTS","isPersonal","sanitizeAlmId","_users__WEBPACK_IMPORTED_MODULE_0__","user","externalProvider","almKey","startsWith","personal","ORGANIZATION_IMPORT_BINDING_IN_PROGRESS_TIMESTAMP","ORGANIZATION_IMPORT_REDIRECT_TO_PROJECT_TIMESTAMP","Step","formatPrice","price","noSign","priceFormatted","_helpers_measures__WEBPACK_IMPORTED_MODULE_2__","replace","_helpers_l10n__WEBPACK_IMPORTED_MODULE_1__","parseQuery","lodash_memoize__WEBPACK_IMPORTED_MODULE_0___default","urlQuery","almInstallId","_helpers_query__WEBPACK_IMPORTED_MODULE_3__","jwt","_helpers_strings__WEBPACK_IMPORTED_MODULE_5__","iss","serializeQuery","installation_id","_helpers_almIntegrations__WEBPACK_IMPORTED_MODULE_4__","clientKey","UpgradeOrganizationAdvantages","_components_icons_components_CheckIcon__WEBPACK_IMPORTED_MODULE_1__","_helpers_l10n__WEBPACK_IMPORTED_MODULE_2__","_app_theme__WEBPACK_IMPORTED_MODULE_3__","TRIAL_DURATION_DAYS","Advantage","fill","isPaidOrganization","hasPrivateAccess","isCurrentUserMemberOf","subscription","userOrganizations","some","org","grantPermissionToUser","revokePermissionFromUser","grantPermissionToGroup","revokePermissionFromGroup","getPermissionTemplates","createPermissionTemplate","updatePermissionTemplate","deletePermissionTemplate","setDefaultPermissionTemplate","applyTemplateToProject","bulkApplyTemplate","grantTemplatePermissionToUser","revokeTemplatePermissionFromUser","grantTemplatePermissionToGroup","revokeTemplatePermissionFromGroup","addProjectCreatorToTemplate","removeProjectCreatorFromTemplate","getPermissionsUsersForComponent","getPermissionsGroupsForComponent","getGlobalPermissionsUsers","getGlobalPermissionsGroups","getPermissionTemplateUsers","getPermissionTemplateGroups","changeProjectVisibility","changeProjectDefaultVisibility","_helpers_request__WEBPACK_IMPORTED_MODULE_0__","_app_utils_throwGlobalError__WEBPACK_IMPORTED_MODULE_1__","url","users","groups","withCurrentUser","react_redux__WEBPACK_IMPORTED_MODULE_1__","_store_rootReducer__WEBPACK_IMPORTED_MODULE_2__","WrappedComponent","wrappedDisplayName","displayName","Wrapper","latinize","slugify","decodeJwt","diacriticsMap","str","text","trim","toLowerCase","token","segments","split","base64","JSON","parse","atob","base","letters","forEach","defaultDiacritic","letter","getSubscriptionPlans","giveDowngradeFeedback","subscriptionPlans","getComponentNavigation","getMarketplaceNavigation","getSettingsNavigation","ComposedComponent","ForSingleOrganization","_a","customOrganizations","router","other","__rest","params","organizationKey","_store_rootReducer__WEBPACK_IMPORTED_MODULE_3__","react_router__WEBPACK_IMPORTED_MODULE_2__","VisibleIcon","size","Icon","onSonarCloud","icon","theme","badge","badge-info","badge-icon","getDoc","Tooltip","resolve","hmr","transform","insertInto","locals","push","BillingFormShim","BillingForm","SonarBilling","RecommendedIcon","CardPlan_CardPlan","recommended","startingPrice","isActionable","aria-checked","card-plan-actionable","role","tabIndex","utils","FreeCardPlan","almName","hasWarning","showInfo","showWarning","alm","PaidCardPlan","isRecommended","target","UpgradeOrganizationModal_UpgradeOrganizationModal","medium","noBackdrop","shouldCloseOnOverlayClick","simple","onCommit","onUpgradeDone","processingUpgrade","renderFormFields","renderNextCharge","renderRecap","renderSubmitButton","DeferredSpinner","UpgradeOrganizationBox_UpgradeOrganizationBox","upgradeOrganizationModal","fetchSubscriptionPlans","billing","handleUpgradeClick","handleUpgradeOrganizationModalClose","CardPlan","VisibilitySelector","classnames__WEBPACK_IMPORTED_MODULE_1__","handlePublicClick","handlePrivateClick","showDetails","_DateFormatter__WEBPACK_IMPORTED_MODULE_1__","_DateTimeFormatter__WEBPACK_IMPORTED_MODULE_2__","_controls_Tooltip__WEBPACK_IMPORTED_MODULE_3__","_helpers_dates__WEBPACK_IMPORTED_MODULE_4__","parsedDate","long","formattedDate","mouseEnterDelay","dateTime","toISOString","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","Error","defaultClearTimeout","runTimeout","fun","currentQueue","queue","draining","queueIndex","cleanUpNextTick","concat","drainQueue","len","marker","runClearTimeout","Item","array","noop","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","_api_permissions__WEBPACK_IMPORTED_MODULE_1__","_components_common_DeferredSpinner__WEBPACK_IMPORTED_MODULE_2__","_components_controls_SimpleModal__WEBPACK_IMPORTED_MODULE_3__","_components_controls_Select__WEBPACK_IMPORTED_MODULE_4__","_components_ui_buttons__WEBPACK_IMPORTED_MODULE_5__","_helpers_l10n__WEBPACK_IMPORTED_MODULE_6__","_components_ui_Alert__WEBPACK_IMPORTED_MODULE_7__","fetchPermissionTemplates","handleSubmit","onApply","reject","onCloseClick","onFormSubmit"],"mappings":"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AM,IACNC,QAAS,aAEX,CACED,KAAM,IACNC,QAAS,gBAEX,CACED,KAAM,IACNC,QAAS,kBAEX,CACED,KAAM,KACNC,QAAS,MAEX,CACED,KAAM,KACNC,QAAS,MAEX,CACED,KAAM,IACNC,QACE,kCAEJ,CACED,KAAM,IACNC,QAAS,UAEX,CACED,KAAM,IACNC,QACE,mBAEJ,CACED,KAAM,IACNC,QAAS,kBAEX,CACED,KAAM,IACNC,QACE,wBAEJ,CACED,KAAM,IACNC,QAAS,SAEX,CACED,KAAM,IACNC,QAAS,kBAEX,CACED,KAAM,IACNC,QACE,sBAEJ,CACED,KAAM,KACNC,QAAS,KAEX,CACED,KAAM,KACNC,QAAS,KAEX,CACED,KAAM,IACNC,QAAS,YAEX,CACED,KAAM,IACNC,QACE,oBAEJ,CACED,KAAM,KACNC,QAAS,KAEX,CACED,KAAM,KACNC,QAAS,KAEX,CACED,KAAM,IACNC,QACE,+CAEJ,CACED,KAAM,KACNC,QAAS,KAEX,CACED,KAAM,KACNC,QAAS,KAEX,CACED,KAAM,KACNC,QAAS,KAEX,CACED,KAAM,KACNC,QAAS,MAEX,CACED,KAAM,KACNC,QAAS,MAEX,CACED,KAAM,IACNC,QAAS,cAEX,CACED,KAAM,IACNC,QAAS,UAEX,CACED,KAAM,IACNC,QACE,qBAEJ,CACED,KAAM,IACNC,QACE,qBAEJ,CACED,KAAM,IACNC,QACE,mBAEJ,CACED,KAAM,KACNC,QAAS,KAEX,CACED,KAAM,IACNC,QACE,sCAEJ,CACED,KAAM,IACNC,QAAS,YAEX,CACED,KAAM,KACNC,QAAS,KAEX,CACED,KAAM,IACNC,QAAS,cAEX,CACED,KAAM,IACNC,QAAS,SAEX,CACED,KAAM,IACNC,QACE,mBAEJ,CACED,KAAM,IACNC,QAAS,kBAEX,CACED,KAAM,IACNC,QACE,uCAEJ,CACED,KAAM,KACNC,QAAS,KAEX,CACED,KAAM,KACNC,QAAS,OAEX,CACED,KAAM,KACNC,QAAS,KAEX,CACED,KAAM,KACNC,QAAS,KAEX,CACED,KAAM,KACNC,QAAS,MAEX,CAC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","file":"js/12.m.dfd5fc26.chunk.js","sourcesContent":["/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { FormattedMessage } from 'react-intl';\nimport { createProject } from '../../api/components';\nimport UpgradeOrganizationBox from '../create/components/UpgradeOrganizationBox';\nimport VisibilitySelector from '../../components/common/VisibilitySelector';\nimport Modal from '../../components/controls/Modal';\nimport { SubmitButton, ResetButtonLink } from '../../components/ui/buttons';\nimport { translate } from '../../helpers/l10n';\nimport { getProjectUrl } from '../../helpers/urls';\nimport { Alert } from '../../components/ui/Alert';\n\ninterface Props {\n  onClose: () => void;\n  onProjectCreated: () => void;\n  onOrganizationUpgrade: () => void;\n  organization: T.Organization;\n}\n\ninterface State {\n  createdProject?: { key: string; name: string };\n  key: string;\n  loading: boolean;\n  name: string;\n  visibility?: T.Visibility;\n  // add index declaration to be able to do `this.setState({ [name]: value });`\n  [x: string]: any;\n}\n\nexport default class CreateProjectForm extends React.PureComponent<Props, State> {\n  closeButton?: HTMLElement | null;\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      key: '',\n      loading: false,\n      name: '',\n      visibility: props.organization.projectVisibility\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentDidUpdate() {\n    // wrap with `setImmediate` because of https://github.com/reactjs/react-modal/issues/338\n    setImmediate(() => {\n      if (this.closeButton) {\n        this.closeButton.focus();\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleInputChange = (event: React.SyntheticEvent<HTMLInputElement>) => {\n    const { name, value } = event.currentTarget;\n    this.setState({ [name]: value });\n  };\n\n  handleVisibilityChange = (visibility: T.Visibility) => {\n    this.setState({ visibility });\n  };\n\n  handleFormSubmit = (event: React.SyntheticEvent<HTMLFormElement>) => {\n    event.preventDefault();\n\n    const data = {\n      name: this.state.name,\n      organization: this.props.organization && this.props.organization.key,\n      project: this.state.key,\n      visibility: this.state.visibility\n    };\n\n    this.setState({ loading: true });\n    createProject(data).then(\n      response => {\n        if (this.mounted) {\n          this.setState({ createdProject: response.project, loading: false });\n          this.props.onProjectCreated();\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  render() {\n    const { organization } = this.props;\n    const { createdProject } = this.state;\n\n    return (\n      <Modal contentLabel=\"modal form\" onRequestClose={this.props.onClose}>\n        {createdProject ? (\n          <div>\n            <header className=\"modal-head\">\n              <h2>{translate('qualifiers.create.TRK')}</h2>\n            </header>\n\n            <div className=\"modal-body\">\n              <Alert variant=\"success\">\n                <FormattedMessage\n                  defaultMessage={translate(\n                    'projects_management.project_has_been_successfully_created'\n                  )}\n                  id=\"projects_management.project_has_been_successfully_created\"\n                  values={{\n                    project: (\n                      <Link to={getProjectUrl(createdProject.key)}>{createdProject.name}</Link>\n                    )\n                  }}\n                />\n              </Alert>\n            </div>\n\n            <footer className=\"modal-foot\">\n              <ResetButtonLink\n                id=\"create-project-close\"\n                innerRef={node => (this.closeButton = node)}\n                onClick={this.props.onClose}>\n                {translate('close')}\n              </ResetButtonLink>\n            </footer>\n          </div>\n        ) : (\n          <form id=\"create-project-form\" onSubmit={this.handleFormSubmit}>\n            <header className=\"modal-head\">\n              <h2>{translate('qualifiers.create.TRK')}</h2>\n            </header>\n\n            <div className=\"modal-body\">\n              <div className=\"modal-field\">\n                <label htmlFor=\"create-project-name\">\n                  {translate('name')}\n                  <em className=\"mandatory\">*</em>\n                </label>\n                <input\n                  autoFocus={true}\n                  id=\"create-project-name\"\n                  maxLength={2000}\n                  name=\"name\"\n                  onChange={this.handleInputChange}\n                  required={true}\n                  type=\"text\"\n                  value={this.state.name}\n                />\n              </div>\n              <div className=\"modal-field\">\n                <label htmlFor=\"create-project-key\">\n                  {translate('key')}\n                  <em className=\"mandatory\">*</em>\n                </label>\n                <input\n                  id=\"create-project-key\"\n                  maxLength={400}\n                  name=\"key\"\n                  onChange={this.handleInputChange}\n                  required={true}\n                  type=\"text\"\n                  value={this.state.key}\n                />\n              </div>\n              <div className=\"modal-field\">\n                <label>{translate('visibility')}</label>\n                <VisibilitySelector\n                  canTurnToPrivate={organization.canUpdateProjectsVisibilityToPrivate}\n                  className=\"little-spacer-top\"\n                  onChange={this.handleVisibilityChange}\n                  visibility={this.state.visibility}\n                />\n              </div>\n              {organization.actions &&\n                organization.actions.admin &&\n                !organization.canUpdateProjectsVisibilityToPrivate && (\n                  <div className=\"spacer-top display-flex-space-around\">\n                    <UpgradeOrganizationBox\n                      insideModal={true}\n                      onOrganizationUpgrade={this.props.onOrganizationUpgrade}\n                      organization={organization}\n                    />\n                  </div>\n                )}\n            </div>\n\n            <footer className=\"modal-foot\">\n              {this.state.loading && <i className=\"spinner spacer-right\" />}\n              <SubmitButton disabled={this.state.loading} id=\"create-project-submit\">\n                {translate('create')}\n              </SubmitButton>\n              <ResetButtonLink id=\"create-project-cancel\" onClick={this.props.onClose}>\n                {translate('cancel')}\n              </ResetButtonLink>\n            </footer>\n          </form>\n        )}\n      </Modal>\n    );\n  }\n}\n","var apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(window, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\nexports.setImmediate = setImmediate;\nexports.clearImmediate = clearImmediate;\n","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 68\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport Modal from '../../components/controls/Modal';\nimport { Button, ResetButtonLink } from '../../components/ui/buttons';\nimport { translate } from '../../helpers/l10n';\nimport { Alert } from '../../components/ui/Alert';\n\nexport interface Props {\n  onClose: () => void;\n  onConfirm: (visiblity: T.Visibility) => void;\n  organization: T.Organization;\n}\n\ninterface State {\n  visibility: T.Visibility;\n}\n\nexport default class ChangeDefaultVisibilityForm extends React.PureComponent<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = { visibility: props.organization.projectVisibility as T.Visibility };\n  }\n\n  handleConfirmClick = () => {\n    this.props.onConfirm(this.state.visibility);\n    this.props.onClose();\n  };\n\n  handleVisibilityClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    const visibility = event.currentTarget.dataset.visibility as T.Visibility;\n    this.setState({ visibility });\n  };\n\n  render() {\n    const { organization } = this.props;\n    return (\n      <Modal contentLabel=\"modal form\" onRequestClose={this.props.onClose}>\n        <header className=\"modal-head\">\n          <h2>{translate('organization.change_visibility_form.header')}</h2>\n        </header>\n\n        <div className=\"modal-body\">\n          {['public', 'private'].map(visibility => (\n            <div className=\"big-spacer-bottom\" key={visibility}>\n              <p>\n                {visibility === 'private' && !organization.canUpdateProjectsVisibilityToPrivate ? (\n                  <span className=\"text-muted cursor-not-allowed\">\n                    <i\n                      className={classNames('icon-radio', 'spacer-right', {\n                        'is-checked': this.state.visibility === visibility\n                      })}\n                    />\n                    {translate('visibility', visibility)}\n                  </span>\n                ) : (\n                  <a\n                    className=\"link-base-color link-no-underline\"\n                    data-visibility={visibility}\n                    href=\"#\"\n                    onClick={this.handleVisibilityClick}>\n                    <i\n                      className={classNames('icon-radio', 'spacer-right', {\n                        'is-checked': this.state.visibility === visibility\n                      })}\n                    />\n                    {translate('visibility', visibility)}\n                  </a>\n                )}\n              </p>\n              <p className=\"text-muted spacer-top\" style={{ paddingLeft: 22 }}>\n                {translate('visibility', visibility, 'description.short')}\n              </p>\n            </div>\n          ))}\n\n          {organization.canUpdateProjectsVisibilityToPrivate && (\n            <Alert variant=\"warning\">\n              {translate('organization.change_visibility_form.warning')}\n            </Alert>\n          )}\n        </div>\n\n        <footer className=\"modal-foot\">\n          <Button className=\"js-confirm\" onClick={this.handleConfirmClick}>\n            {translate('organization.change_visibility_form.submit')}\n          </Button>\n          <ResetButtonLink className=\"js-modal-close\" onClick={this.props.onClose}>\n            {translate('cancel')}\n          </ResetButtonLink>\n        </footer>\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ChangeDefaultVisibilityForm from './ChangeDefaultVisibilityForm';\nimport { EditButton, Button } from '../../components/ui/buttons';\nimport { translate } from '../../helpers/l10n';\nimport { isSonarCloud } from '../../helpers/system';\n\nexport interface Props {\n  hasProvisionPermission?: boolean;\n  onProjectCreate: () => void;\n  onVisibilityChange: (visibility: T.Visibility) => void;\n  organization: T.Organization;\n}\n\ninterface State {\n  visibilityForm: boolean;\n}\n\nexport default class Header extends React.PureComponent<Props, State> {\n  state: State = { visibilityForm: false };\n\n  handleChangeVisibilityClick = () => {\n    this.setState({ visibilityForm: true });\n  };\n\n  closeVisiblityForm = () => {\n    this.setState({ visibilityForm: false });\n  };\n\n  render() {\n    const { organization } = this.props;\n\n    return (\n      <header className=\"page-header\">\n        <h1 className=\"page-title\">{translate('projects_management')}</h1>\n\n        <div className=\"page-actions\">\n          {!isSonarCloud() &&\n            organization.projectVisibility && (\n              <span className=\"big-spacer-right\">\n                <span className=\"text-middle\">\n                  {translate('organization.default_visibility_of_new_projects')}{' '}\n                  <strong>{translate('visibility', organization.projectVisibility)}</strong>\n                </span>\n                <EditButton\n                  className=\"js-change-visibility spacer-left button-small\"\n                  onClick={this.handleChangeVisibilityClick}\n                />\n              </span>\n            )}\n          {this.props.hasProvisionPermission && (\n            <Button id=\"create-project\" onClick={this.props.onProjectCreate}>\n              {translate('qualifiers.create.TRK')}\n            </Button>\n          )}\n        </div>\n\n        <p className=\"page-description\">{translate('projects_management.page.description')}</p>\n\n        {!isSonarCloud() &&\n          this.state.visibilityForm && (\n            <ChangeDefaultVisibilityForm\n              onClose={this.closeVisiblityForm}\n              onConfirm={this.props.onVisibilityChange}\n              organization={organization}\n            />\n          )}\n      </header>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { getPermissionTemplates, bulkApplyTemplate } from '../../api/permissions';\nimport { translate, translateWithParameters } from '../../helpers/l10n';\nimport Modal from '../../components/controls/Modal';\nimport Select from '../../components/controls/Select';\nimport { Button, ResetButtonLink } from '../../components/ui/buttons';\nimport { toNotSoISOString } from '../../helpers/dates';\nimport { Alert } from '../../components/ui/Alert';\n\nexport interface Props {\n  analyzedBefore: Date | undefined;\n  onClose: () => void;\n  organization: string;\n  provisioned: boolean;\n  qualifier: string;\n  query: string;\n  selection: string[];\n  total: number;\n}\n\ninterface State {\n  done: boolean;\n  loading: boolean;\n  permissionTemplate?: string;\n  permissionTemplates?: T.PermissionTemplate[];\n  submitting: boolean;\n}\n\nexport default class BulkApplyTemplateModal extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { done: false, loading: true, submitting: false };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.loadPermissionTemplates();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  loadPermissionTemplates() {\n    this.setState({ loading: true });\n    getPermissionTemplates(this.props.organization).then(\n      ({ permissionTemplates }) => {\n        if (this.mounted) {\n          this.setState({\n            loading: false,\n            permissionTemplate:\n              permissionTemplates.length > 0 ? permissionTemplates[0].id : undefined,\n            permissionTemplates\n          });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  }\n\n  handleConfirmClick = () => {\n    const { analyzedBefore } = this.props;\n    const { permissionTemplate } = this.state;\n    if (permissionTemplate) {\n      this.setState({ submitting: true });\n      const parameters = this.props.selection.length\n        ? {\n            organization: this.props.organization,\n            projects: this.props.selection.join(),\n            templateId: permissionTemplate\n          }\n        : {\n            analyzedBefore: analyzedBefore && toNotSoISOString(analyzedBefore),\n            onProvisionedOnly: this.props.provisioned || undefined,\n            organization: this.props.organization,\n            qualifiers: this.props.qualifier,\n            q: this.props.query || undefined,\n            templateId: permissionTemplate\n          };\n      bulkApplyTemplate(parameters).then(\n        () => {\n          if (this.mounted) {\n            this.setState({ done: true, submitting: false });\n          }\n        },\n        () => {\n          if (this.mounted) {\n            this.setState({ submitting: false });\n          }\n        }\n      );\n    }\n  };\n\n  handlePermissionTemplateChange = ({ value }: { value: string }) => {\n    this.setState({ permissionTemplate: value });\n  };\n\n  renderWarning = () => (\n    <Alert variant=\"warning\">\n      {this.props.selection.length\n        ? translateWithParameters(\n            'permission_templates.bulk_apply_permission_template.apply_to_selected',\n            this.props.selection.length\n          )\n        : translateWithParameters(\n            'permission_templates.bulk_apply_permission_template.apply_to_all',\n            this.props.total\n          )}\n    </Alert>\n  );\n\n  renderSelect = () => (\n    <div className=\"modal-field\">\n      <label>\n        {translate('template')}\n        <em className=\"mandatory\">*</em>\n      </label>\n      <Select\n        clearable={false}\n        disabled={this.state.submitting}\n        onChange={this.handlePermissionTemplateChange}\n        options={this.state.permissionTemplates!.map(t => ({ label: t.name, value: t.id }))}\n        value={this.state.permissionTemplate}\n      />\n    </div>\n  );\n\n  render() {\n    const { done, loading, permissionTemplates, submitting } = this.state;\n    const header = translate('permission_templates.bulk_apply_permission_template');\n\n    return (\n      <Modal contentLabel={header} onRequestClose={this.props.onClose}>\n        <header className=\"modal-head\">\n          <h2>{header}</h2>\n        </header>\n\n        <div className=\"modal-body\">\n          {done && (\n            <Alert variant=\"success\">{translate('projects_role.apply_template.success')}</Alert>\n          )}\n\n          {loading && <i className=\"spinner\" />}\n\n          {!loading && !done && permissionTemplates && this.renderWarning()}\n          {!loading && !done && permissionTemplates && this.renderSelect()}\n        </div>\n\n        <footer className=\"modal-foot\">\n          {submitting && <i className=\"spinner spacer-right\" />}\n          {!loading &&\n            !done &&\n            permissionTemplates && (\n              <Button disabled={submitting} onClick={this.handleConfirmClick}>\n                {translate('apply')}\n              </Button>\n            )}\n          <ResetButtonLink className=\"js-modal-close\" onClick={this.props.onClose}>\n            {done ? translate('close') : translate('cancel')}\n          </ResetButtonLink>\n        </footer>\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { bulkDeleteProjects } from '../../api/components';\nimport Modal from '../../components/controls/Modal';\nimport { Button, ResetButtonLink } from '../../components/ui/buttons';\nimport { translate, translateWithParameters } from '../../helpers/l10n';\nimport { toNotSoISOString } from '../../helpers/dates';\nimport { Alert } from '../../components/ui/Alert';\n\nexport interface Props {\n  analyzedBefore: Date | undefined;\n  onClose: () => void;\n  onConfirm: () => void;\n  organization: string;\n  provisioned: boolean;\n  qualifier: string;\n  query: string;\n  selection: string[];\n  total: number;\n}\n\ninterface State {\n  loading: boolean;\n}\n\nexport default class DeleteModal extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleConfirmClick = () => {\n    this.setState({ loading: true });\n    const { analyzedBefore } = this.props;\n    const parameters = this.props.selection.length\n      ? {\n          organization: this.props.organization,\n          projects: this.props.selection.join()\n        }\n      : {\n          analyzedBefore: analyzedBefore && toNotSoISOString(analyzedBefore),\n          onProvisionedOnly: this.props.provisioned || undefined,\n          organization: this.props.organization,\n          qualifiers: this.props.qualifier,\n          q: this.props.query || undefined\n        };\n    bulkDeleteProjects(parameters).then(\n      () => {\n        if (this.mounted) {\n          this.props.onConfirm();\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  renderWarning = () => (\n    <Alert variant=\"warning\">\n      {this.props.selection.length\n        ? translateWithParameters(\n            'projects_management.delete_selected_warning',\n            this.props.selection.length\n          )\n        : translateWithParameters('projects_management.delete_all_warning', this.props.total)}\n    </Alert>\n  );\n\n  render() {\n    const header = translate('qualifiers.delete', this.props.qualifier);\n\n    return (\n      <Modal contentLabel={header} onRequestClose={this.props.onClose}>\n        <header className=\"modal-head\">\n          <h2>{header}</h2>\n        </header>\n\n        <div className=\"modal-body\">\n          {this.renderWarning()}\n          {translate('qualifiers.delete_confirm', this.props.qualifier)}\n        </div>\n\n        <footer className=\"modal-foot\">\n          {this.state.loading && <i className=\"spinner spacer-right\" />}\n          <Button\n            className=\"button-red\"\n            disabled={this.state.loading}\n            onClick={this.handleConfirmClick}>\n            {translate('delete')}\n          </Button>\n          <ResetButtonLink className=\"js-modal-close\" onClick={this.props.onClose}>\n            {translate('cancel')}\n          </ResetButtonLink>\n        </footer>\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { sortBy } from 'lodash';\nimport BulkApplyTemplateModal from './BulkApplyTemplateModal';\nimport DeleteModal from './DeleteModal';\nimport Checkbox from '../../components/controls/Checkbox';\nimport QualifierIcon from '../../components/icons-components/QualifierIcon';\nimport HelpTooltip from '../../components/controls/HelpTooltip';\nimport DateInput from '../../components/controls/DateInput';\nimport Select from '../../components/controls/Select';\nimport SearchBox from '../../components/controls/SearchBox';\nimport { Button } from '../../components/ui/buttons';\nimport { Project } from '../../api/components';\nimport { translate } from '../../helpers/l10n';\n\nexport interface Props {\n  analyzedBefore: Date | undefined;\n  onAllDeselected: () => void;\n  onAllSelected: () => void;\n  onDateChanged: (analyzedBefore: Date | undefined) => void;\n  onDeleteProjects: () => void;\n  onProvisionedChanged: (provisioned: boolean) => void;\n  onQualifierChanged: (qualifier: string) => void;\n  onVisibilityChanged: (qualifier: string) => void;\n  onSearch: (query: string) => void;\n  organization: T.Organization;\n  projects: Project[];\n  provisioned: boolean;\n  qualifiers: string;\n  query: string;\n  ready: boolean;\n  selection: any[];\n  topLevelQualifiers: string[];\n  total: number;\n  visibility?: T.Visibility;\n}\n\ninterface State {\n  bulkApplyTemplateModal: boolean;\n  deleteModal: boolean;\n}\n\nconst QUALIFIERS_ORDER = ['TRK', 'VW', 'APP'];\n\nexport default class Search extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { bulkApplyTemplateModal: false, deleteModal: false };\n\n  getQualifierOptions = () => {\n    const options = this.props.topLevelQualifiers.map(q => ({\n      label: translate('qualifiers', q),\n      value: q\n    }));\n    return sortBy(options, option => QUALIFIERS_ORDER.indexOf(option.value));\n  };\n\n  onCheck = (checked: boolean) => {\n    if (checked) {\n      this.props.onAllSelected();\n    } else {\n      this.props.onAllDeselected();\n    }\n  };\n\n  handleDeleteClick = () => {\n    this.setState({ deleteModal: true });\n  };\n\n  closeDeleteModal = () => {\n    this.setState({ deleteModal: false });\n  };\n\n  handleDeleteConfirm = () => {\n    this.closeDeleteModal();\n    this.props.onDeleteProjects();\n  };\n\n  handleBulkApplyTemplateClick = () => {\n    this.setState({ bulkApplyTemplateModal: true });\n  };\n\n  closeBulkApplyTemplateModal = () => {\n    this.setState({ bulkApplyTemplateModal: false });\n  };\n\n  handleQualifierChange = ({ value }: { value: string }) => this.props.onQualifierChanged(value);\n\n  handleVisibilityChange = ({ value }: { value: string }) => this.props.onVisibilityChanged(value);\n\n  renderCheckbox = () => {\n    const isAllChecked =\n      this.props.projects.length > 0 && this.props.selection.length === this.props.projects.length;\n    const thirdState =\n      this.props.projects.length > 0 &&\n      this.props.selection.length > 0 &&\n      this.props.selection.length < this.props.projects.length;\n    const checked = isAllChecked || thirdState;\n    return (\n      <Checkbox\n        checked={checked}\n        id=\"projects-selection\"\n        onCheck={this.onCheck}\n        thirdState={thirdState}\n      />\n    );\n  };\n\n  renderQualifierOption = (option: { label: string; value: string }) => (\n    <span>\n      <QualifierIcon className=\"little-spacer-right\" qualifier={option.value} />\n      {option.label}\n    </span>\n  );\n\n  renderQualifierFilter = () => {\n    const options = this.getQualifierOptions();\n    if (options.length < 2) {\n      return null;\n    }\n    return (\n      <td className=\"thin nowrap text-middle\">\n        <Select\n          className=\"input-medium\"\n          clearable={false}\n          disabled={!this.props.ready}\n          name=\"projects-qualifier\"\n          onChange={this.handleQualifierChange}\n          optionRenderer={this.renderQualifierOption}\n          options={this.getQualifierOptions()}\n          searchable={false}\n          value={this.props.qualifiers}\n          valueRenderer={this.renderQualifierOption}\n        />\n      </td>\n    );\n  };\n\n  renderVisibilityFilter = () => {\n    return (\n      <td className=\"thin nowrap text-middle\">\n        <Select\n          className=\"input-small\"\n          clearable={false}\n          disabled={!this.props.ready}\n          name=\"projects-visibility\"\n          onChange={this.handleVisibilityChange}\n          options={[\n            { value: 'all', label: translate('visibility.both') },\n            { value: 'public', label: translate('visibility.public') },\n            { value: 'private', label: translate('visibility.private') }\n          ]}\n          searchable={false}\n          value={this.props.visibility || 'all'}\n        />\n      </td>\n    );\n  };\n\n  renderTypeFilter = () =>\n    this.props.qualifiers === 'TRK' ? (\n      <td className=\"thin nowrap text-middle\">\n        <Checkbox\n          checked={this.props.provisioned}\n          className=\"link-checkbox-control\"\n          id=\"projects-provisioned\"\n          onCheck={this.props.onProvisionedChanged}>\n          <span className=\"text-middle little-spacer-left\">\n            {translate('provisioning.only_provisioned')}\n          </span>\n        </Checkbox>\n        <HelpTooltip\n          className=\"spacer-left\"\n          overlay={translate('provisioning.only_provisioned.tooltip')}\n        />\n      </td>\n    ) : null;\n\n  renderDateFilter = () => {\n    return (\n      <td className=\"thin nowrap text-middle\">\n        <DateInput\n          inputClassName=\"input-medium\"\n          name=\"analyzed-before\"\n          onChange={this.props.onDateChanged}\n          placeholder={translate('last_analysis_before')}\n          value={this.props.analyzedBefore}\n        />\n      </td>\n    );\n  };\n\n  render() {\n    return (\n      <div className=\"big-spacer-bottom\">\n        <table className=\"data\">\n          <tbody>\n            <tr>\n              <td className=\"thin text-middle\">\n                {this.props.ready ? this.renderCheckbox() : <i className=\"spinner\" />}\n              </td>\n              {this.renderQualifierFilter()}\n              {this.renderDateFilter()}\n              {this.renderVisibilityFilter()}\n              {this.renderTypeFilter()}\n              <td className=\"text-middle\">\n                <SearchBox\n                  minLength={3}\n                  onChange={this.props.onSearch}\n                  placeholder={translate('search.search_by_name_or_key')}\n                  value={this.props.query}\n                />\n              </td>\n              <td className=\"thin nowrap text-middle\">\n                <Button\n                  className=\"js-bulk-apply-permission-template\"\n                  disabled={this.props.total === 0}\n                  onClick={this.handleBulkApplyTemplateClick}>\n                  {translate('permission_templates.bulk_apply_permission_template')}\n                </Button>\n                {this.props.qualifiers === 'TRK' && (\n                  <Button\n                    className=\"js-delete spacer-left button-red\"\n                    disabled={this.props.total === 0}\n                    onClick={this.handleDeleteClick}>\n                    {translate('delete')}\n                  </Button>\n                )}\n              </td>\n            </tr>\n          </tbody>\n        </table>\n\n        {this.state.bulkApplyTemplateModal && (\n          <BulkApplyTemplateModal\n            analyzedBefore={this.props.analyzedBefore}\n            onClose={this.closeBulkApplyTemplateModal}\n            organization={this.props.organization.key}\n            provisioned={this.props.provisioned}\n            qualifier={this.props.qualifiers}\n            query={this.props.query}\n            selection={this.props.selection}\n            total={this.props.total}\n          />\n        )}\n\n        {this.state.deleteModal && (\n          <DeleteModal\n            analyzedBefore={this.props.analyzedBefore}\n            onClose={this.closeDeleteModal}\n            onConfirm={this.handleDeleteConfirm}\n            organization={this.props.organization.key}\n            provisioned={this.props.provisioned}\n            qualifier={this.props.qualifiers}\n            query={this.props.query}\n            selection={this.props.selection}\n            total={this.props.total}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { grantPermissionToUser } from '../../api/permissions';\nimport Modal from '../../components/controls/Modal';\nimport { SubmitButton, ResetButtonLink } from '../../components/ui/buttons';\nimport { translate } from '../../helpers/l10n';\nimport { Project } from '../../api/components';\n\ninterface Props {\n  currentUser: { login: string };\n  onClose: () => void;\n  onRestoreAccess: () => void;\n  project: Project;\n}\n\ninterface State {\n  loading: boolean;\n}\n\nexport default class RestoreAccessModal extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleFormSubmit = (event: React.SyntheticEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    this.setState({ loading: true });\n    Promise.all([this.grantPermission('user'), this.grantPermission('admin')]).then(\n      this.props.onRestoreAccess,\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  grantPermission = (permission: string) =>\n    grantPermissionToUser({\n      projectKey: this.props.project.key,\n      login: this.props.currentUser.login,\n      permission,\n      organization: this.props.project.organization\n    });\n\n  render() {\n    const header = translate('global_permissions.restore_access');\n\n    return (\n      <Modal contentLabel={header} onRequestClose={this.props.onClose}>\n        <form onSubmit={this.handleFormSubmit}>\n          <header className=\"modal-head\">\n            <h2>{header}</h2>\n          </header>\n\n          <div className=\"modal-body\">\n            <FormattedMessage\n              defaultMessage={translate('global_permissions.restore_access.message')}\n              id=\"global_permissions.restore_access.message\"\n              values={{\n                browse: <strong>{translate('projects_role.user')}</strong>,\n                administer: <strong>{translate('projects_role.admin')}</strong>\n              }}\n            />\n          </div>\n\n          <footer className=\"modal-foot\">\n            {this.state.loading && <i className=\"spinner spacer-right\" />}\n            <SubmitButton disabled={this.state.loading}>{translate('restore')}</SubmitButton>\n            <ResetButtonLink onClick={this.props.onClose}>{translate('cancel')}</ResetButtonLink>\n          </footer>\n        </form>\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport RestoreAccessModal from './RestoreAccessModal';\nimport ApplyTemplate from '../permissions/project/components/ApplyTemplate';\nimport { getComponentShow, Project } from '../../api/components';\nimport { getComponentNavigation } from '../../api/nav';\nimport ActionsDropdown, { ActionsDropdownItem } from '../../components/controls/ActionsDropdown';\nimport { translate } from '../../helpers/l10n';\nimport { getComponentPermissionsUrl } from '../../helpers/urls';\n\nexport interface Props {\n  currentUser: { login: string };\n  organization: string | undefined;\n  project: Project;\n}\n\ninterface State {\n  applyTemplateModal: boolean;\n  hasAccess?: boolean;\n  loading: boolean;\n  restoreAccessModal: boolean;\n}\n\nexport default class ProjectRowActions extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { applyTemplateModal: false, loading: false, restoreAccessModal: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchPermissions = () => {\n    this.setState({ loading: false });\n    // call `getComponentNavigation` to check if user has the \"Administer\" permission\n    // call `getComponentShow` to check if user has the \"Browse\" permission\n    Promise.all([\n      getComponentNavigation({ component: this.props.project.key }),\n      getComponentShow({ component: this.props.project.key })\n    ]).then(\n      ([navResponse]) => {\n        if (this.mounted) {\n          const hasAccess = Boolean(\n            navResponse.configuration && navResponse.configuration.showPermissions\n          );\n          this.setState({ hasAccess, loading: false });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ hasAccess: false, loading: false });\n        }\n      }\n    );\n  };\n\n  handleDropdownOpen = () => {\n    if (this.state.hasAccess === undefined && !this.state.loading) {\n      this.fetchPermissions();\n    }\n  };\n\n  handleApplyTemplateClick = () => {\n    this.setState({ applyTemplateModal: true });\n  };\n\n  handleApplyTemplateClose = () => {\n    if (this.mounted) {\n      this.setState({ applyTemplateModal: false });\n    }\n  };\n\n  handleRestoreAccessClick = () => {\n    this.setState({ restoreAccessModal: true });\n  };\n\n  handleRestoreAccessClose = () => this.setState({ restoreAccessModal: false });\n\n  handleRestoreAccessDone = () => {\n    this.setState({ hasAccess: true, restoreAccessModal: false });\n  };\n\n  render() {\n    const { hasAccess } = this.state;\n\n    return (\n      <>\n        <ActionsDropdown onOpen={this.handleDropdownOpen}>\n          {hasAccess === true && (\n            <ActionsDropdownItem to={getComponentPermissionsUrl(this.props.project.key)}>\n              {translate('edit_permissions')}\n            </ActionsDropdownItem>\n          )}\n\n          {hasAccess === false && (\n            <ActionsDropdownItem\n              className=\"js-restore-access\"\n              onClick={this.handleRestoreAccessClick}>\n              {translate('global_permissions.restore_access')}\n            </ActionsDropdownItem>\n          )}\n\n          <ActionsDropdownItem\n            className=\"js-apply-template\"\n            onClick={this.handleApplyTemplateClick}>\n            {translate('projects_role.apply_template')}\n          </ActionsDropdownItem>\n        </ActionsDropdown>\n\n        {this.state.restoreAccessModal && (\n          <RestoreAccessModal\n            currentUser={this.props.currentUser}\n            onClose={this.handleRestoreAccessClose}\n            onRestoreAccess={this.handleRestoreAccessDone}\n            project={this.props.project}\n          />\n        )}\n\n        {this.state.applyTemplateModal && (\n          <ApplyTemplate\n            onClose={this.handleApplyTemplateClose}\n            organization={this.props.organization}\n            project={this.props.project}\n          />\n        )}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport ProjectRowActions from './ProjectRowActions';\nimport PrivacyBadgeContainer from '../../components/common/PrivacyBadgeContainer';\nimport Checkbox from '../../components/controls/Checkbox';\nimport QualifierIcon from '../../components/icons-components/QualifierIcon';\nimport DateTooltipFormatter from '../../components/intl/DateTooltipFormatter';\nimport { Project } from '../../api/components';\n\ninterface Props {\n  currentUser: { login: string };\n  onProjectCheck: (project: Project, checked: boolean) => void;\n  organization: string | undefined;\n  project: Project;\n  selected: boolean;\n}\n\nexport default class ProjectRow extends React.PureComponent<Props> {\n  handleProjectCheck = (checked: boolean) => {\n    this.props.onProjectCheck(this.props.project, checked);\n  };\n\n  render() {\n    const { organization, project, selected } = this.props;\n\n    return (\n      <tr>\n        <td className=\"thin\">\n          <Checkbox checked={selected} onCheck={this.handleProjectCheck} />\n        </td>\n\n        <td className=\"nowrap\">\n          <Link\n            className=\"link-with-icon\"\n            to={{ pathname: '/dashboard', query: { id: project.key } }}>\n            <QualifierIcon qualifier={project.qualifier} /> <span>{project.name}</span>\n          </Link>\n        </td>\n\n        <td className=\"thin nowrap\">\n          <PrivacyBadgeContainer\n            organization={organization}\n            qualifier={project.qualifier}\n            tooltipProps={{ projectKey: project.key }}\n            visibility={project.visibility}\n          />\n        </td>\n\n        <td className=\"nowrap\">\n          <span className=\"note\">{project.key}</span>\n        </td>\n\n        <td className=\"thin nowrap text-right\">\n          {project.lastAnalysisDate ? (\n            <DateTooltipFormatter date={project.lastAnalysisDate} />\n          ) : (\n            <span className=\"note\"></span>\n          )}\n        </td>\n\n        <td className=\"thin nowrap\">\n          <ProjectRowActions\n            currentUser={this.props.currentUser}\n            organization={organization}\n            project={project}\n          />\n        </td>\n      </tr>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport ProjectRow from './ProjectRow';\nimport { translate } from '../../helpers/l10n';\nimport { Project } from '../../api/components';\n\ninterface Props {\n  currentUser: { login: string };\n  onProjectDeselected: (project: string) => void;\n  onProjectSelected: (project: string) => void;\n  organization: T.Organization;\n  projects: Project[];\n  ready?: boolean;\n  selection: string[];\n}\n\nexport default class Projects extends React.PureComponent<Props> {\n  onProjectCheck = (project: Project, checked: boolean) => {\n    if (checked) {\n      this.props.onProjectSelected(project.key);\n    } else {\n      this.props.onProjectDeselected(project.key);\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"boxed-group boxed-group-inner\">\n        <table\n          className={classNames('data', 'zebra', { 'new-loading': !this.props.ready })}\n          id=\"projects-management-page-projects\">\n          <thead>\n            <tr>\n              <th />\n              <th>{translate('name')}</th>\n              <th />\n              <th>{translate('key')}</th>\n              <th className=\"thin nowrap text-right\">{translate('last_analysis')}</th>\n              <th />\n            </tr>\n          </thead>\n          <tbody>\n            {this.props.projects.map(project => (\n              <ProjectRow\n                currentUser={this.props.currentUser}\n                key={project.key}\n                onProjectCheck={this.onProjectCheck}\n                organization={this.props.organization && this.props.organization.key}\n                project={project}\n                selected={this.props.selection.includes(project.key)}\n              />\n            ))}\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Helmet from 'react-helmet';\nimport { debounce, uniq, without } from 'lodash';\nimport Header from './Header';\nimport Search from './Search';\nimport Projects from './Projects';\nimport CreateProjectForm from './CreateProjectForm';\nimport ListFooter from '../../components/controls/ListFooter';\nimport Suggestions from '../../app/components/embed-docs-modal/Suggestions';\nimport { getComponents, Project } from '../../api/components';\nimport { toNotSoISOString } from '../../helpers/dates';\nimport { translate } from '../../helpers/l10n';\n\nexport interface Props {\n  currentUser: { login: string };\n  hasProvisionPermission?: boolean;\n  onOrganizationUpgrade: () => void;\n  onVisibilityChange: (visibility: T.Visibility) => void;\n  organization: T.Organization;\n  topLevelQualifiers: string[];\n}\n\ninterface State {\n  analyzedBefore?: Date;\n  createProjectForm: boolean;\n  page: number;\n  projects: Project[];\n  provisioned: boolean;\n  qualifiers: string;\n  query: string;\n  ready: boolean;\n  selection: string[];\n  total: number;\n  visibility?: T.Visibility;\n}\n\nconst PAGE_SIZE = 50;\n\nexport default class App extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      createProjectForm: false,\n      ready: false,\n      projects: [],\n      provisioned: false,\n      total: 0,\n      page: 1,\n      query: '',\n      qualifiers: 'TRK',\n      selection: []\n    };\n    this.requestProjects = debounce(this.requestProjects, 250);\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    this.requestProjects();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  requestProjects = () => {\n    const { analyzedBefore } = this.state;\n    const parameters = {\n      analyzedBefore: analyzedBefore && toNotSoISOString(analyzedBefore),\n      onProvisionedOnly: this.state.provisioned || undefined,\n      organization: this.props.organization.key,\n      p: this.state.page !== 1 ? this.state.page : undefined,\n      ps: PAGE_SIZE,\n      q: this.state.query || undefined,\n      qualifiers: this.state.qualifiers,\n      visibility: this.state.visibility\n    };\n    getComponents(parameters).then(\n      r => {\n        if (this.mounted) {\n          let projects: Project[] = r.components;\n          if (this.state.page > 1) {\n            projects = [...this.state.projects, ...projects];\n          }\n          this.setState({ ready: true, projects, selection: [], total: r.paging.total });\n        }\n      },\n      () => {}\n    );\n  };\n\n  loadMore = () => {\n    this.setState(({ page }) => ({ ready: false, page: page + 1 }), this.requestProjects);\n  };\n\n  onSearch = (query: string) => {\n    this.setState({ ready: false, page: 1, query, selection: [] }, this.requestProjects);\n  };\n\n  onProvisionedChanged = (provisioned: boolean) => {\n    this.setState(\n      { ready: false, page: 1, query: '', provisioned, qualifiers: 'TRK', selection: [] },\n      this.requestProjects\n    );\n  };\n\n  onQualifierChanged = (newQualifier: string) => {\n    this.setState(\n      {\n        ready: false,\n        page: 1,\n        provisioned: false,\n        query: '',\n        qualifiers: newQualifier,\n        selection: []\n      },\n      this.requestProjects\n    );\n  };\n\n  onVisibilityChanged = (newVisibility: T.Visibility | 'all') => {\n    this.setState(\n      {\n        ready: false,\n        page: 1,\n        provisioned: false,\n        query: '',\n        visibility: newVisibility === 'all' ? undefined : newVisibility,\n        selection: []\n      },\n      this.requestProjects\n    );\n  };\n\n  handleDateChanged = (analyzedBefore: Date | undefined) =>\n    this.setState({ ready: false, page: 1, analyzedBefore }, this.requestProjects);\n\n  onProjectSelected = (project: string) => {\n    this.setState(({ selection }) => ({ selection: uniq([...selection, project]) }));\n  };\n\n  onProjectDeselected = (project: string) => {\n    this.setState(({ selection }) => ({ selection: without(selection, project) }));\n  };\n\n  onAllSelected = () => {\n    this.setState(({ projects }) => ({ selection: projects.map(project => project.key) }));\n  };\n\n  onAllDeselected = () => {\n    this.setState({ selection: [] });\n  };\n\n  openCreateProjectForm = () => {\n    this.setState({ createProjectForm: true });\n  };\n\n  closeCreateProjectForm = () => {\n    this.setState({ createProjectForm: false });\n  };\n\n  render() {\n    return (\n      <div className=\"page page-limited\" id=\"projects-management-page\">\n        <Suggestions suggestions=\"projects_management\" />\n        <Helmet title={translate('projects_management')} />\n\n        <Header\n          hasProvisionPermission={this.props.hasProvisionPermission}\n          onProjectCreate={this.openCreateProjectForm}\n          onVisibilityChange={this.props.onVisibilityChange}\n          organization={this.props.organization}\n        />\n\n        <Search\n          analyzedBefore={this.state.analyzedBefore}\n          onAllDeselected={this.onAllDeselected}\n          onAllSelected={this.onAllSelected}\n          onDateChanged={this.handleDateChanged}\n          onDeleteProjects={this.requestProjects}\n          onProvisionedChanged={this.onProvisionedChanged}\n          onQualifierChanged={this.onQualifierChanged}\n          onSearch={this.onSearch}\n          onVisibilityChanged={this.onVisibilityChanged}\n          organization={this.props.organization}\n          projects={this.state.projects}\n          provisioned={this.state.provisioned}\n          qualifiers={this.state.qualifiers}\n          query={this.state.query}\n          ready={this.state.ready}\n          selection={this.state.selection}\n          topLevelQualifiers={this.props.topLevelQualifiers}\n          total={this.state.total}\n          visibility={this.state.visibility}\n        />\n\n        <Projects\n          currentUser={this.props.currentUser}\n          onProjectDeselected={this.onProjectDeselected}\n          onProjectSelected={this.onProjectSelected}\n          organization={this.props.organization}\n          projects={this.state.projects}\n          ready={this.state.ready}\n          selection={this.state.selection}\n        />\n\n        <ListFooter\n          count={this.state.projects.length}\n          loadMore={this.loadMore}\n          ready={this.state.ready}\n          total={this.state.total}\n        />\n\n        {this.state.createProjectForm && (\n          <CreateProjectForm\n            onClose={this.closeCreateProjectForm}\n            onOrganizationUpgrade={this.props.onOrganizationUpgrade}\n            onProjectCreated={this.requestProjects}\n            organization={this.props.organization}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport App from './App';\nimport forSingleOrganization from '../organizations/forSingleOrganization';\nimport { getAppState, getOrganizationByKey, getCurrentUser, Store } from '../../store/rootReducer';\nimport { receiveOrganizations } from '../../store/organizations';\nimport { changeProjectDefaultVisibility } from '../../api/permissions';\nimport { fetchOrganization } from '../../store/rootActions';\n\ninterface StateProps {\n  appState: { defaultOrganization: string; qualifiers: string[] };\n  currentUser: T.LoggedInUser;\n  organization?: T.Organization;\n}\n\ninterface DispatchProps {\n  fetchOrganization: (organization: string) => void;\n  onVisibilityChange: (organization: T.Organization, visibility: T.Visibility) => void;\n}\n\ninterface OwnProps {\n  onRequestFail: (error: any) => void;\n  organization: T.Organization;\n}\n\nclass AppContainer extends React.PureComponent<OwnProps & StateProps & DispatchProps> {\n  componentDidMount() {\n    // if there is no organization, that means we are in the global scope\n    // let's fetch defails for the default organization in this case\n    if (!this.props.organization || !this.props.organization.projectVisibility) {\n      this.props.fetchOrganization(this.props.appState.defaultOrganization);\n    }\n  }\n\n  handleOrganizationUpgrade = () => {\n    this.props.fetchOrganization(this.props.organization.key);\n  };\n\n  handleVisibilityChange = (visibility: T.Visibility) => {\n    if (this.props.organization) {\n      this.props.onVisibilityChange(this.props.organization, visibility);\n    }\n  };\n\n  render() {\n    const { organization } = this.props;\n\n    if (!organization) {\n      return null;\n    }\n\n    const topLevelQualifiers = organization.isDefault ? this.props.appState.qualifiers : ['TRK'];\n    const { actions = {} } = organization;\n\n    return (\n      <App\n        currentUser={this.props.currentUser}\n        hasProvisionPermission={actions.provision}\n        onOrganizationUpgrade={this.handleOrganizationUpgrade}\n        onVisibilityChange={this.handleVisibilityChange}\n        organization={organization}\n        topLevelQualifiers={topLevelQualifiers}\n      />\n    );\n  }\n}\n\nconst mapStateToProps = (state: Store, ownProps: OwnProps) => ({\n  appState: getAppState(state),\n  currentUser: getCurrentUser(state) as T.LoggedInUser,\n  organization:\n    ownProps.organization || getOrganizationByKey(state, getAppState(state).defaultOrganization)\n});\n\nconst onVisibilityChange = (organization: T.Organization, visibility: T.Visibility) => (\n  dispatch: Function\n) => {\n  const currentVisibility = organization.projectVisibility;\n  dispatch(receiveOrganizations([{ ...organization, projectVisibility: visibility }]));\n  changeProjectDefaultVisibility(organization.key, visibility).catch(() => {\n    dispatch(receiveOrganizations([{ ...organization, projectVisibility: currentVisibility }]));\n  });\n};\n\nconst mapDispatchToProps = (dispatch: Function) => ({\n  fetchOrganization: (key: string) => dispatch(fetchOrganization(key)),\n  onVisibilityChange: (organization: T.Organization, visibility: T.Visibility) =>\n    dispatch(onVisibilityChange(organization, visibility))\n});\n\nexport default forSingleOrganization(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )(AppContainer)\n);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport HelpTooltip from '../controls/HelpTooltip';\nimport { lazyLoad } from '../lazyLoad';\n\nconst DocMarkdownBlock = lazyLoad(() => import('./DocMarkdownBlock'));\n\ninterface Props {\n  className?: string;\n  children?: React.ReactNode;\n  // Use as `import(/* webpackMode: \"eager\" */ 'Docs/tooltips/foo/bar.md')`\n  doc: Promise<{ default: string }>;\n  overlayProps?: { [k: string]: string };\n}\n\ninterface State {\n  content?: string;\n  open: boolean;\n}\n\nexport default class DocTooltip extends React.PureComponent<Props, State> {\n  state: State = { open: false };\n\n  componentDidMount() {\n    this.props.doc.then(\n      ({ default: content }) => {\n        this.setState({ content });\n      },\n      () => {}\n    );\n    document.addEventListener('scroll', this.close, true);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('scroll', this.close, true);\n  }\n\n  close = () => {\n    this.setState({ open: false });\n  };\n\n  render() {\n    return this.state.content ? (\n      <HelpTooltip\n        className={this.props.className}\n        overlay={\n          <div className=\"abs-width-300\">\n            <DocMarkdownBlock\n              childProps={this.props.overlayProps}\n              className=\"cut-margins\"\n              content={this.state.content}\n              isTooltip={true}\n            />\n          </div>\n        }>\n        {this.props.children}\n      </HelpTooltip>\n    ) : (\n      this.props.children || null\n    );\n  }\n}\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * The base implementation of `_.inRange` which doesn't coerce arguments.\n *\n * @private\n * @param {number} number The number to check.\n * @param {number} start The start of the range.\n * @param {number} end The end of the range.\n * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n */\nfunction baseInRange(number, start, end) {\n  return number >= nativeMin(start, end) && number < nativeMax(start, end);\n}\n\nmodule.exports = baseInRange;\n","var baseInRange = require('./_baseInRange'),\n    toFinite = require('./toFinite'),\n    toNumber = require('./toNumber');\n\n/**\n * Checks if `n` is between `start` and up to, but not including, `end`. If\n * `end` is not specified, it's set to `start` with `start` then set to `0`.\n * If `start` is greater than `end` the params are swapped to support\n * negative ranges.\n *\n * @static\n * @memberOf _\n * @since 3.3.0\n * @category Number\n * @param {number} number The number to check.\n * @param {number} [start=0] The start of the range.\n * @param {number} end The end of the range.\n * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n * @see _.range, _.rangeRight\n * @example\n *\n * _.inRange(3, 2, 4);\n * // => true\n *\n * _.inRange(4, 8);\n * // => true\n *\n * _.inRange(4, 2);\n * // => false\n *\n * _.inRange(2, 2);\n * // => false\n *\n * _.inRange(1.2, 2);\n * // => true\n *\n * _.inRange(5.2, 4);\n * // => false\n *\n * _.inRange(-3, -2, -6);\n * // => true\n */\nfunction inRange(number, start, end) {\n  start = toFinite(start);\n  if (end === undefined) {\n    end = start;\n    start = 0;\n  } else {\n    end = toFinite(end);\n  }\n  number = toNumber(number);\n  return baseInRange(number, start, end);\n}\n\nmodule.exports = inRange;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { isLoggedIn } from './users';\n\nexport function hasAdvancedALMIntegration(user: T.CurrentUser) {\n  return (\n    isLoggedIn(user) && (isBitbucket(user.externalProvider) || isGithub(user.externalProvider))\n  );\n}\n\nexport function isBitbucket(almKey?: string) {\n  return almKey && almKey.startsWith('bitbucket');\n}\n\nexport function isGithub(almKey?: string) {\n  return almKey === 'github';\n}\n\nexport function isVSTS(almKey?: string) {\n  return almKey === 'microsoft';\n}\n\nexport function isPersonal(organization?: T.AlmOrganization) {\n  return Boolean(organization && organization.personal);\n}\n\nexport function sanitizeAlmId(almKey?: string) {\n  if (isBitbucket(almKey)) {\n    return 'bitbucket';\n  }\n  return almKey;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { memoize } from 'lodash';\nimport { translateWithParameters } from '../../../helpers/l10n';\nimport { formatMeasure } from '../../../helpers/measures';\nimport {\n  RawQuery,\n  parseAsOptionalString,\n  cleanQuery,\n  serializeString\n} from '../../../helpers/query';\nimport { isBitbucket, isGithub } from '../../../helpers/almIntegrations';\nimport { decodeJwt } from '../../../helpers/strings';\n\nexport const ORGANIZATION_IMPORT_BINDING_IN_PROGRESS_TIMESTAMP =\n  'sonarcloud.import_org.binding_in_progress';\n\nexport const ORGANIZATION_IMPORT_REDIRECT_TO_PROJECT_TIMESTAMP =\n  'sonarcloud.import_org.redirect_to_projects';\n\nexport enum Step {\n  OrganizationDetails,\n  Plan\n}\n\nexport function formatPrice(price?: number, noSign?: boolean) {\n  const priceFormatted = formatMeasure(price, 'FLOAT')\n    .replace(/[.|,]0$/, '')\n    .replace(/([.|,]\\d)$/, '$10');\n  return noSign ? priceFormatted : translateWithParameters('billing.price_format', priceFormatted);\n}\n\nexport interface Query {\n  almInstallId?: string;\n  almKey?: string;\n}\n\nexport const parseQuery = memoize(\n  (urlQuery: RawQuery = {}): Query => {\n    let almInstallId = undefined;\n    let almKey = undefined;\n\n    if (urlQuery['installation_id']) {\n      almKey = 'github';\n      almInstallId = parseAsOptionalString(urlQuery['installation_id']);\n    } else if (urlQuery['clientKey']) {\n      almKey = 'bitbucket';\n      almInstallId = parseAsOptionalString(urlQuery['clientKey']);\n    } else if (urlQuery['jwt']) {\n      const jwt = decodeJwt(urlQuery['jwt']);\n      if (jwt && jwt.iss) {\n        almKey = 'bitbucket';\n        almInstallId = jwt.iss;\n      }\n    }\n    return { almInstallId, almKey };\n  }\n);\n\nexport const serializeQuery = (query: Query): RawQuery =>\n  cleanQuery({\n    installation_id: isGithub(query.almKey) ? serializeString(query.almInstallId) : undefined,\n    clientKey: isBitbucket(query.almKey) ? serializeString(query.almInstallId) : undefined\n  });\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport CheckIcon from '../../../components/icons-components/CheckIcon';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport * as theme from '../../../app/theme';\n\nconst TRIAL_DURATION_DAYS = 14;\n\nexport default function UpgradeOrganizationAdvantages() {\n  return (\n    <ul className=\"note\">\n      <Advantage>{translate('billing.upgrade_box.unlimited_private_projects')}</Advantage>\n      <Advantage>{translate('billing.upgrade_box.strict_control_private_data')}</Advantage>\n      <Advantage>{translate('billing.upgrade_box.cancel_anytime')}</Advantage>\n      <Advantage>\n        <strong>\n          {translateWithParameters('billing.upgrade_box.free_trial_x', TRIAL_DURATION_DAYS)}\n        </strong>\n      </Advantage>\n    </ul>\n  );\n}\n\nexport function Advantage({ children }: { children: React.ReactNode }) {\n  return (\n    <li className=\"display-flex-center little-spacer-bottom\">\n      <CheckIcon className=\"spacer-right\" fill={theme.lightGreen} />\n      {children}\n    </li>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { isLoggedIn } from './users';\n\nexport function isPaidOrganization(organization: T.Organization | undefined): boolean {\n  return Boolean(organization && organization.subscription === 'PAID');\n}\n\nexport function hasPrivateAccess(\n  currentUser: T.CurrentUser,\n  organization: T.Organization | undefined,\n  userOrganizations: T.Organization[]\n): boolean {\n  return (\n    !isPaidOrganization(organization) ||\n    isCurrentUserMemberOf(currentUser, organization, userOrganizations)\n  );\n}\n\nexport function isCurrentUserMemberOf(\n  currentUser: T.CurrentUser,\n  organization: T.Organization | undefined,\n  userOrganizations: T.Organization[]\n): boolean {\n  return Boolean(\n    organization &&\n      isLoggedIn(currentUser) &&\n      ((organization.actions && organization.actions.admin) ||\n        userOrganizations.some(org => org.key === organization.key))\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { BaseSearchProjectsParameters } from './components';\nimport { getJSON, post, postJSON, RequestData } from '../helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nconst PAGE_SIZE = 100;\n\nexport function grantPermissionToUser(data: {\n  projectKey?: string;\n  login: string;\n  permission: string;\n  organization?: string;\n}) {\n  return post('/api/permissions/add_user', data).catch(throwGlobalError);\n}\n\nexport function revokePermissionFromUser(data: {\n  projectKey?: string;\n  login: string;\n  permission: string;\n  organization?: string;\n}) {\n  return post('/api/permissions/remove_user', data).catch(throwGlobalError);\n}\n\nexport function grantPermissionToGroup(data: {\n  projectKey?: string;\n  groupName: string;\n  permission: string;\n  organization?: string;\n}) {\n  return post('/api/permissions/add_group', data).catch(throwGlobalError);\n}\n\nexport function revokePermissionFromGroup(data: {\n  projectKey?: string;\n  groupName: string;\n  permission: string;\n  organization?: string;\n}) {\n  return post('/api/permissions/remove_group', data).catch(throwGlobalError);\n}\n\ninterface GetPermissionTemplatesResponse {\n  permissionTemplates: T.PermissionTemplate[];\n  defaultTemplates: Array<{ templateId: string; qualifier: string }>;\n  permissions: Array<{ key: string; name: string; description: string }>;\n}\n\nexport function getPermissionTemplates(\n  organization?: string\n): Promise<GetPermissionTemplatesResponse> {\n  const url = '/api/permissions/search_templates';\n  return organization ? getJSON(url, { organization }) : getJSON(url);\n}\n\nexport function createPermissionTemplate(data: RequestData) {\n  return postJSON('/api/permissions/create_template', data);\n}\n\nexport function updatePermissionTemplate(data: RequestData): Promise<void> {\n  return post('/api/permissions/update_template', data);\n}\n\nexport function deletePermissionTemplate(data: RequestData) {\n  return post('/api/permissions/delete_template', data).catch(throwGlobalError);\n}\n\n/**\n * Set default permission template for a given qualifier\n */\nexport function setDefaultPermissionTemplate(templateId: string, qualifier: string): Promise<void> {\n  return post('/api/permissions/set_default_template', { templateId, qualifier });\n}\n\nexport function applyTemplateToProject(data: RequestData) {\n  return post('/api/permissions/apply_template', data).catch(throwGlobalError);\n}\n\nexport function bulkApplyTemplate(data: BaseSearchProjectsParameters): Promise<void> {\n  return post('/api/permissions/bulk_apply_template', data);\n}\n\nexport function grantTemplatePermissionToUser(data: {\n  templateId: string;\n  login: string;\n  permission: string;\n  organization?: string;\n}): Promise<void> {\n  return post('/api/permissions/add_user_to_template', data);\n}\n\nexport function revokeTemplatePermissionFromUser(data: {\n  templateId: string;\n  login: string;\n  permission: string;\n  organization?: string;\n}): Promise<void> {\n  return post('/api/permissions/remove_user_from_template', data);\n}\n\nexport function grantTemplatePermissionToGroup(data: RequestData): Promise<void> {\n  return post('/api/permissions/add_group_to_template', data);\n}\n\nexport function revokeTemplatePermissionFromGroup(data: RequestData): Promise<void> {\n  return post('/api/permissions/remove_group_from_template', data);\n}\n\nexport function addProjectCreatorToTemplate(templateId: string, permission: string): Promise<void> {\n  return post('/api/permissions/add_project_creator_to_template', { templateId, permission });\n}\n\nexport function removeProjectCreatorFromTemplate(\n  templateId: string,\n  permission: string\n): Promise<void> {\n  return post('/api/permissions/remove_project_creator_from_template', { templateId, permission });\n}\n\nexport function getPermissionsUsersForComponent(data: {\n  projectKey: string;\n  q?: string;\n  permission?: string;\n  organization?: string;\n  p?: number;\n  ps?: number;\n}): Promise<{ paging: T.Paging; users: T.PermissionUser[] }> {\n  if (!data.ps) {\n    data.ps = PAGE_SIZE;\n  }\n  return getJSON('/api/permissions/users', data).catch(throwGlobalError);\n}\n\nexport function getPermissionsGroupsForComponent(data: {\n  projectKey: string;\n  q?: string;\n  permission?: string;\n  organization?: string;\n  p?: number;\n  ps?: number;\n}): Promise<{ paging: T.Paging; groups: T.PermissionGroup[] }> {\n  if (!data.ps) {\n    data.ps = PAGE_SIZE;\n  }\n  return getJSON('/api/permissions/groups', data).catch(throwGlobalError);\n}\n\nexport function getGlobalPermissionsUsers(data: {\n  q?: string;\n  permission?: string;\n  organization?: string;\n  p?: number;\n  ps?: number;\n}): Promise<{ paging: T.Paging; users: T.PermissionUser[] }> {\n  if (!data.ps) {\n    data.ps = PAGE_SIZE;\n  }\n  return getJSON('/api/permissions/users', data);\n}\n\nexport function getGlobalPermissionsGroups(data: {\n  q?: string;\n  permission?: string;\n  organization?: string;\n  p?: number;\n  ps?: number;\n}): Promise<{ paging: T.Paging; groups: T.PermissionGroup[] }> {\n  if (!data.ps) {\n    data.ps = PAGE_SIZE;\n  }\n  return getJSON('/api/permissions/groups', data);\n}\n\nexport function getPermissionTemplateUsers(\n  templateId: string,\n  query?: string,\n  permission?: string,\n  organization?: string\n): Promise<any> {\n  const data: RequestData = { templateId, ps: PAGE_SIZE };\n  if (query) {\n    data.q = query;\n  }\n  if (permission) {\n    data.permission = permission;\n  }\n  if (organization) {\n    Object.assign(data, { organization });\n  }\n  return getJSON('/api/permissions/template_users', data).then(r => r.users);\n}\n\nexport function getPermissionTemplateGroups(\n  templateId: string,\n  query?: string,\n  permission?: string,\n  organization?: string\n): Promise<any> {\n  const data: RequestData = { templateId, ps: PAGE_SIZE };\n  if (query) {\n    data.q = query;\n  }\n  if (permission) {\n    data.permission = permission;\n  }\n  if (organization) {\n    Object.assign(data, { organization });\n  }\n  return getJSON('/api/permissions/template_groups', data).then(r => r.groups);\n}\n\nexport function changeProjectVisibility(\n  project: string,\n  visibility: T.Visibility\n): Promise<void | Response> {\n  return post('/api/projects/update_visibility', { project, visibility }).catch(throwGlobalError);\n}\n\nexport function changeProjectDefaultVisibility(\n  organization: string,\n  projectVisibility: T.Visibility\n): Promise<void | Response> {\n  return post('/api/projects/update_default_visibility', { organization, projectVisibility }).catch(\n    throwGlobalError\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { Store, getCurrentUser } from '../../store/rootReducer';\n\nexport function withCurrentUser<P>(\n  WrappedComponent: React.ComponentClass<P & { currentUser: T.CurrentUser }>\n) {\n  const wrappedDisplayName = WrappedComponent.displayName || WrappedComponent.name || 'Component';\n\n  class Wrapper extends React.Component<P & { currentUser: T.CurrentUser }> {\n    static displayName = `withCurrentUser(${wrappedDisplayName})`;\n\n    render() {\n      return <WrappedComponent {...this.props} />;\n    }\n  }\n\n  function mapStateToProps(state: Store) {\n    return { currentUser: getCurrentUser(state) };\n  }\n\n  return connect(mapStateToProps)(Wrapper);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n/*\n * Latinize string by removing all diacritics\n * From http://stackoverflow.com/questions/990904/javascript-remove-accents-in-strings\n */\nconst defaultDiacriticsRemovalap = [\n  {\n    base: 'A',\n    letters:\n      '\\u0041\\u24B6\\uFF21\\u00C0\\u00C1\\u00C2\\u1EA6\\u1EA4\\u1EAA\\u1EA8\\u00C3\\u0100\\u0102\\u1EB0\\u1EAE\\u1EB4\\u1EB2\\u0226\\u01E0\\u00C4\\u01DE\\u1EA2\\u00C5\\u01FA\\u01CD\\u0200\\u0202\\u1EA0\\u1EAC\\u1EB6\\u1E00\\u0104\\u023A\\u2C6F'\n  },\n  {\n    base: 'AA',\n    letters: '\\uA732'\n  },\n  {\n    base: 'AE',\n    letters: '\\u00C6\\u01FC\\u01E2'\n  },\n  {\n    base: 'AO',\n    letters: '\\uA734'\n  },\n  {\n    base: 'AU',\n    letters: '\\uA736'\n  },\n  {\n    base: 'AV',\n    letters: '\\uA738\\uA73A'\n  },\n  {\n    base: 'AY',\n    letters: '\\uA73C'\n  },\n  {\n    base: 'B',\n    letters: '\\u0042\\u24B7\\uFF22\\u1E02\\u1E04\\u1E06\\u0243\\u0182\\u0181'\n  },\n  {\n    base: 'C',\n    letters: '\\u0043\\u24B8\\uFF23\\u0106\\u0108\\u010A\\u010C\\u00C7\\u1E08\\u0187\\u023B\\uA73E'\n  },\n  {\n    base: 'D',\n    letters: '\\u0044\\u24B9\\uFF24\\u1E0A\\u010E\\u1E0C\\u1E10\\u1E12\\u1E0E\\u0110\\u018B\\u018A\\u0189\\uA779'\n  },\n  {\n    base: 'DZ',\n    letters: '\\u01F1\\u01C4'\n  },\n  {\n    base: 'Dz',\n    letters: '\\u01F2\\u01C5'\n  },\n  {\n    base: 'E',\n    letters:\n      '\\u0045\\u24BA\\uFF25\\u00C8\\u00C9\\u00CA\\u1EC0\\u1EBE\\u1EC4\\u1EC2\\u1EBC\\u0112\\u1E14\\u1E16\\u0114\\u0116\\u00CB\\u1EBA\\u011A\\u0204\\u0206\\u1EB8\\u1EC6\\u0228\\u1E1C\\u0118\\u1E18\\u1E1A\\u0190\\u018E'\n  },\n  {\n    base: 'F',\n    letters: '\\u0046\\u24BB\\uFF26\\u1E1E\\u0191\\uA77B'\n  },\n  {\n    base: 'G',\n    letters:\n      '\\u0047\\u24BC\\uFF27\\u01F4\\u011C\\u1E20\\u011E\\u0120\\u01E6\\u0122\\u01E4\\u0193\\uA7A0\\uA77D\\uA77E'\n  },\n  {\n    base: 'H',\n    letters: '\\u0048\\u24BD\\uFF28\\u0124\\u1E22\\u1E26\\u021E\\u1E24\\u1E28\\u1E2A\\u0126\\u2C67\\u2C75\\uA78D'\n  },\n  {\n    base: 'I',\n    letters:\n      '\\u0049\\u24BE\\uFF29\\u00CC\\u00CD\\u00CE\\u0128\\u012A\\u012C\\u0130\\u00CF\\u1E2E\\u1EC8\\u01CF\\u0208\\u020A\\u1ECA\\u012E\\u1E2C\\u0197'\n  },\n  {\n    base: 'J',\n    letters: '\\u004A\\u24BF\\uFF2A\\u0134\\u0248'\n  },\n  {\n    base: 'K',\n    letters: '\\u004B\\u24C0\\uFF2B\\u1E30\\u01E8\\u1E32\\u0136\\u1E34\\u0198\\u2C69\\uA740\\uA742\\uA744\\uA7A2'\n  },\n  {\n    base: 'L',\n    letters:\n      '\\u004C\\u24C1\\uFF2C\\u013F\\u0139\\u013D\\u1E36\\u1E38\\u013B\\u1E3C\\u1E3A\\u0141\\u023D\\u2C62\\u2C60\\uA748\\uA746\\uA780'\n  },\n  {\n    base: 'LJ',\n    letters: '\\u01C7'\n  },\n  {\n    base: 'Lj',\n    letters: '\\u01C8'\n  },\n  {\n    base: 'M',\n    letters: '\\u004D\\u24C2\\uFF2D\\u1E3E\\u1E40\\u1E42\\u2C6E\\u019C'\n  },\n  {\n    base: 'N',\n    letters:\n      '\\u004E\\u24C3\\uFF2E\\u01F8\\u0143\\u00D1\\u1E44\\u0147\\u1E46\\u0145\\u1E4A\\u1E48\\u0220\\u019D\\uA790\\uA7A4'\n  },\n  {\n    base: 'NJ',\n    letters: '\\u01CA'\n  },\n  {\n    base: 'Nj',\n    letters: '\\u01CB'\n  },\n  {\n    base: 'O',\n    letters:\n      '\\u004F\\u24C4\\uFF2F\\u00D2\\u00D3\\u00D4\\u1ED2\\u1ED0\\u1ED6\\u1ED4\\u00D5\\u1E4C\\u022C\\u1E4E\\u014C\\u1E50\\u1E52\\u014E\\u022E\\u0230\\u00D6\\u022A\\u1ECE\\u0150\\u01D1\\u020C\\u020E\\u01A0\\u1EDC\\u1EDA\\u1EE0\\u1EDE\\u1EE2\\u1ECC\\u1ED8\\u01EA\\u01EC\\u00D8\\u01FE\\u0186\\u019F\\uA74A\\uA74C'\n  },\n  {\n    base: 'OI',\n    letters: '\\u01A2'\n  },\n  {\n    base: 'OO',\n    letters: '\\uA74E'\n  },\n  {\n    base: 'OU',\n    letters: '\\u0222'\n  },\n  {\n    base: 'OE',\n    letters: '\\u008C\\u0152'\n  },\n  {\n    base: 'oe',\n    letters: '\\u009C\\u0153'\n  },\n  {\n    base: 'P',\n    letters: '\\u0050\\u24C5\\uFF30\\u1E54\\u1E56\\u01A4\\u2C63\\uA750\\uA752\\uA754'\n  },\n  {\n    base: 'Q',\n    letters: '\\u0051\\u24C6\\uFF31\\uA756\\uA758\\u024A'\n  },\n  {\n    base: 'R',\n    letters:\n      '\\u0052\\u24C7\\uFF32\\u0154\\u1E58\\u0158\\u0210\\u0212\\u1E5A\\u1E5C\\u0156\\u1E5E\\u024C\\u2C64\\uA75A\\uA7A6\\uA782'\n  },\n  {\n    base: 'S',\n    letters:\n      '\\u0053\\u24C8\\uFF33\\u1E9E\\u015A\\u1E64\\u015C\\u1E60\\u0160\\u1E66\\u1E62\\u1E68\\u0218\\u015E\\u2C7E\\uA7A8\\uA784'\n  },\n  {\n    base: 'T',\n    letters:\n      '\\u0054\\u24C9\\uFF34\\u1E6A\\u0164\\u1E6C\\u021A\\u0162\\u1E70\\u1E6E\\u0166\\u01AC\\u01AE\\u023E\\uA786'\n  },\n  {\n    base: 'TZ',\n    letters: '\\uA728'\n  },\n  {\n    base: 'U',\n    letters:\n      '\\u0055\\u24CA\\uFF35\\u00D9\\u00DA\\u00DB\\u0168\\u1E78\\u016A\\u1E7A\\u016C\\u00DC\\u01DB\\u01D7\\u01D5\\u01D9\\u1EE6\\u016E\\u0170\\u01D3\\u0214\\u0216\\u01AF\\u1EEA\\u1EE8\\u1EEE\\u1EEC\\u1EF0\\u1EE4\\u1E72\\u0172\\u1E76\\u1E74\\u0244'\n  },\n  {\n    base: 'V',\n    letters: '\\u0056\\u24CB\\uFF36\\u1E7C\\u1E7E\\u01B2\\uA75E\\u0245'\n  },\n  {\n    base: 'VY',\n    letters: '\\uA760'\n  },\n  {\n    base: 'W',\n    letters: '\\u0057\\u24CC\\uFF37\\u1E80\\u1E82\\u0174\\u1E86\\u1E84\\u1E88\\u2C72'\n  },\n  {\n    base: 'X',\n    letters: '\\u0058\\u24CD\\uFF38\\u1E8A\\u1E8C'\n  },\n  {\n    base: 'Y',\n    letters:\n      '\\u0059\\u24CE\\uFF39\\u1EF2\\u00DD\\u0176\\u1EF8\\u0232\\u1E8E\\u0178\\u1EF6\\u1EF4\\u01B3\\u024E\\u1EFE'\n  },\n  {\n    base: 'Z',\n    letters: '\\u005A\\u24CF\\uFF3A\\u0179\\u1E90\\u017B\\u017D\\u1E92\\u1E94\\u01B5\\u0224\\u2C7F\\u2C6B\\uA762'\n  },\n  {\n    base: 'a',\n    letters:\n      '\\u0061\\u24D0\\uFF41\\u1E9A\\u00E0\\u00E1\\u00E2\\u1EA7\\u1EA5\\u1EAB\\u1EA9\\u00E3\\u0101\\u0103\\u1EB1\\u1EAF\\u1EB5\\u1EB3\\u0227\\u01E1\\u00E4\\u01DF\\u1EA3\\u00E5\\u01FB\\u01CE\\u0201\\u0203\\u1EA1\\u1EAD\\u1EB7\\u1E01\\u0105\\u2C65\\u0250'\n  },\n  {\n    base: 'aa',\n    letters: '\\uA733'\n  },\n  {\n    base: 'ae',\n    letters: '\\u00E6\\u01FD\\u01E3'\n  },\n  {\n    base: 'ao',\n    letters: '\\uA735'\n  },\n  {\n    base: 'au',\n    letters: '\\uA737'\n  },\n  {\n    base: 'av',\n    letters: '\\uA739\\uA73B'\n  },\n  {\n    base: 'ay',\n    letters: '\\uA73D'\n  },\n  {\n    base: 'b',\n    letters: '\\u0062\\u24D1\\uFF42\\u1E03\\u1E05\\u1E07\\u0180\\u0183\\u0253'\n  },\n  {\n    base: 'c',\n    letters: '\\u0063\\u24D2\\uFF43\\u0107\\u0109\\u010B\\u010D\\u00E7\\u1E09\\u0188\\u023C\\uA73F\\u2184'\n  },\n  {\n    base: 'd',\n    letters: '\\u0064\\u24D3\\uFF44\\u1E0B\\u010F\\u1E0D\\u1E11\\u1E13\\u1E0F\\u0111\\u018C\\u0256\\u0257\\uA77A'\n  },\n  {\n    base: 'dz',\n    letters: '\\u01F3\\u01C6'\n  },\n  {\n    base: 'e',\n    letters:\n      '\\u0065\\u24D4\\uFF45\\u00E8\\u00E9\\u00EA\\u1EC1\\u1EBF\\u1EC5\\u1EC3\\u1EBD\\u0113\\u1E15\\u1E17\\u0115\\u0117\\u00EB\\u1EBB\\u011B\\u0205\\u0207\\u1EB9\\u1EC7\\u0229\\u1E1D\\u0119\\u1E19\\u1E1B\\u0247\\u025B\\u01DD'\n  },\n  {\n    base: 'f',\n    letters: '\\u0066\\u24D5\\uFF46\\u1E1F\\u0192\\uA77C'\n  },\n  {\n    base: 'g',\n    letters:\n      '\\u0067\\u24D6\\uFF47\\u01F5\\u011D\\u1E21\\u011F\\u0121\\u01E7\\u0123\\u01E5\\u0260\\uA7A1\\u1D79\\uA77F'\n  },\n  {\n    base: 'h',\n    letters:\n      '\\u0068\\u24D7\\uFF48\\u0125\\u1E23\\u1E27\\u021F\\u1E25\\u1E29\\u1E2B\\u1E96\\u0127\\u2C68\\u2C76\\u0265'\n  },\n  {\n    base: 'hv',\n    letters: '\\u0195'\n  },\n  {\n    base: 'i',\n    letters:\n      '\\u0069\\u24D8\\uFF49\\u00EC\\u00ED\\u00EE\\u0129\\u012B\\u012D\\u00EF\\u1E2F\\u1EC9\\u01D0\\u0209\\u020B\\u1ECB\\u012F\\u1E2D\\u0268\\u0131'\n  },\n  {\n    base: 'j',\n    letters: '\\u006A\\u24D9\\uFF4A\\u0135\\u01F0\\u0249'\n  },\n  {\n    base: 'k',\n    letters: '\\u006B\\u24DA\\uFF4B\\u1E31\\u01E9\\u1E33\\u0137\\u1E35\\u0199\\u2C6A\\uA741\\uA743\\uA745\\uA7A3'\n  },\n  {\n    base: 'l',\n    letters:\n      '\\u006C\\u24DB\\uFF4C\\u0140\\u013A\\u013E\\u1E37\\u1E39\\u013C\\u1E3D\\u1E3B\\u017F\\u0142\\u019A\\u026B\\u2C61\\uA749\\uA781\\uA747'\n  },\n  {\n    base: 'lj',\n    letters: '\\u01C9'\n  },\n  {\n    base: 'm',\n    letters: '\\u006D\\u24DC\\uFF4D\\u1E3F\\u1E41\\u1E43\\u0271\\u026F'\n  },\n  {\n    base: 'n',\n    letters:\n      '\\u006E\\u24DD\\uFF4E\\u01F9\\u0144\\u00F1\\u1E45\\u0148\\u1E47\\u0146\\u1E4B\\u1E49\\u019E\\u0272\\u0149\\uA791\\uA7A5'\n  },\n  {\n    base: 'nj',\n    letters: '\\u01CC'\n  },\n  {\n    base: 'o',\n    letters:\n      '\\u006F\\u24DE\\uFF4F\\u00F2\\u00F3\\u00F4\\u1ED3\\u1ED1\\u1ED7\\u1ED5\\u00F5\\u1E4D\\u022D\\u1E4F\\u014D\\u1E51\\u1E53\\u014F\\u022F\\u0231\\u00F6\\u022B\\u1ECF\\u0151\\u01D2\\u020D\\u020F\\u01A1\\u1EDD\\u1EDB\\u1EE1\\u1EDF\\u1EE3\\u1ECD\\u1ED9\\u01EB\\u01ED\\u00F8\\u01FF\\u0254\\uA74B\\uA74D\\u0275'\n  },\n  {\n    base: 'oi',\n    letters: '\\u01A3'\n  },\n  {\n    base: 'ou',\n    letters: '\\u0223'\n  },\n  {\n    base: 'oo',\n    letters: '\\uA74F'\n  },\n  {\n    base: 'p',\n    letters: '\\u0070\\u24DF\\uFF50\\u1E55\\u1E57\\u01A5\\u1D7D\\uA751\\uA753\\uA755'\n  },\n  {\n    base: 'q',\n    letters: '\\u0071\\u24E0\\uFF51\\u024B\\uA757\\uA759'\n  },\n  {\n    base: 'r',\n    letters:\n      '\\u0072\\u24E1\\uFF52\\u0155\\u1E59\\u0159\\u0211\\u0213\\u1E5B\\u1E5D\\u0157\\u1E5F\\u024D\\u027D\\uA75B\\uA7A7\\uA783'\n  },\n  {\n    base: 's',\n    letters:\n      '\\u0073\\u24E2\\uFF53\\u00DF\\u015B\\u1E65\\u015D\\u1E61\\u0161\\u1E67\\u1E63\\u1E69\\u0219\\u015F\\u023F\\uA7A9\\uA785\\u1E9B'\n  },\n  {\n    base: 't',\n    letters:\n      '\\u0074\\u24E3\\uFF54\\u1E6B\\u1E97\\u0165\\u1E6D\\u021B\\u0163\\u1E71\\u1E6F\\u0167\\u01AD\\u0288\\u2C66\\uA787'\n  },\n  {\n    base: 'tz',\n    letters: '\\uA729'\n  },\n  {\n    base: 'u',\n    letters:\n      '\\u0075\\u24E4\\uFF55\\u00F9\\u00FA\\u00FB\\u0169\\u1E79\\u016B\\u1E7B\\u016D\\u00FC\\u01DC\\u01D8\\u01D6\\u01DA\\u1EE7\\u016F\\u0171\\u01D4\\u0215\\u0217\\u01B0\\u1EEB\\u1EE9\\u1EEF\\u1EED\\u1EF1\\u1EE5\\u1E73\\u0173\\u1E77\\u1E75\\u0289'\n  },\n  {\n    base: 'v',\n    letters: '\\u0076\\u24E5\\uFF56\\u1E7D\\u1E7F\\u028B\\uA75F\\u028C'\n  },\n  {\n    base: 'vy',\n    letters: '\\uA761'\n  },\n  {\n    base: 'w',\n    letters: '\\u0077\\u24E6\\uFF57\\u1E81\\u1E83\\u0175\\u1E87\\u1E85\\u1E98\\u1E89\\u2C73'\n  },\n  {\n    base: 'x',\n    letters: '\\u0078\\u24E7\\uFF58\\u1E8B\\u1E8D'\n  },\n  {\n    base: 'y',\n    letters:\n      '\\u0079\\u24E8\\uFF59\\u1EF3\\u00FD\\u0177\\u1EF9\\u0233\\u1E8F\\u00FF\\u1EF7\\u1E99\\u1EF5\\u01B4\\u024F\\u1EFF'\n  },\n  {\n    base: 'z',\n    letters: '\\u007A\\u24E9\\uFF5A\\u017A\\u1E91\\u017C\\u017E\\u1E93\\u1E95\\u01B6\\u0225\\u0240\\u2C6C\\uA763'\n  }\n];\n\nconst diacriticsMap: { [x: string]: string } = {};\ndefaultDiacriticsRemovalap.forEach(defaultDiacritic =>\n  defaultDiacritic.letters.split('').forEach(letter => {\n    diacriticsMap[letter] = defaultDiacritic.base;\n  })\n);\n\n// \"what?\" version ... http://jsperf.com/diacritics/12\nexport function latinize(str: string): string {\n  // eslint-disable-next-line no-control-regex\n  return str.replace(/[^\\u0000-\\u007E]/g, a => diacriticsMap[a] || a);\n}\n\n// Inspired from https://github.com/SonarSource/sonar-enterprise/blob/master/sonar-core/src/main/java/org/sonar/core/util/Slug.java\nexport function slugify(text: string) {\n  return latinize(text.trim().toLowerCase())\n    .replace(/&/g, '-and-') // Replace & with 'and'\n    .replace(/[^\\w-]+/g, '-') // Replace all non-word chars with dash\n    .replace(/\\s+/g, '-') // Replace whitespaces with dash\n    .replace(/[/_,:;]/g, '-') // Replace special chars with dash\n    .replace(/--+/g, '-') // Replace multiple dash with single dash\n    .replace(/^-+/, '') // Remove heading dash\n    .replace(/-+$/, ''); // Remove trailing dash\n}\n\nexport function decodeJwt(token: string) {\n  const segments = token.split('.');\n  const base64Url = segments.length > 1 ? segments[1] : segments[0];\n  const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n  return JSON.parse(window.atob(base64));\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post } from '../helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport function getSubscriptionPlans(): Promise<T.SubscriptionPlan[]> {\n  return getJSON('/api/billing/show_subscription_plans').then(\n    ({ subscriptionPlans }) => subscriptionPlans,\n    throwGlobalError\n  );\n}\n\nexport function giveDowngradeFeedback(data: {\n  organization: string;\n  feedback: string;\n  additionalFeedback?: string;\n}): Promise<void> {\n  return post('/api/billing/send_feedback', data);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON } from '../helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport function getGlobalNavigation(): Promise<T.AppState> {\n  return getJSON('/api/navigation/global');\n}\n\nexport function getComponentNavigation(\n  data: { component: string } & T.BranchParameters\n): Promise<any> {\n  return getJSON('/api/navigation/component', data).catch(throwGlobalError);\n}\n\nexport function getMarketplaceNavigation(): Promise<{ serverId: string; ncloc: number }> {\n  return getJSON('/api/navigation/marketplace').catch(throwGlobalError);\n}\n\nexport function getSettingsNavigation(): Promise<any> {\n  return getJSON('/api/navigation/settings').catch(throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter, WithRouterProps } from 'react-router';\nimport { areThereCustomOrganizations, Store } from '../../store/rootReducer';\n\ntype ReactComponent<P> = React.ComponentClass<P> | React.StatelessComponent<P>;\n\nexport default function forSingleOrganization<P>(ComposedComponent: ReactComponent<P>) {\n  interface StateProps {\n    customOrganizations: boolean | undefined;\n  }\n\n  class ForSingleOrganization extends React.Component<StateProps & WithRouterProps> {\n    static displayName = `forSingleOrganization(${ComposedComponent.displayName})}`;\n\n    render() {\n      const { customOrganizations, router, ...other } = this.props;\n\n      if (!other.params.organizationKey && customOrganizations) {\n        router.replace('/not_found');\n        return null;\n      }\n\n      return <ComposedComponent {...other} />;\n    }\n  }\n\n  const mapStateToProps = (state: Store) => ({\n    customOrganizations: areThereCustomOrganizations(state)\n  });\n\n  return connect(mapStateToProps)(withRouter(ForSingleOrganization));\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function VisibleIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M13.524 8.403q-1.093-1.697-2.74-2.539 0.439 0.748 0.439 1.618 0 1.331-0.946 2.276t-2.276 0.946-2.276-0.946-0.946-2.276q0-0.87 0.439-1.618-1.647 0.842-2.74 2.539 0.957 1.474 2.399 2.348t3.125 0.874 3.125-0.874 2.399-2.348zM8.345 5.641q0-0.144-0.101-0.245t-0.245-0.101q-0.899 0-1.543 0.644t-0.644 1.543q0 0.144 0.101 0.245t0.245 0.101 0.245-0.101 0.101-0.245q0-0.619 0.439-1.057t1.057-0.439q0.144 0 0.245-0.101t0.101-0.245zM14.444 8.403q0 0.245-0.144 0.496-1.007 1.654-2.708 2.65t-3.593 0.996-3.593-1-2.708-2.647q-0.144-0.252-0.144-0.496t0.144-0.496q1.007-1.647 2.708-2.647t3.593-1 3.593 1 2.708 2.647q0.144 0.252 0.144 0.496z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { connect } from 'react-redux';\nimport * as theme from '../../app/theme';\nimport Tooltip from '../controls/Tooltip';\nimport { translate } from '../../helpers/l10n';\nimport { isSonarCloud } from '../../helpers/system';\nimport { isCurrentUserMemberOf, isPaidOrganization } from '../../helpers/organizations';\nimport {\n  getCurrentUser,\n  getOrganizationByKey,\n  getMyOrganizations,\n  Store\n} from '../../store/rootReducer';\nimport VisibleIcon from '../icons-components/VisibleIcon';\nimport DocTooltip from '../docs/DocTooltip';\n\ninterface StateToProps {\n  currentUser: T.CurrentUser;\n  organization?: T.Organization;\n  userOrganizations: T.Organization[];\n}\n\ninterface OwnProps {\n  className?: string;\n  organization: T.Organization | string | undefined;\n  qualifier: string;\n  tooltipProps?: { projectKey: string };\n  visibility: T.Visibility;\n}\n\ninterface Props extends OwnProps, StateToProps {\n  organization: T.Organization | undefined;\n}\n\nexport function PrivacyBadge({\n  className,\n  currentUser,\n  organization,\n  qualifier,\n  userOrganizations,\n  tooltipProps,\n  visibility\n}: Props) {\n  const onSonarCloud = isSonarCloud();\n  if (\n    visibility !== 'private' &&\n    (!onSonarCloud || !isCurrentUserMemberOf(currentUser, organization, userOrganizations))\n  ) {\n    return null;\n  }\n\n  let icon = null;\n  if (isPaidOrganization(organization) && visibility === 'public') {\n    icon = <VisibleIcon className=\"little-spacer-right\" fill={theme.blue} />;\n  }\n\n  const badge = (\n    <div\n      className={classNames('outline-badge', className, {\n        'badge-info': Boolean(icon),\n        'badge-icon': Boolean(icon)\n      })}>\n      {icon}\n      {translate('visibility', visibility)}\n    </div>\n  );\n\n  if (onSonarCloud && organization) {\n    return (\n      <DocTooltip\n        className={className}\n        doc={getDoc(visibility, icon, organization)}\n        overlayProps={{ ...tooltipProps, organization: organization.key }}>\n        {badge}\n      </DocTooltip>\n    );\n  }\n\n  return (\n    <Tooltip overlay={translate('visibility', visibility, 'description', qualifier)}>\n      {badge}\n    </Tooltip>\n  );\n}\n\nconst mapStateToProps = (state: Store, { organization }: OwnProps) => {\n  if (typeof organization === 'string') {\n    organization = getOrganizationByKey(state, organization);\n  }\n  return {\n    currentUser: getCurrentUser(state),\n    organization,\n    userOrganizations: getMyOrganizations(state)\n  };\n};\n\nexport default connect(mapStateToProps)(PrivacyBadge);\n\nfunction getDoc(visibility: T.Visibility, icon: JSX.Element | null, organization: T.Organization) {\n  let doc;\n  const { actions = {} } = organization;\n  if (visibility === 'private') {\n    doc = import(/* webpackMode: \"eager\" */ 'Docs/tooltips/project/visibility-private.md');\n  } else if (icon) {\n    if (actions.admin) {\n      doc = import(/* webpackMode: \"eager\" */ 'Docs/tooltips/project/visibility-public-paid-org-admin.md');\n    } else {\n      doc = import(/* webpackMode: \"eager\" */ 'Docs/tooltips/project/visibility-public-paid-org.md');\n    }\n  } else if (actions.admin) {\n    doc = import(/* webpackMode: \"eager\" */ 'Docs/tooltips/project/visibility-public-admin.md');\n  } else {\n    doc = import(/* webpackMode: \"eager\" */ 'Docs/tooltips/project/visibility-public.md');\n  }\n  return doc;\n}\n","\nvar content = require(\"!!../../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../../node_modules/postcss-loader/src/index.js??postcss!./CardPlan.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../../node_modules/postcss-loader/src/index.js??postcss!./CardPlan.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../../node_modules/postcss-loader/src/index.js??postcss!./CardPlan.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * SonarQube\\n * Copyright (C) 2009-2019 SonarSource SA\\n * mailto:info AT sonarsource DOT com\\n *\\n * This program is free software; you can redistribute it and/or\\n * modify it under the terms of the GNU Lesser General Public\\n * License as published by the Free Software Foundation; either\\n * version 3 of the License, or (at your option) any later version.\\n *\\n * This program is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\\n * Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with this program; if not, write to the Free Software Foundation,\\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\\n */\\n.card-plan {\\n  display: flex;\\n  flex-direction: column;\\n  width: 450px;\\n  height: 210px;\\n  background-color: #fff;\\n  border: solid 1px #e6e6e6;\\n  border-radius: 3px;\\n  box-sizing: border-box;\\n  margin-right: 16px;\\n  transition: all 0.2s ease;\\n}\\n\\n.card-plan.animated {\\n  height: 0;\\n  border-width: 0;\\n  overflow: hidden;\\n}\\n\\n.card-plan.animated.open {\\n  height: 210px;\\n  border-width: 1px;\\n}\\n\\n.card-plan.highlight {\\n  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.175);\\n}\\n\\n.card-plan:last-child {\\n  margin-right: 0;\\n}\\n\\n.card-plan:focus {\\n  outline: none;\\n}\\n\\n.card-plan-actionable {\\n  cursor: pointer;\\n}\\n\\n.card-plan-actionable:not(.disabled):hover {\\n  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.175);\\n  transform: translateY(-2px);\\n}\\n\\n.card-plan-actionable.selected {\\n  border-color: #236a97;\\n}\\n\\n.card-plan-actionable.selected .card-plan-recommended {\\n  border: solid 1px #236a97;\\n  border-top: none;\\n}\\n\\n.card-plan-actionable.disabled {\\n  cursor: not-allowed;\\n  background-color: #ebebeb;\\n  border-color: #ddd;\\n}\\n\\n.card-plan-actionable.disabled h2,\\n.card-plan-actionable.disabled ul {\\n  color: #bbb;\\n}\\n\\n.card-plan-header {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  padding: 16px 16px 0;\\n}\\n\\n.card-plan-price {\\n  font-size: 16px;\\n}\\n\\n.card-plan-body {\\n  flex-grow: 1;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: space-between;\\n  padding: 0 16px 16px;\\n}\\n\\n.card-plan-body .alert {\\n  margin-bottom: 0;\\n}\\n\\n.card-plan-recommended {\\n  position: relative;\\n  padding: 6px 16px;\\n  left: -1px;\\n  bottom: -1px;\\n  width: 450px;\\n  color: #fff;\\n  background-color: #4b9fd5;\\n  border-radius: 0 0 3px 3px;\\n  box-sizing: border-box;\\n  font-size: 12px;\\n}\\n\", \"\"]);\n\n// exports\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\n\ninterface ChildrenProps {\n  onSubmit: React.FormEventHandler;\n  processingUpgrade: boolean;\n  renderFormFields: () => React.ReactNode;\n  renderNextCharge: () => React.ReactNode;\n  renderRecap: () => React.ReactNode;\n  renderSubmitButton: (submitText?: string) => React.ReactNode;\n  renderSubmitGroup: (submitText?: string) => React.ReactNode;\n}\n\ninterface Props {\n  children: (props: ChildrenProps) => React.ReactNode;\n  initialCountry?: string;\n  currentUser: T.CurrentUser;\n  onCommit: () => void | Promise<void>;\n  onFailToUpgrade?: () => void;\n  organizationKey: string | (() => Promise<string>);\n  subscriptionPlans: T.SubscriptionPlan[];\n}\n\nexport default class BillingFormShim extends React.Component<Props> {\n  render() {\n    const { BillingForm } = (window as any).SonarBilling;\n    return <BillingForm {...this.props} />;\n  }\n}\n","module.exports = \"This project is private. Only the members of this organization are able to browse it and its source code.\\n\\n---\\n\\nSee also: [Organization Visibility](/organizations/organization-visibility/)\\n\"","module.exports = \"This project is public, which means anyone is able to browse its source code. Go to your project's [Administration > Permissions](/#sonarcloud#/project_roles?id=#projectKey#) to make it private.\\n\\n---\\n\\nSee also: [Organization Visibility](/organizations/organization-visibility/)\\n\"","module.exports = \"This project is public, which means anyone is able to browse its source code. Contact the project administrator to make it private.\\n\\n---\\n\\nSee also: [Organization Visibility](/organizations/organization-visibility/)\\n\"","module.exports = \"This project is public, which means anyone is able to browse its source code. Subscribe to a paid plan to get unlimited private projects in [Administration > Billing](/#sonarcloud#/organizations/#organization#/extension/billing/billing).\\n\\n---\\n\\nSee also: [Pricing](/sonarcloud-pricing/)\\n\"","module.exports = \"This project is public, which means anyone is able to browse its source code. Contact the organization administrator if you want to make it private.\\n\\n---\\n\\nSee also: [Pricing](/sonarcloud-pricing/)\\n\"","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function RecommendedIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M15.089 13.199l-1.742-3.736c-0.962 1.401-2.464 2.398-4.203 2.701l1.459 3.128c0.186 0.4 0.764 0.373 0.914-0.040l0.748-2.054 0.154-0.072 2.054 0.748c0.412 0.151 0.804-0.276 0.618-0.675zM8.040 0.384c-3.003 0-5.446 2.443-5.446 5.446s2.443 5.446 5.446 5.446c3.003 0 5.446-2.443 5.446-5.446s-2.443-5.446-5.446-5.446zM10.689 5.429l-0.966 0.941 0.228 1.33c0.070 0.406-0.358 0.711-0.718 0.522l-1.194-0.628-1.194 0.628c-0.363 0.19-0.788-0.118-0.718-0.522l0.228-1.33-0.966-0.941c-0.293-0.286-0.131-0.786 0.274-0.844l1.335-0.194 0.597-1.209c0.181-0.367 0.707-0.368 0.888 0l0.597 1.209 1.335 0.194c0.405 0.059 0.568 0.558 0.274 0.844zM2.732 9.463l-1.742 3.736c-0.187 0.4 0.208 0.825 0.618 0.674l2.054-0.748 0.154 0.072 0.748 2.054c0.15 0.412 0.727 0.441 0.914 0.040l1.459-3.128c-1.739-0.302-3.241-1.3-4.203-2.701z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router';\nimport UpgradeOrganizationAdvantages from './UpgradeOrganizationAdvantages';\nimport RecommendedIcon from '../../../components/icons-components/RecommendedIcon';\nimport { Alert } from '../../../components/ui/Alert';\nimport { formatPrice } from '../organization/utils';\nimport { translate } from '../../../helpers/l10n';\nimport './CardPlan.css';\n\ninterface Props {\n  className?: string;\n  disabled?: boolean;\n  onClick?: () => void;\n  selected?: boolean;\n  startingPrice?: number;\n}\n\ninterface CardProps extends Props {\n  children: React.ReactNode;\n  recommended?: string;\n  title: string;\n}\n\nexport default function CardPlan(props: CardProps) {\n  const { className, disabled, onClick, recommended, selected, startingPrice } = props;\n  const isActionable = Boolean(onClick);\n  return (\n    <div\n      aria-checked={selected}\n      className={classNames(\n        'card-plan',\n        { 'card-plan-actionable': isActionable, disabled, selected },\n        className\n      )}\n      onClick={isActionable && !disabled ? onClick : undefined}\n      role=\"radio\"\n      tabIndex={0}>\n      <h2 className=\"card-plan-header big-spacer-bottom\">\n        <span className=\"display-flex-center\">\n          {isActionable && (\n            <i className={classNames('icon-radio', 'spacer-right', { 'is-checked': selected })} />\n          )}\n          {props.title}\n        </span>\n        {startingPrice !== undefined &&\n          (startingPrice ? (\n            <FormattedMessage\n              defaultMessage={translate('billing.price_from_x')}\n              id=\"billing.price_from_x\"\n              values={{\n                price: <span className=\"card-plan-price\">{formatPrice(startingPrice)}</span>\n              }}\n            />\n          ) : (\n            <span className=\"card-plan-price\">{formatPrice(0)}</span>\n          ))}\n      </h2>\n      <div className=\"card-plan-body\">{props.children}</div>\n      {recommended && (\n        <div className=\"card-plan-recommended\">\n          <RecommendedIcon className=\"spacer-right\" />\n          <FormattedMessage\n            defaultMessage={recommended}\n            id={recommended}\n            values={{ recommended: <strong>{translate('recommended')}</strong> }}\n          />\n        </div>\n      )}\n    </div>\n  );\n}\n\ninterface FreeProps extends Props {\n  almName?: string;\n  hasWarning: boolean;\n}\n\nexport function FreeCardPlan({ almName, hasWarning, ...props }: FreeProps) {\n  const showInfo = almName && props.disabled;\n  const showWarning = almName && hasWarning && !props.disabled;\n\n  return (\n    <CardPlan startingPrice={0} title={translate('billing.free_plan.title')} {...props}>\n      <>\n        <div className=\"spacer-left\">\n          <ul className=\"big-spacer-left note\">\n            <li className=\"little-spacer-bottom\">\n              {translate('billing.free_plan.all_projects_analyzed_public')}\n            </li>\n            <li>{translate('billing.free_plan.anyone_can_browse_source_code')}</li>\n          </ul>\n        </div>\n        {showWarning && (\n          <Alert variant=\"warning\">\n            <FormattedMessage\n              defaultMessage={translate('billing.free_plan.private_repo_warning')}\n              id=\"billing.free_plan.private_repo_warning\"\n              values={{ alm: almName }}\n            />\n          </Alert>\n        )}\n        {showInfo && (\n          <Alert variant=\"info\">\n            <FormattedMessage\n              defaultMessage={translate('billing.free_plan.not_available_info')}\n              id=\"billing.free_plan.not_available_info\"\n              values={{ alm: almName }}\n            />\n          </Alert>\n        )}\n      </>\n    </CardPlan>\n  );\n}\n\ninterface PaidProps extends Props {\n  isRecommended: boolean;\n}\n\nexport function PaidCardPlan({ isRecommended, ...props }: PaidProps) {\n  return (\n    <CardPlan\n      recommended={isRecommended ? translate('billing.paid_plan.recommended') : undefined}\n      title={translate('billing.paid_plan.title')}\n      {...props}>\n      <>\n        <UpgradeOrganizationAdvantages />\n        <div className=\"big-spacer-left\">\n          <Link className=\"spacer-left\" target=\"_blank\" to=\"/about/pricing\">\n            {translate('billing.pricing.learn_more')}\n          </Link>\n        </div>\n      </>\n    </CardPlan>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport UpgradeOrganizationAdvantages from './UpgradeOrganizationAdvantages';\nimport BillingFormShim from './BillingFormShim';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\nimport Modal from '../../../components/controls/Modal';\nimport { ResetButtonLink } from '../../../components/ui/buttons';\nimport { getExtensionStart } from '../../../app/components/extensions/utils';\nimport { translate } from '../../../helpers/l10n';\nimport { withCurrentUser } from '../../../components/hoc/withCurrentUser';\n\nconst BillingForm = withCurrentUser(BillingFormShim);\n\ninterface Props {\n  insideModal?: boolean;\n  onUpgradeDone: () => void;\n  onClose: () => void;\n  organization: T.Organization;\n  subscriptionPlans: T.SubscriptionPlan[];\n}\n\ninterface State {\n  ready: boolean;\n}\n\nexport default class UpgradeOrganizationModal extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { ready: false };\n\n  componentDidMount() {\n    this.mounted = true;\n    getExtensionStart('billing/billing').then(\n      () => {\n        if (this.mounted) {\n          this.setState({ ready: true });\n        }\n      },\n      () => {}\n    );\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  render() {\n    const header = translate('billing.upgrade_box.upgrade_to_paid_plan');\n\n    if (!this.state.ready) {\n      return null;\n    }\n\n    return (\n      <Modal\n        contentLabel={header}\n        medium={true}\n        noBackdrop={this.props.insideModal}\n        onRequestClose={this.props.onClose}\n        shouldCloseOnOverlayClick={false}\n        simple={true}>\n        <div className=\"modal-simple-head\">\n          <h2>{header}</h2>\n        </div>\n        <BillingForm\n          onCommit={this.props.onUpgradeDone}\n          organizationKey={this.props.organization.key}\n          subscriptionPlans={this.props.subscriptionPlans}>\n          {({\n            onSubmit,\n            processingUpgrade,\n            renderFormFields,\n            renderNextCharge,\n            renderRecap,\n            renderSubmitButton\n          }) => (\n            <form id=\"organization-paid-plan-form\" onSubmit={onSubmit}>\n              <div className=\"modal-simple-body modal-container\">\n                <div className=\"huge-spacer-bottom\">\n                  <p className=\"spacer-bottom\">\n                    <FormattedMessage\n                      defaultMessage={translate('billing.upgrade.org_x_advantages')}\n                      id=\"billing.coupon.description\"\n                      values={{\n                        org: <strong>{this.props.organization.name}</strong>\n                      }}\n                    />\n                  </p>\n                  <UpgradeOrganizationAdvantages />\n                </div>\n                {renderFormFields()}\n                <div className=\"big-spacer-top\">{renderRecap()}</div>\n              </div>\n              <footer className=\"modal-simple-foot-action\">\n                <span className=\"note\">{renderNextCharge()}</span>\n                <div>\n                  <DeferredSpinner className=\"spacer-right\" loading={processingUpgrade} />\n                  {renderSubmitButton()}\n                  <ResetButtonLink onClick={this.props.onClose}>\n                    {translate('cancel')}\n                  </ResetButtonLink>\n                </div>\n              </footer>\n            </form>\n          )}\n        </BillingForm>\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport UpgradeOrganizationAdvantages from './UpgradeOrganizationAdvantages';\nimport UpgradeOrganizationModal from './UpgradeOrganizationModal';\nimport CardPlan from './CardPlan';\nimport { Button } from '../../../components/ui/buttons';\nimport { translate, hasMessage } from '../../../helpers/l10n';\nimport { getSubscriptionPlans } from '../../../api/billing';\n\ninterface Props {\n  className?: string;\n  insideModal?: boolean;\n  onOrganizationUpgrade: () => void;\n  organization: T.Organization;\n}\n\ninterface State {\n  subscriptionPlans: T.SubscriptionPlan[];\n  upgradeOrganizationModal: boolean;\n}\n\nexport default class UpgradeOrganizationBox extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { subscriptionPlans: [], upgradeOrganizationModal: false };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchSubscriptionPlans();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchSubscriptionPlans = () => {\n    return getSubscriptionPlans().then(subscriptionPlans => {\n      if (this.mounted) {\n        this.setState({ subscriptionPlans });\n      }\n    });\n  };\n\n  handleUpgradeClick = () => {\n    this.setState({ upgradeOrganizationModal: true });\n  };\n\n  handleUpgradeOrganizationModalClose = () => {\n    if (this.mounted) {\n      this.setState({ upgradeOrganizationModal: false });\n    }\n  };\n\n  handleOrganizationUpgrade = () => {\n    this.props.onOrganizationUpgrade();\n    this.handleUpgradeOrganizationModalClose();\n  };\n\n  render() {\n    if (!hasMessage('billing.upgrade_box.header')) {\n      return null;\n    }\n\n    const { subscriptionPlans, upgradeOrganizationModal } = this.state;\n    const startingPrice = subscriptionPlans[0] && subscriptionPlans[0].price;\n\n    return (\n      <>\n        <CardPlan\n          className={this.props.className}\n          startingPrice={startingPrice}\n          title={translate('billing.upgrade_box.header')}>\n          <>\n            <UpgradeOrganizationAdvantages />\n            <div className=\"big-spacer-left\">\n              <Button className=\"js-upgrade-organization\" onClick={this.handleUpgradeClick}>\n                {translate('billing.paid_plan.upgrade')}\n              </Button>\n              <Link className=\"spacer-left\" target=\"_blank\" to=\"/about/pricing\">\n                {translate('billing.pricing.learn_more')}\n              </Link>\n            </div>\n          </>\n        </CardPlan>\n        {upgradeOrganizationModal && (\n          <UpgradeOrganizationModal\n            insideModal={this.props.insideModal}\n            onClose={this.handleUpgradeOrganizationModalClose}\n            onUpgradeDone={this.handleOrganizationUpgrade}\n            organization={this.props.organization}\n            subscriptionPlans={subscriptionPlans}\n          />\n        )}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { translate } from '../../helpers/l10n';\n\ninterface Props {\n  canTurnToPrivate?: boolean;\n  className?: string;\n  onChange: (visibility: T.Visibility) => void;\n  showDetails?: boolean;\n  visibility?: T.Visibility;\n}\n\nexport default class VisibilitySelector extends React.PureComponent<Props> {\n  handlePublicClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.onChange('public');\n  };\n\n  handlePrivateClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.onChange('private');\n  };\n\n  render() {\n    return (\n      <div className={classNames('visibility-select', this.props.className)}>\n        <a\n          className=\"link-base-color link-no-underline visibility-select-option\"\n          href=\"#\"\n          id=\"visibility-public\"\n          onClick={this.handlePublicClick}>\n          <i\n            className={classNames('icon-radio', {\n              'is-checked': this.props.visibility === 'public'\n            })}\n          />\n          <span className=\"spacer-left\">{translate('visibility.public')}</span>\n        </a>\n        {this.props.showDetails && (\n          <span className=\"visibility-details note\">\n            {translate('visibility.public.description.long')}\n          </span>\n        )}\n\n        {this.props.canTurnToPrivate ? (\n          <>\n            <a\n              className=\"link-base-color link-no-underline huge-spacer-left visibility-select-option\"\n              href=\"#\"\n              id=\"visibility-private\"\n              onClick={this.handlePrivateClick}>\n              <i\n                className={classNames('icon-radio', {\n                  'is-checked': this.props.visibility === 'private'\n                })}\n              />\n              <span className=\"spacer-left\">{translate('visibility.private')}</span>\n            </a>\n            {this.props.showDetails && (\n              <span className=\"visibility-details note\">\n                {translate('visibility.private.description.long')}\n              </span>\n            )}\n          </>\n        ) : (\n          <>\n            <span\n              className=\"huge-spacer-left text-muted cursor-not-allowed visibility-select-option\"\n              id=\"visibility-private\">\n              <i\n                className={classNames('icon-radio', {\n                  'is-checked': this.props.visibility === 'private'\n                })}\n              />\n              <span className=\"spacer-left\">{translate('visibility.private')}</span>\n            </span>\n            {this.props.showDetails && (\n              <span className=\"visibility-details note\">\n                {translate('visibility.private.description.long')}\n              </span>\n            )}\n          </>\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport DateFormatter from './DateFormatter';\nimport DateTimeFormatter from './DateTimeFormatter';\nimport Tooltip from '../controls/Tooltip';\nimport { parseDate } from '../../helpers/dates';\n\ninterface Props {\n  className?: string;\n  date: Date | string | number;\n}\n\nexport default function DateTooltipFormatter({ className, date }: Props) {\n  const parsedDate = parseDate(date);\n  return (\n    <DateFormatter date={parsedDate} long={true}>\n      {formattedDate => (\n        <Tooltip mouseEnterDelay={0.5} overlay={<DateTimeFormatter date={parsedDate} />}>\n          <time className={className} dateTime={parsedDate.toISOString()}>\n            {formattedDate}\n          </time>\n        </Tooltip>\n      )}\n    </DateFormatter>\n  );\n}\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { getPermissionTemplates, applyTemplateToProject } from '../../../../api/permissions';\nimport DeferredSpinner from '../../../../components/common/DeferredSpinner';\nimport SimpleModal from '../../../../components/controls/SimpleModal';\nimport Select from '../../../../components/controls/Select';\nimport { SubmitButton, ResetButtonLink } from '../../../../components/ui/buttons';\nimport { translateWithParameters, translate } from '../../../../helpers/l10n';\nimport { Alert } from '../../../../components/ui/Alert';\n\ninterface Props {\n  onApply?: () => void;\n  onClose: () => void;\n  organization: string | undefined;\n  project: { key: string; name: string };\n}\n\ninterface State {\n  done: boolean;\n  loading: boolean;\n  permissionTemplate?: string;\n  permissionTemplates?: T.PermissionTemplate[];\n}\n\nexport default class ApplyTemplate extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { done: false, loading: true };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchPermissionTemplates();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchPermissionTemplates = () => {\n    getPermissionTemplates(this.props.organization).then(\n      ({ permissionTemplates }) => {\n        if (this.mounted) {\n          this.setState({ loading: false, permissionTemplates });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  handleSubmit = () => {\n    if (this.state.permissionTemplate) {\n      return applyTemplateToProject({\n        organization: this.props.organization,\n        projectKey: this.props.project.key,\n        templateId: this.state.permissionTemplate\n      }).then(() => {\n        if (this.mounted) {\n          if (this.props.onApply) {\n            this.props.onApply();\n          }\n          this.setState({ done: true });\n        }\n      });\n    } else {\n      return Promise.reject(undefined);\n    }\n  };\n\n  handlePermissionTemplateChange = ({ value }: { value: string }) => {\n    this.setState({ permissionTemplate: value });\n  };\n\n  render() {\n    const header = translateWithParameters(\n      'projects_role.apply_template_to_xxx',\n      this.props.project.name\n    );\n\n    return (\n      <SimpleModal header={header} onClose={this.props.onClose} onSubmit={this.handleSubmit}>\n        {({ onCloseClick, onFormSubmit, submitting }) => (\n          <form id=\"project-permissions-apply-template-form\" onSubmit={onFormSubmit}>\n            <header className=\"modal-head\">\n              <h2>{header}</h2>\n            </header>\n\n            <div className=\"modal-body\">\n              {this.state.done ? (\n                <Alert variant=\"success\">{translate('projects_role.apply_template.success')}</Alert>\n              ) : (\n                <>\n                  {this.state.loading ? (\n                    <i className=\"spinner\" />\n                  ) : (\n                    <div className=\"modal-field\">\n                      <label htmlFor=\"project-permissions-template\">\n                        {translate('template')}\n                        <em className=\"mandatory\">*</em>\n                      </label>\n                      {this.state.permissionTemplates && (\n                        <Select\n                          clearable={false}\n                          id=\"project-permissions-template\"\n                          onChange={this.handlePermissionTemplateChange}\n                          options={this.state.permissionTemplates.map(permissionTemplate => ({\n                            label: permissionTemplate.name,\n                            value: permissionTemplate.id\n                          }))}\n                          value={this.state.permissionTemplate}\n                        />\n                      )}\n                    </div>\n                  )}\n                </>\n              )}\n            </div>\n\n            <footer className=\"modal-foot\">\n              <DeferredSpinner className=\"spacer-right\" loading={submitting} />\n              {!this.state.done && (\n                <SubmitButton disabled={submitting || !this.state.permissionTemplate}>\n                  {translate('apply')}\n                </SubmitButton>\n              )}\n              <ResetButtonLink onClick={onCloseClick}>\n                {translate(this.state.done ? 'close' : 'cancel')}\n              </ResetButtonLink>\n            </footer>\n          </form>\n        )}\n      </SimpleModal>\n    );\n  }\n}\n"],"sourceRoot":""}