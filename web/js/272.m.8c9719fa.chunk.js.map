{"version":3,"sources":["webpack:///./node_modules/lodash/union.js","webpack:///./src/main/js/apps/issues/styles.css?1ee7","webpack:///./src/main/js/apps/issues/styles.css","webpack:///./src/main/js/apps/issues/components/BulkChangeModal.tsx","webpack:///./src/main/js/apps/issues/components/ComponentBreadcrumbs.tsx","webpack:///./src/main/js/apps/issues/components/ListItem.tsx","webpack:///./src/main/js/apps/issues/components/IssuesList.tsx","webpack:///./src/main/js/apps/issues/components/IssuesSourceViewer.tsx","webpack:///./src/main/js/apps/issues/components/MyIssuesFilter.tsx","webpack:///./src/main/js/apps/issues/components/NoIssues.tsx","webpack:///./src/main/js/apps/issues/components/NoMyIssues.tsx","webpack:///./src/main/js/apps/issues/components/IssuesCounter.tsx","webpack:///./src/main/js/apps/issues/components/TotalEffort.tsx","webpack:///./src/main/js/apps/issues/components/PageActions.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssueLocationBadge.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssueLocations.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssueLocationsNavigatorLocation.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/CrossFileLocationsNavigator.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssueLocationsNavigator.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssueBox.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssueComponent.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssue.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssuesList.tsx","webpack:///./src/main/js/components/controls/BackButton.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssuesListHeader.tsx","webpack:///./src/main/js/apps/issues/sidebar/AssigneeFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/AuthorFacet.tsx","webpack:///./src/main/js/components/charts/BarChart.tsx","webpack:///./src/main/js/apps/issues/sidebar/CreationDateFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/DirectoryFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/FileFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/LanguageFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/ProjectFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/ResolutionFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/RuleFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/SeverityFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/StandardFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/StatusFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/TagFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/TypeFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/Sidebar.tsx","webpack:///./src/main/js/apps/issues/actions.ts","webpack:///./src/main/js/apps/issues/components/App.tsx","webpack:///./src/main/js/helpers/pages.ts","webpack:///./node_modules/lodash/map.js","webpack:///./src/main/js/helpers/path.ts","webpack:///./src/main/js/components/icons-components/VulnerabilityIcon.tsx","webpack:///./src/main/js/components/ui/IssueTypeIcon.tsx","webpack:///./src/main/js/components/shared/SeverityHelper.tsx","webpack:///./src/main/js/components/icons-components/BugIcon.tsx","webpack:///./src/main/js/components/icons-components/CodeSmellIcon.tsx","webpack:///./src/main/js/api/rules.ts","webpack:///./node_modules/lodash/difference.js","webpack:///./src/main/js/components/icons-components/TagsIcon.tsx","webpack:///./src/main/js/components/facet/FacetBox.tsx","webpack:///./src/main/js/app/utils/handleRequiredAuthentication.ts","webpack:///./src/main/js/components/facet/FacetHeader.tsx","webpack:///./src/main/js/components/facet/FacetItem.tsx","webpack:///./src/main/js/components/facet/FacetItemsList.tsx","webpack:///./src/main/js/components/common/ScreenPositionHelper.tsx","webpack:///./src/main/js/components/icons-components/SeverityIcon.tsx","webpack:///./src/main/js/components/icons-components/ChevronDownIcon.tsx","webpack:///./src/main/js/components/icons-components/OpenCloseIcon.tsx","webpack:///./src/main/js/components/facet/ListStyleFacetFooter.tsx","webpack:///./src/main/js/components/facet/ListStyleFacet.tsx","webpack:///./src/main/js/components/icons-components/SecurityHotspotIcon.tsx","webpack:///./src/main/js/helpers/search.tsx","webpack:///./node_modules/lodash/_baseExtremum.js","webpack:///./src/main/js/components/tags/TagsList.css?1ec8","webpack:///./src/main/js/components/tags/TagsList.tsx","webpack:///./src/main/js/components/icons-components/LinkIcon.tsx","webpack:///./src/main/js/components/search-navigator.css?f3f4","webpack:///./src/main/js/components/search-navigator.css","webpack:///./src/main/js/components/SourceViewer/SourceViewer.tsx","webpack:///./node_modules/lodash/orderBy.js","webpack:///./src/main/js/components/facet/MultipleSelectionHint.tsx","webpack:///./src/main/js/components/tags/TagsList.css","webpack:///./src/main/js/components/shared/Organization.tsx","webpack:///./src/main/js/components/controls/DateRangeInput.tsx","webpack:///./src/main/js/components/charts/BarChart.css?d69c","webpack:///./src/main/js/components/charts/BarChart.css","webpack:///./node_modules/lodash/_baseGt.js","webpack:///./src/main/js/components/common/MultiSelectOption.tsx","webpack:///./src/main/js/components/common/MultiSelect.tsx","webpack:///./src/main/js/components/tags/TagsSelector.tsx","webpack:///./src/main/js/components/common/MarkdownTips.tsx","webpack:///./src/main/js/components/common/LocationIndex.tsx","webpack:///./src/main/js/components/common/EmptySearch.css?d20a","webpack:///./src/main/js/components/icons-components/StatusIcon.tsx","webpack:///./src/main/js/components/shared/StatusHelper.tsx","webpack:///./src/main/js/components/icons-components/EllipsisIcon.tsx","webpack:///./src/main/js/components/icons-components/FilterIcon.tsx","webpack:///./src/main/js/apps/securityReports/utils.ts","webpack:///./src/main/js/components/facet/MultipleSelectionHint.css?7370","webpack:///./src/main/js/components/facet/MultipleSelectionHint.css","webpack:///./src/main/js/components/common/PageCounter.tsx","webpack:///./src/main/js/components/shared/TypeHelper.tsx","webpack:///./src/main/js/components/common/FiltersHeader.tsx","webpack:///./src/main/js/components/common/LocationIndex.css?97f1","webpack:///./src/main/js/components/common/LocationIndex.css","webpack:///./src/main/js/components/issue/Issue.css?0f03","webpack:///./src/main/js/components/issue/Issue.css","webpack:///./src/main/js/components/common/EmptySearch.css","webpack:///./src/main/js/components/common/LocationMessage.tsx","webpack:///./src/main/js/components/common/LocationMessage.css?faa2","webpack:///./src/main/js/components/common/LocationMessage.css","webpack:///./node_modules/lodash/max.js","webpack:///./src/main/js/components/common/EmptySearch.tsx","webpack:///./src/main/js/components/issue/components/IssueChangelogDiff.tsx","webpack:///./src/main/js/components/issue/popups/ChangelogPopup.tsx","webpack:///./src/main/js/components/issue/components/IssueChangelog.tsx","webpack:///./src/main/js/components/issue/components/IssueMessage.tsx","webpack:///./src/main/js/components/common/SelectListItem.tsx","webpack:///./src/main/js/components/common/SelectList.tsx","webpack:///./src/main/js/components/issue/popups/SimilarIssuesPopup.tsx","webpack:///./src/main/js/components/issue/components/SimilarIssuesFilter.tsx","webpack:///./src/main/js/components/issue/components/IssueTitleBar.tsx","webpack:///./src/main/js/components/issue/popups/SetAssigneePopup.tsx","webpack:///./src/main/js/components/issue/components/IssueAssign.tsx","webpack:///./src/main/js/components/issue/actions.ts","webpack:///./src/main/js/components/issue/popups/CommentPopup.tsx","webpack:///./src/main/js/components/issue/components/IssueCommentAction.tsx","webpack:///./src/main/js/components/issue/popups/SetSeverityPopup.tsx","webpack:///./src/main/js/components/issue/components/IssueSeverity.tsx","webpack:///./src/main/js/components/issue/popups/SetIssueTagsPopup.tsx","webpack:///./src/main/js/components/issue/components/IssueTags.tsx","webpack:///./src/main/js/components/issue/popups/SetTransitionPopup.tsx","webpack:///./src/main/js/components/issue/components/IssueTransition.tsx","webpack:///./src/main/js/components/issue/popups/SetTypePopup.tsx","webpack:///./src/main/js/components/issue/components/IssueType.tsx","webpack:///./src/main/js/components/issue/components/IssueActionsBar.tsx","webpack:///./src/main/js/components/issue/popups/CommentDeletePopup.tsx","webpack:///./src/main/js/components/issue/components/IssueCommentLine.tsx","webpack:///./src/main/js/components/issue/IssueView.tsx","webpack:///./src/main/js/components/issue/Issue.tsx"],"names":["baseFlatten","__webpack_require__","baseRest","baseUniq","isArrayLikeObject","union","arrays","module","exports","content","i","options","hmr","transform","insertInto","undefined","locals","push","AssigneeSelect","SearchSelect","TagSelect","BulkChangeModal_BulkChangeModal","index_js_exposed","[object Object]","props","super","this","mounted","loadIssues","fetchIssues","additionalFields","ps","getDefaultAssignee","currentUser","issues","state","Object","users","filter","issue","assignee","login","length","avatar","label","name","value","l10n","handleCloseClick","event","preventDefault","currentTarget","blur","onClose","handleAssigneeSearch","query","utils","organization","then","results","map","r","handleAssigneeSelect","setState","handleTagsSearch","api_issues","q","tags","tag","handleTagsSelect","field","handleFieldCheck","checked","handleFieldChange","handleSelectFieldChange","data","handleSubmit","pickBy_default","add_tags","addTags","t","join","assign","comment","do_transition","transition","remove_tags","removeTags","sendNotifications","notifications","set_severity","severity","set_type","type","x","issueKeys","key","submitting","onDone","error","throwGlobalError","renderCancelButton","href","id","onClick","renderLoading","className","renderCheckbox","Checkbox","onCheck","renderAffected","affected","renderField","input","htmlFor","renderAssigneeOption","option","Avatar","hash","size","renderAssigneeField","hasAction","clearable","defaultOptions","onSearch","onSelect","renderOption","resetOnBlur","renderTypeField","optionRenderer","IssueTypeIcon","Select","onChange","searchable","valueRenderer","renderSeverityField","SeverityHelper","renderTagOption","renderTagsField","allowCreate","initialTags","canCreate","minimumQueryLength","multi","onMultiSelect","promptTextCreator","promptCreateTag","renderTransitionsField","transitions","getAvailableTransitions","style","float","display","left","cursor","count","renderCommentField","HelpTooltip","overlay","rows","width","MarkdownTips","renderNotificationsField","renderForm","_this$state","paging","limitReached","total","pageIndex","pageSize","onSubmit","Alert","variant","buttons","disabled","component","loading","Promise","all","forEach","sortBy_default","keys","Modal","contentLabel","onRequestClose","action","actions","includes","ComponentBreadcrumbs","selectedFlowIndex","selectedLocationIndex","displayOrganization","qualifier","displayProject","displaySubProject","selectedLocation","componentName","componentLongName","Organization","link","organizationKey","title","projectName","helpers_path","subProject","subProjectName","ListItem_ListItem","similarIssues","handleFilter","property","onFilterChange","issuesReset","startsWith","substr","types","severities","statuses","status","resolution","resolved","resolutions","assigned","assignees","rules","rule","projects","projectKey","subProjectUuid","modules","files","componentUuid","_this$props","branchLike","previousIssue","displayComponent","Issue","displayLocationsLink","onFilter","onPopupToggle","openPopup","selected","IssuesList_IssuesList","selectedIssue","index","onIssueChange","onIssueCheck","onIssueClick","IssuesSourceViewer_IssuesSourceViewer","scrollToIssue","smooth","node","element","querySelector","openIssue","handleScroll","offset","window","innerHeight","scrolling","topOffset","bottomOffset","handleLoaded","prevProps","shouldScrollBackToIssue","_this$props2","locations","aroundLine","textRange","startLine","endLine","highlightedLocations","location","highlightedLocationMessage","locationsNavigator","text","msg","allMessagesEmpty","every","resolve","ref","SourceViewer","displayAllIssues","displayIssueLocationsCount","displayIssueLocationsLink","displayLocationMarkers","onIssueSelect","onLoaded","onLocationSelect","scroll","MyIssuesFilter_MyIssuesFilter","handleClick","myIssues","onMyIssuesChange","NoIssues","NoMyIssues","IssuesCounter","PageCounter","current","TotalEffort","effort","index_es","defaultMessage","values","0","measures","PageActions_PageActions","effortTotal","selectedIndex","renderShortcuts","ReloadButton","onReload","canSetHome","HomePageSelect","currentPage","system","ConciseIssueLocationBadge","Tooltip","mouseEnterDelay","LocationIndex","LIMIT","ConciseIssueLocations_ConciseIssueLocations","collapsed","handleExpandClick","_this$props$issue","secondaryLocations","flows","badges","flow","onFlowSelect","slice","renderExpandButton","ConciseIssueLocationsNavigatorLocation_ConciseIssueLocationsNavigatorLocation","LocationMessage","message","CrossFileLocationsNavigator_CrossFileLocationsNavigator","handleMoreLocationsClick","groupByFile","groups","currentComponent","currentComponentName","currentLocations","currentFirstLocationIndex","firstLocationIndex","renderLocation","renderGroup","group","groupIndex","onlyFirst","onlyLast","lastLocationIndex","nextProps","nextLocations","firstGroup","lastGroup","ConciseIssueLocationsNavigator_ConciseIssueLocationsNavigator","locationComponents","uniq_default","ConciseIssueBox_ConciseIssueBox","rootElement","messageElement","clickAttributesMain","role","tabIndex","clickAttributesTitle","classnames","TypeHelper","ConciseIssueComponent","path","ConciseIssue_ConciseIssue","ConciseIssuesList_ConciseIssuesList","scrollableElement","document","parent","BackButton_BackButton","renderIcon","height","viewBox","d","fill","theme","_this$props$tooltip","tooltip","cursor-not-allowed","ConciseIssuesListHeader","_props$displayBackBut","displayBackButton","onBackClick","AssigneeFacet_AssigneeFacet","handleSearch","page","handleItemClick","itemValue","multiple","newValue","without_default","handleClear","getAssigneeName","user","referencedUsers","loadSearchResultCount","getSortedItems","_this$props$stats","stats","renderFacetItem","renderSearchResult","result","search","ListStyleFacet","facetHeader","fetching","getFacetItemText","getSearchResultKey","getSearchResultText","onClear","onItemClick","onToggle","open","omit_default","searchPlaceholder","SEARCH_SIZE","AuthorFacet_AuthorFacet","identity","author","_page","project","authors","maxResults","term","BarChart_BarChart","point","onBarClick","renderXTicks","xScale","yScale","_this$props$xTicks","xTicks","ticks","tick","Math","round","bandwidth","y","range","dy","renderXValues","_this$props2$xValues","xValues","renderBars","bars","maxY","rect","barsWidth","_this$props3","_this$props3$padding","padding","availableWidth","availableHeight","innerPadding","relativeInnerPadding","src","d3_scale_src","domain","paddingInner","CreationDateFacet_CreationDateFacet","hasValue","createdAfter","createdAt","createdBefore","createdInLast","sinceLeakPeriod","handleHeaderClick","resetTo","changes","handleBarClick","handlePeriodChange","from","to","handlePeriodClick","period","handleLeakPeriodClick","formatDate","intl","DateFormatter","periods","start","startDate","dates","endDate","setDate","getDate","tooltipEndDate","Date","floor","maxValue","max_default","DateTimeFormatter","date","DateFromNow","DateRangeInput","_this$props4","FacetItem","active","renderExactDate","renderBarChart","renderPeriodSelectors","renderPredefinedPeriods","FacetBox","FacetHeader","getValues","DeferredSpinner","renderInner","defaultProps","sidebar_CreationDateFacet","DirectoryFacet_DirectoryFacet","directory","components","componentKey","qualifiers","p","directories","renderDirectory","QualifierIcon","minSearchLength","FileFacet_FileFacet","getFile","file","referencedComponents","renderFile","sidebar_LanguageFacet","es","installedLanguages","rootReducer","getLanguageName","language","referencedLanguages","getAllPossibleOptions","toLowerCase","uniqBy_default","languages","ProjectFacet_ProjectFacet","refKey","getProjectName","renderProject","RESOLUTIONS","ResolutionFacet_ResolutionFacet","orderBy_default","renderItem","isFacetItemActive","stat","getStat","halfWidth","getFacetItemName","clearLabel","FacetItemsList","MultipleSelectionHint","RuleFacet_RuleFacet","f","s","include_external","response","getRuleName","ruleKey","referencedRules","formatRuleName","langName","SEVERITIES","SeverityFacet_SeverityFacet","StandardFacet_StandardFacet","cweQuery","standards","owaspTop10","sansTop25","cwe","loadStandards","e","bind","default","item","securityReports_utils","handleOwaspTop10HeaderClick","handleSansTop25HeaderClick","prop","items","handleOwaspTop10ItemClick","handleSansTop25ItemClick","handleCWESearch","loadCWESearchResultCount","categories","renderList","statsProp","valuesProp","renderName","renderFacetItemsList","renderTooltip","category","renderHint","owaspTop10Open","fetchingOwaspTop10","renderOwaspTop10List","renderOwaspTop10Hint","sansTop25Open","fetchingSansTop25","renderSansTop25List","renderSansTop25Hint","fetchingCwe","cweOpen","cweStats","renderSubFacets","STATUSES","StatusFacet_StatusFacet","StatusHelper","TagFacet_SEARCH_SIZE","TagFacet_TagFacet","getTagName","renderTag","TagsIcon","TypeFacet_TypeFacet","constants","Sidebar_Sidebar","facets","loadingFacets","openFacets","commonProps","onFacetToggle","referencedComponentsById","hideAuthorFacet","displayProjectsFacet","displayAuthorFacet","owaspTop10Stats","sansTop25Stats","referencedComponentsByKey","renderComponentFacets","enableLocationsNavigator","disableLocationsNavigator","selectNextLocation","lastLocationIdx","selectPreviousLocation","selectNextFlow","selectPreviousFlow","DEFAULT_QUERY","App_App","handleKeyDown","keymaster","keyCode","altKey","handleKeyUp","getOpenIssue","find","selectNextIssue","getSelectedIndex","selectPreviousIssue","issueKey","pathname","branches","scrollToSelectedIssue","router","replace","closeIssue","openSelectedIssue","additional","requestFacets","requestOrganizations","facet","parameters","componentKeys","sort","asc","Boolean","multiOrganizations","fetchIssuesPage","fetchIssuesUntil","done","nextResponse","fetchMoreIssues","loadingMore","fetchIssuesForComponent","_component","_from","_this$state2","reject","isSameComponent","lastIssue","nextIssues","fetchFacet","_a","other","__rest","keyBy_default","isFiltered","serialized","getCheckedIssues","handleFilterChange","handleMyIssuesChange","closeFacet","_this$state3","handleFacetToggle","handleReset","handlePopupToggle","popupName","samePopup","handleIssueCheck","lastChecked","shiftKey","currentIssueIndex","indexOf","lastSelectedIndex","shouldCheck","min","end","max","union_default","handleIssueChange","candidate","openBulkChange","mode","bulkChange","closeBulkChange","handleBulkChangeClick","handleBulkChangeSelectedClick","handleBulkChangeDone","fetchFirstIssues","handleReload","onBranchesChange","handleReloadAndOpenFirst","selectLocation","nextIndex","onCheckAll","selectFlow","isLoggedIn","pages","attachShortcuts","handleRequiredAuthentication","prevState","prevQuery","detachShortcuts","addEventListener","removeEventListener","_this$state4","_this$state4$issues","findIndex","_this$state5","isAllChecked","thirdState","isChecked","Dropdown","DropdownIcon","userOrganizations","userOrganization","o","FiltersHeader","displayReset","onReset","_this$state6","ListFooter","loadMore","ScreenPositionHelper","top","renderConciseIssuesList","renderFacets","_this$state7","noIssuesMessage","common_EmptySearch","hasSeveralFlows","_this$state8","branch","pullRequest","_this$state9","Suggestions","suggestions","Helmet_default","a","renderSide","renderBulkChange","renderShortcutsForLocations","renderPage","__webpack_exports__","withRouter","addSideBarClass","addWhitePageClass","removeSideBarClass","removeWhitePageClass","CLASS_SIDEBAR_PAGE","CLASS_WHITE_PAGE","toggleBodyClass","force","body","classList","toggle","documentElement","arrayMap","baseIteratee","baseMap","isArray","collection","iteratee","collapsePath","limit","tokens","split","head","tail","middle","cut","shift","collapsedDirFromPath","fileFromPath","splitPath","limitComponentName","str","VulnerabilityIcon","react__WEBPACK_IMPORTED_MODULE_0__","_Icon__WEBPACK_IMPORTED_MODULE_1__","_icons_components_BugIcon__WEBPACK_IMPORTED_MODULE_1__","_icons_components_VulnerabilityIcon__WEBPACK_IMPORTED_MODULE_2__","_icons_components_CodeSmellIcon__WEBPACK_IMPORTED_MODULE_3__","_icons_components_SecurityHotspotIcon__WEBPACK_IMPORTED_MODULE_4__","icon","_icons_components_SeverityIcon__WEBPACK_IMPORTED_MODULE_1__","_helpers_l10n__WEBPACK_IMPORTED_MODULE_2__","BugIcon","CodeSmellIcon","getRulesApp","searchRules","takeFacet","getRuleDetails","getRuleTags","createRule","deleteRule","updateRule","_helpers_request__WEBPACK_IMPORTED_MODULE_0__","_app_utils_throwGlobalError__WEBPACK_IMPORTED_MODULE_1__","catch","baseDifference","difference","array","classnames__WEBPACK_IMPORTED_MODULE_1__","data-property","children","_getHistory__WEBPACK_IMPORTED_MODULE_0__","history","returnTo","return_to","_icons_components_OpenCloseIcon__WEBPACK_IMPORTED_MODULE_1__","_controls_HelpTooltip__WEBPACK_IMPORTED_MODULE_2__","_ui_buttons__WEBPACK_IMPORTED_MODULE_3__","_helpers_l10n__WEBPACK_IMPORTED_MODULE_4__","helper","showClearButton","renderHelper","renderValueIndicator","ctrlKey","metaKey","search-navigator-facet-half","data-facet","renderValue","react__WEBPACK_IMPORTED_MODULE_1__","getPosition","containerPos","container","getBoundingClientRect","pageYOffset","pageXOffset","debouncedOnResize","lodash_debounce__WEBPACK_IMPORTED_MODULE_0___default","forceUpdate","SeverityIcon","_app_theme__WEBPACK_IMPORTED_MODULE_2__","severityIcons","blocker","fillRule","critical","major","minor","info","Icon","ChevronDownIcon","OpenCloseIcon","ChevronRightcon","ListStyleFacetFooter_ListStyleFacetFooter","handleShowMoreClick","showMore","handleShowLessClick","showLess","hasMore","allShown","ListStyleFacet_ListStyleFacet","autoFocus","searching","searchResultsCounts","showFullList","stopSearching","loadCountsForSearchResults","searchMaxResults","searchResults","searchPaging","searchMore","_this$props$loadSearc","resultsToLoad","hideFullList","helpers_query","maxInitialItems","sortedItems","limitedList","selectedBelowLimit","mightHaveMoreResults","maxItems","formatFacetStat","SearchBox","minLength","placeholder","ready","loadingResults","showList","search-navigator-facet-box-forbidden","disabledHelper","renderSearch","renderSearchResults","SecurityHotspotIcon","stroke","strokeLinecap","strokeWidth","highlightTerm","pos","substring","isSymbol","comparator","computed","TagsList","_icons_components_DropdownIcon__WEBPACK_IMPORTED_MODULE_2__","_icons_components_TagsIcon__WEBPACK_IMPORTED_MODULE_3__","allowUpdate","LinkIcon","_lazyLoad__WEBPACK_IMPORTED_MODULE_0__","baseOrderBy","iteratees","orders","guard","_helpers_l10n__WEBPACK_IMPORTED_MODULE_1__","navigator","userAgent","react_redux__WEBPACK_IMPORTED_MODULE_1__","_store_rootReducer__WEBPACK_IMPORTED_MODULE_2__","_ui_OrganizationLink__WEBPACK_IMPORTED_MODULE_3__","_props$link","shouldBeDisplayed","linkClassName","ownProps","_DateInput__WEBPACK_IMPORTED_MODULE_2__","_helpers_l10n__WEBPACK_IMPORTED_MODULE_3__","handleFromChange","setTimeout","toDateInput","focus","handleToChange","currentMonth","data-test","highlightTo","maxDate","highlightFrom","minDate","MultiSelectOption_MultiSelectOption","handleSelect","evt","stopPropagation","onSelectChange","handleHover","onHover","icon-checkbox-checked","icon-checkbox-invisible","activeClass","onFocus","onMouseOver","custom","renderLabel","MultiSelect_MultiSelect","handleSelectChange","onSelectItem","onUnselectItem","handleSearchChange","onSearchQuery","validateSearchInput","handleElementHover","activeIdx","getAllElements","handleKeyboard","selectNextElement","selectPreviousElement","toggleSelect","stopLoading","isNewElement","onUnselect","elem","selectedElements","elements","updateSelectedElements","filterSelected","updateUnselectedElements","listSize","unselectedElements","difference_default","setElementActive","idx","allElements","totalElements","searchInput","_this$props$allowSele","allowSelection","_this$props$allowNewE","allowNewElements","_this$props$footerNod","footerNode","activeElement","showNewElement","infiniteList","listClasses","menu-vertically-limited","spacer-top","with-top-separator","with-bottom-separator","div","TagsSelector","_common_MultiSelect__WEBPACK_IMPORTED_MODULE_1__","selectedTags","validateTag","_helpers_urls__WEBPACK_IMPORTED_MODULE_1__","leading","clickAttributes","is-leading","statusIcons","icons_components_Icon","confirmed","reopened","closed","StatusIcon","EllipsisIcon","FilterIcon","renderOwaspTop10Category","withPrefix","record","addPrefix","toUpperCase","renderCWECategory","renderSansTop25Category","prefix","_helpers_measures__WEBPACK_IMPORTED_MODULE_2__","_ui_IssueTypeIcon__WEBPACK_IMPORTED_MODULE_1__","_ui_buttons__WEBPACK_IMPORTED_MODULE_1__","baseExtremum","baseGt","EmptySearch","IssueChangelogDiff","diff","oldValue","ChangelogPopup_ChangelogPopup","changelogs","loadChangelog","placement","popups","BottomRight","creationDate","userName","diffs","IssueChangelog_IssueChangelog","toggleChangelog","togglePopup","handleClose","Toggler","isOpen","IssueMessage_IssueMessage","openRule","aria-label","engine","manualVulnerability","SelectListItem_SelectListItem","classnames_default","renderLink","SelectList_SelectList","previousKeyScope","previousFilter","currentKeyScope","uniqueId_default","tagName","target","srcElement","isInput","renderChild","child","currentItem","hasChildren","SimilarIssuesPopup_SimilarIssuesPopup","noPadding","assigneeAvatar","assigneeName","ruleName","componentQualifier","SimilarIssuesFilter_SimilarIssuesFilter","IssueTitleBar","hasSimilarIssuesFilter","locationsCount","reduce","sum","locationsBadge","displayLocations","displayLocationsCount","issueUrl","urls","context","Consumer","externalRuleEngine","fromHotspot","currentPopup","LIST_SIZE","popups_SetAssigneePopup","react_redux_es","searchMembers","organizations","projectOrganization","handleSearchResult","searchUsers","defaultUsersArray","helpers_users","map_default","marginLeft","IssueAssign_IssueAssign","toggleAssign","canAssign","closeOnEscape","onAssign","renderAssignee","updateIssue","resultPromise","oldIssue","newIssue","optimisticUpdate","helpers_issues","CommentPopup_CommentPopup","handleCommentChange","textComment","handleCommentClick","trim","onComment","handleCancelClick","toggleComment","markdown","onKeyDown","IssueCommentAction_IssueCommentAction","addComment","closeOnClickOutside","commentPlaceholder","SEVERITY","SetSeverityPopup","IssueSeverity_IssueSeverity","toggleSetSeverity","setSeverity","setIssueProperty","canSetSeverity","SetIssueTagsPopup_LIST_SIZE","SetIssueTagsPopup_SetIssueTagsPopup","searchResult","setTags","availableTags","IssueTags_IssueTags","toggleSetTags","_issue$tags","canSetTags","SetTransitionPopup","IssueTransition_IssueTransition","setTransition","toggleSetTransition","hasTransitions","TYPES","SetTypePopup","IssueType_IssueType","toggleSetType","setType","canSetType","IssueActionsBar_IssueActionsBar","popup","apiCall","handleTransition","canComment","isSecurityHotspot","CommentDeletePopup","onDelete","IssueCommentLine_IssueCommentLine","handleEdit","onEdit","toggleEditPopup","handleDelete","toggleDeletePopup","closePopups","authorName","authorAvatar","dangerouslySetInnerHTML","__html","htmlText","updatable","IssueView_IssueView","handleCheck","isClickable","parentElement","editComment","deleteComment","hasCheckbox","issueClass","issue-with-checkbox","data-issue","comments","Issue_Issue","handleAssignement","bindShortcuts","unbindShortcuts"],"mappings":"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","file":"js/272.m.8c9719fa.chunk.js","sourcesContent":["var baseFlatten = require('./_baseFlatten'),\n    baseRest = require('./_baseRest'),\n    baseUniq = require('./_baseUniq'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Creates an array of unique values, in order, from all given arrays using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {...Array} [arrays] The arrays to inspect.\n * @returns {Array} Returns the new array of combined values.\n * @example\n *\n * _.union([2], [1, 2]);\n * // => [2, 1]\n */\nvar union = baseRest(function(arrays) {\n  return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true));\n});\n\nmodule.exports = union;\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * SonarQube\\n * Copyright (C) 2009-2019 SonarSource SA\\n * mailto:info AT sonarsource DOT com\\n *\\n * This program is free software; you can redistribute it and/or\\n * modify it under the terms of the GNU Lesser General Public\\n * License as published by the Free Software Foundation; either\\n * version 3 of the License, or (at your option) any later version.\\n *\\n * This program is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\\n * Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with this program; if not, write to the Free Software Foundation,\\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\\n */\\n.issues-main-header .component-name {\\n  line-height: 24px;\\n}\\n\\n.issues-main-header-spinner {\\n  margin-right: 2px;\\n}\\n\\n.concise-issues-list-header,\\n.concise-issues-list-header-inner {\\n}\\n\\n.concise-issues-list-header {\\n}\\n\\n.concise-issues-list-header-inner {\\n  width: 260px;\\n  text-align: center;\\n}\\n\\n.concise-issues-list-header .spinner {\\n  margin-top: 4px;\\n  margin-left: 1px;\\n  margin-right: 1px;\\n}\\n\\n.concise-issues-list-header-button {\\n  border: none;\\n}\\n\\n.concise-issues-list-header-button path {\\n  fill: #777;\\n  transition: fill 0.3s ease;\\n}\\n\\n.concise-issues-list-header-button:hover path {\\n  fill: #4b9fd5;\\n}\\n\\n.concise-issue-component {\\n  margin-top: 16px;\\n  margin-bottom: 4px;\\n  padding-left: 8px;\\n  padding-right: 8px;\\n}\\n\\n.concise-issue-box {\\n  position: relative;\\n  z-index: 1;\\n  margin-bottom: 4px;\\n  padding: 8px;\\n  border: 1px solid #e6e6e6;\\n  background-color: #fff;\\n  cursor: pointer;\\n  transition: background-color 0.3s ease, border-color 0.3s ease;\\n}\\n\\n.concise-issue-box:hover {\\n  background-color: #ffeaea;\\n}\\n\\n.concise-issue-box:focus {\\n  outline: none;\\n}\\n\\n.concise-issue-box.selected {\\n  z-index: 2;\\n  border-color: #dd4040;\\n  background-color: #ffeaea;\\n  cursor: default;\\n}\\n\\n.concise-issue-box-message {\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  font-weight: bold;\\n}\\n\\n.concise-issue-box-message:focus {\\n  outline: none;\\n}\\n\\n.concise-issue-box.selected .concise-issue-box-message {\\n  cursor: pointer;\\n}\\n\\n.concise-issue-box-attributes {\\n  margin-top: 8px;\\n  line-height: 16px;\\n  font-size: 12px;\\n}\\n\\n.concise-issue-box:not(.selected) .location-index {\\n  background-color: #ccc;\\n}\\n\\n.concise-issue-locations {\\n  margin-right: -4px;\\n  margin-bottom: -4px;\\n}\\n\\n.concise-issue-locations .location-index {\\n  margin-right: 4px;\\n  margin-bottom: 4px;\\n}\\n\\n.concise-issue-locations-navigator-location {\\n  position: relative;\\n  z-index: 3;\\n  display: inline-flex;\\n  align-items: flex-start;\\n  max-width: 100%;\\n  border: none;\\n}\\n\\n.concise-issue-locations-navigator-file {\\n  position: relative;\\n}\\n\\n.concise-issue-locations-navigator-file + .concise-issue-locations-navigator-file {\\n  margin-top: 12px;\\n}\\n\\n.concise-issue-locations-navigator-file:not(:last-child)::before {\\n  position: absolute;\\n  display: block;\\n  width: 0;\\n  top: 13px;\\n  bottom: -16px;\\n  left: 4px;\\n  border-left: 1px dotted #d18582;\\n  content: '';\\n}\\n\\n.concise-issue-location-file {\\n  height: 16px;\\n  padding-bottom: 4px;\\n  font-size: 12px;\\n  font-weight: bold;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n}\\n\\n.concise-issue-location-file-circle,\\n.concise-issue-location-file-circle-multiple,\\n.concise-issue-location-file-circle-multiple::before,\\n.concise-issue-location-file-circle-multiple::after {\\n  position: relative;\\n  top: 1px;\\n  display: inline-block;\\n  width: 9px;\\n  height: 9px;\\n  border: 1px solid #d18582;\\n  border-radius: 100%;\\n  box-sizing: border-box;\\n  background-color: #ffeaea;\\n}\\n\\n.concise-issue-location-file-circle-multiple {\\n  top: -2px;\\n}\\n\\n.concise-issue-location-file-circle-multiple::before {\\n  position: absolute;\\n  z-index: 7;\\n  top: 2px;\\n  left: -1px;\\n  content: '';\\n}\\n\\n.concise-issue-location-file-circle-multiple::after {\\n  position: absolute;\\n  z-index: 8;\\n  top: 5px;\\n  left: -1px;\\n  content: '';\\n}\\n\\n.concise-issue-location-file-locations {\\n  padding-left: 16px;\\n}\\n\\n.concise-issue-location-file-more {\\n  border-color: rgba(209, 133, 130, 0.2);\\n  color: rgb(209, 133, 130) !important;\\n  font-style: italic;\\n  font-weight: normal;\\n}\\n\\n.concise-issue-location-file-more:hover,\\n.concise-issue-location-file-more:focus {\\n  border-color: rgba(209, 133, 130, 0.6);\\n}\\n\\n.issues-my-issues-filter {\\n  margin-bottom: 24px;\\n  text-align: center;\\n}\\n\\n.issues-page-actions {\\n  display: inline-block;\\n  min-width: 80px;\\n  text-align: right;\\n}\\n\\n.issues .issue-list {\\n  /* no math, just a good guess */\\n  min-width: 640px;\\n  width: 800px;\\n}\\n\\n.issues .issue {\\n  border: 1px solid transparent;\\n  cursor: pointer;\\n}\\n\\n.issues .issue:hover {\\n  border: 1px dashed #dd4040;\\n  transition: all 0.3s ease;\\n}\\n\\n.issues .issue:focus {\\n  outline: none;\\n}\\n\\n@media (max-width: 1320px) {\\n  .issues .issue-list {\\n    width: calc(60vw - 40px);\\n  }\\n}\\n\\n.issues-workspace-list-component {\\n  padding: 10px 10px 6px;\\n}\\n\\n.issues-workspace-list-item + .issues-workspace-list-item {\\n  margin-top: 5px;\\n}\\n\\n.issues-workspace-list-component + .issues-workspace-list-item {\\n  margin-top: 10px;\\n}\\n\\n.issues-workspace-list-item:first-child .issues-workspace-list-component {\\n  padding-top: 0;\\n}\\n\\n.issues-workspace-list-component + .issues-workspace-list-item {\\n  margin-top: 0;\\n}\\n\\n.issues-predefined-periods {\\n  display: flex;\\n}\\n\\n.issues-predefined-periods .search-navigator-facet {\\n  width: auto;\\n  margin-right: 4px;\\n}\\n\", \"\"]);\n\n// exports\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { pickBy, sortBy } from 'lodash';\nimport { searchAssignees } from '../utils';\nimport { searchIssueTags, bulkChangeIssues } from '../../../api/issues';\nimport throwGlobalError from '../../../app/utils/throwGlobalError';\nimport MarkdownTips from '../../../components/common/MarkdownTips';\nimport SearchSelect from '../../../components/controls/SearchSelect';\nimport Checkbox from '../../../components/controls/Checkbox';\nimport Modal from '../../../components/controls/Modal';\nimport Select from '../../../components/controls/Select';\nimport HelpTooltip from '../../../components/controls/HelpTooltip';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport Avatar from '../../../components/ui/Avatar';\nimport { SubmitButton } from '../../../components/ui/buttons';\nimport IssueTypeIcon from '../../../components/ui/IssueTypeIcon';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport { Alert } from '../../../components/ui/Alert';\nimport { isLoggedIn } from '../../../helpers/users';\n\ninterface AssigneeOption {\n  avatar?: string;\n  email?: string;\n  label: string;\n  value: string;\n}\n\ninterface TagOption {\n  label: string;\n  value: string;\n}\n\ninterface Props {\n  component: T.Component | undefined;\n  currentUser: T.CurrentUser;\n  fetchIssues: (x: {}) => Promise<{ issues: T.Issue[]; paging: T.Paging }>;\n  onClose: () => void;\n  onDone: () => void;\n  organization: { key: string } | undefined;\n}\n\ninterface FormFields {\n  addTags?: Array<{ label: string; value: string }>;\n  assignee?: AssigneeOption;\n  comment?: string;\n  notifications?: boolean;\n  organization?: string;\n  removeTags?: Array<{ label: string; value: string }>;\n  severity?: string;\n  transition?: string;\n  type?: string;\n}\n\ninterface State extends FormFields {\n  initialTags: Array<{ label: string; value: string }>;\n  issues: T.Issue[];\n  // used for initial loading of issues\n  loading: boolean;\n  paging?: T.Paging;\n  // used when submitting a form\n  submitting: boolean;\n}\n\ntype AssigneeSelectType = new () => SearchSelect<AssigneeOption>;\nconst AssigneeSelect = SearchSelect as AssigneeSelectType;\n\ntype TagSelectType = new () => SearchSelect<TagOption>;\nconst TagSelect = SearchSelect as TagSelectType;\n\nexport default class BulkChangeModal extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    let organization = props.component && props.component.organization;\n    if (props.organization && !organization) {\n      organization = props.organization.key;\n    }\n    this.state = { initialTags: [], issues: [], loading: true, submitting: false, organization };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n\n    Promise.all([\n      this.loadIssues(),\n      searchIssueTags({ organization: this.state.organization })\n    ]).then(\n      ([issues, tags]) => {\n        if (this.mounted) {\n          this.setState({\n            initialTags: tags.map(tag => ({ label: tag, value: tag })),\n            issues: issues.issues,\n            loading: false,\n            paging: issues.paging\n          });\n        }\n      },\n      () => {}\n    );\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  loadIssues = () => this.props.fetchIssues({ additionalFields: 'actions,transitions', ps: 250 });\n\n  getDefaultAssignee = () => {\n    const { currentUser } = this.props;\n    const { issues } = this.state;\n    const options = [];\n\n    if (isLoggedIn(currentUser)) {\n      const canBeAssignedToMe =\n        issues.filter(issue => issue.assignee !== currentUser.login).length > 0;\n      if (canBeAssignedToMe) {\n        options.push({\n          avatar: currentUser.avatar,\n          label: currentUser.name,\n          value: currentUser.login\n        });\n      }\n    }\n\n    const canBeUnassigned = issues.filter(issue => issue.assignee).length > 0;\n    if (canBeUnassigned) {\n      options.push({ label: translate('unassigned'), value: '' });\n    }\n\n    return options;\n  };\n\n  handleCloseClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.onClose();\n  };\n\n  handleAssigneeSearch = (query: string) => {\n    return searchAssignees(query, this.state.organization).then(({ results }) =>\n      results.map(r => ({ avatar: r.avatar, label: r.name, value: r.login }))\n    );\n  };\n\n  handleAssigneeSelect = (assignee: AssigneeOption) => {\n    this.setState({ assignee });\n  };\n\n  handleTagsSearch = (query: string) => {\n    return searchIssueTags({ organization: this.state.organization, q: query }).then(tags =>\n      tags.map(tag => ({ label: tag, value: tag }))\n    );\n  };\n\n  handleTagsSelect = (field: 'addTags' | 'removeTags') => (\n    options: Array<{ label: string; value: string }>\n  ) => {\n    this.setState<keyof FormFields>({ [field]: options });\n  };\n\n  handleFieldCheck = (field: keyof FormFields) => (checked: boolean) => {\n    if (!checked) {\n      this.setState<keyof FormFields>({ [field]: undefined });\n    } else if (field === 'notifications') {\n      this.setState<keyof FormFields>({ [field]: true });\n    }\n  };\n\n  handleFieldChange = (field: 'comment' | 'transition') => (\n    event: React.SyntheticEvent<HTMLInputElement | HTMLTextAreaElement>\n  ) => {\n    this.setState<keyof FormFields>({ [field]: event.currentTarget.value });\n  };\n\n  handleSelectFieldChange = (field: 'severity' | 'type') => (data: { value: string } | null) => {\n    if (data) {\n      this.setState<keyof FormFields>({ [field]: data.value });\n    } else {\n      this.setState<keyof FormFields>({ [field]: undefined });\n    }\n  };\n\n  handleSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n\n    const query = pickBy(\n      {\n        add_tags: this.state.addTags && this.state.addTags.map(t => t.value).join(),\n        assign: this.state.assignee ? this.state.assignee.value : null,\n        comment: this.state.comment,\n        do_transition: this.state.transition,\n        remove_tags: this.state.removeTags && this.state.removeTags.map(t => t.value).join(),\n        sendNotifications: this.state.notifications,\n        set_severity: this.state.severity,\n        set_type: this.state.type\n      },\n      x => x !== undefined\n    );\n\n    const issueKeys = this.state.issues.map(issue => issue.key);\n\n    this.setState({ submitting: true });\n    bulkChangeIssues(issueKeys, query).then(\n      () => {\n        this.setState({ submitting: false });\n        this.props.onDone();\n      },\n      error => {\n        this.setState({ submitting: false });\n        throwGlobalError(error);\n      }\n    );\n  };\n\n  getAvailableTransitions(issues: T.Issue[]) {\n    const transitions: { [x: string]: number } = {};\n    issues.forEach(issue => {\n      if (issue.transitions) {\n        issue.transitions.forEach(t => {\n          if (transitions[t] !== undefined) {\n            transitions[t]++;\n          } else {\n            transitions[t] = 1;\n          }\n        });\n      }\n    });\n    return sortBy(Object.keys(transitions)).map(transition => ({\n      transition,\n      count: transitions[transition]\n    }));\n  }\n\n  renderCancelButton = () => (\n    <a href=\"#\" id=\"bulk-change-cancel\" onClick={this.handleCloseClick}>\n      {translate('cancel')}\n    </a>\n  );\n\n  renderLoading = () => (\n    <div>\n      <div className=\"modal-head\">\n        <h2>{translate('bulk_change')}</h2>\n      </div>\n      <div className=\"modal-body\">\n        <div className=\"text-center\">\n          <i className=\"spinner spinner-margin\" />\n        </div>\n      </div>\n      <div className=\"modal-foot\">{this.renderCancelButton()}</div>\n    </div>\n  );\n\n  renderCheckbox = (field: keyof FormFields, id?: string) => (\n    <Checkbox\n      checked={this.state[field] !== undefined}\n      id={id}\n      onCheck={this.handleFieldCheck(field)}\n    />\n  );\n\n  renderAffected = (affected: number) => (\n    <div className=\"pull-right note\">\n      ({translateWithParameters('issue_bulk_change.x_issues', affected)})\n    </div>\n  );\n\n  renderField = (\n    field: 'addTags' | 'assignee' | 'removeTags' | 'severity' | 'type',\n    label: string,\n    affected: number | undefined,\n    input: React.ReactNode\n  ) => (\n    <div className=\"modal-field\" id={`issues-bulk-change-${field}`}>\n      <label htmlFor={field}>{translate(label)}</label>\n      {input}\n      {affected !== undefined && this.renderAffected(affected)}\n    </div>\n  );\n\n  renderAssigneeOption = (option: AssigneeOption) => {\n    return (\n      <span>\n        {option.avatar !== undefined && (\n          <Avatar className=\"spacer-right\" hash={option.avatar} name={option.label} size={16} />\n        )}\n        {option.label}\n      </span>\n    );\n  };\n\n  renderAssigneeField = () => {\n    const affected = this.state.issues.filter(hasAction('assign')).length;\n\n    if (affected === 0) {\n      return null;\n    }\n\n    const input = (\n      <AssigneeSelect\n        clearable={true}\n        defaultOptions={this.getDefaultAssignee()}\n        onSearch={this.handleAssigneeSearch}\n        onSelect={this.handleAssigneeSelect}\n        renderOption={this.renderAssigneeOption}\n        resetOnBlur={false}\n        value={this.state.assignee}\n      />\n    );\n\n    return this.renderField('assignee', 'issue.assign.formlink', affected, input);\n  };\n\n  renderTypeField = () => {\n    const affected = this.state.issues.filter(hasAction('set_type')).length;\n\n    if (affected === 0) {\n      return null;\n    }\n\n    const types: T.IssueType[] = ['BUG', 'VULNERABILITY', 'CODE_SMELL'];\n    const options = types.map(type => ({ label: translate('issue.type', type), value: type }));\n\n    const optionRenderer = (option: { label: string; value: string }) => (\n      <span>\n        <IssueTypeIcon className=\"little-spacer-right\" query={option.value} />\n        {option.label}\n      </span>\n    );\n\n    const input = (\n      <Select\n        clearable={true}\n        onChange={this.handleSelectFieldChange('type')}\n        optionRenderer={optionRenderer}\n        options={options}\n        searchable={false}\n        value={this.state.type}\n        valueRenderer={optionRenderer}\n      />\n    );\n\n    return this.renderField('type', 'issue.set_type', affected, input);\n  };\n\n  renderSeverityField = () => {\n    const affected = this.state.issues.filter(hasAction('set_severity')).length;\n\n    if (affected === 0) {\n      return null;\n    }\n\n    const severities = ['BLOCKER', 'CRITICAL', 'MAJOR', 'MINOR', 'INFO'];\n    const options = severities.map(severity => ({\n      label: translate('severity', severity),\n      value: severity\n    }));\n\n    const input = (\n      <Select\n        clearable={true}\n        onChange={this.handleSelectFieldChange('severity')}\n        optionRenderer={(option: { value: string }) => <SeverityHelper severity={option.value} />}\n        options={options}\n        searchable={false}\n        value={this.state.severity}\n        valueRenderer={(option: { value: string }) => <SeverityHelper severity={option.value} />}\n      />\n    );\n\n    return this.renderField('severity', 'issue.set_severity', affected, input);\n  };\n\n  renderTagOption = (option: TagOption) => {\n    return <span>{option.label}</span>;\n  };\n\n  renderTagsField = (field: 'addTags' | 'removeTags', label: string, allowCreate: boolean) => {\n    const { initialTags } = this.state;\n    const affected = this.state.issues.filter(hasAction('set_tags')).length;\n\n    if (initialTags === undefined || affected === 0) {\n      return null;\n    }\n\n    const input = (\n      <TagSelect\n        canCreate={allowCreate}\n        clearable={true}\n        defaultOptions={this.state.initialTags}\n        minimumQueryLength={0}\n        multi={true}\n        onMultiSelect={this.handleTagsSelect(field)}\n        onSearch={this.handleTagsSearch}\n        promptTextCreator={promptCreateTag}\n        renderOption={this.renderTagOption}\n        resetOnBlur={false}\n        value={this.state[field]}\n      />\n    );\n\n    return this.renderField(field, label, affected, input);\n  };\n\n  renderTransitionsField = () => {\n    const transitions = this.getAvailableTransitions(this.state.issues);\n\n    if (transitions.length === 0) {\n      return null;\n    }\n\n    return (\n      <div className=\"modal-field\">\n        <label>{translate('issue.transition')}</label>\n        {transitions.map(transition => (\n          <span className=\"clearfix\" key={transition.transition}>\n            <input\n              checked={this.state.transition === transition.transition}\n              id={`transition-${transition.transition}`}\n              name=\"do_transition.transition\"\n              onChange={this.handleFieldChange('transition')}\n              type=\"radio\"\n              value={transition.transition}\n            />\n            <label\n              htmlFor={`transition-${transition.transition}`}\n              style={{ float: 'none', display: 'inline', left: 0, cursor: 'pointer' }}>\n              {translate('issue.transition', transition.transition)}\n            </label>\n            {this.renderAffected(transition.count)}\n            <br />\n          </span>\n        ))}\n      </div>\n    );\n  };\n\n  renderCommentField = () => {\n    const affected = this.state.issues.filter(hasAction('comment')).length;\n\n    if (affected === 0) {\n      return null;\n    }\n\n    return (\n      <div className=\"modal-field\">\n        <label htmlFor=\"comment\">\n          <span className=\"text-middle\">{translate('issue.comment.formlink')}</span>\n          <HelpTooltip\n            className=\"spacer-left\"\n            overlay={translate('issue_bulk_change.comment.help')}\n          />\n        </label>\n        <div>\n          <textarea\n            id=\"comment\"\n            onChange={this.handleFieldChange('comment')}\n            rows={4}\n            style={{ width: '100%' }}\n            value={this.state.comment || ''}\n          />\n        </div>\n        <div className=\"pull-right\">\n          <MarkdownTips />\n        </div>\n      </div>\n    );\n  };\n\n  renderNotificationsField = () => (\n    <div className=\"modal-field\">\n      <label htmlFor=\"send-notifications\">{translate('issue.send_notifications')}</label>\n      {this.renderCheckbox('notifications', 'send-notifications')}\n    </div>\n  );\n\n  renderForm = () => {\n    const { issues, paging, submitting } = this.state;\n\n    const limitReached = paging !== undefined && paging.total > paging.pageIndex * paging.pageSize;\n\n    return (\n      <form id=\"bulk-change-form\" onSubmit={this.handleSubmit}>\n        <div className=\"modal-head\">\n          <h2>{translateWithParameters('issue_bulk_change.form.title', issues.length)}</h2>\n        </div>\n\n        <div className=\"modal-body\">\n          {limitReached && (\n            <Alert variant=\"warning\">\n              {translateWithParameters('issue_bulk_change.max_issues_reached', issues.length)}\n            </Alert>\n          )}\n\n          {this.renderAssigneeField()}\n          {this.renderTypeField()}\n          {this.renderSeverityField()}\n          {this.renderTagsField('addTags', 'issue.add_tags', true)}\n          {this.renderTagsField('removeTags', 'issue.remove_tags', false)}\n          {this.renderTransitionsField()}\n          {this.renderCommentField()}\n          {issues.length > 0 && this.renderNotificationsField()}\n          {issues.length === 0 && (\n            <Alert variant=\"warning\">{translate('issue_bulk_change.no_match')}</Alert>\n          )}\n        </div>\n\n        <div className=\"modal-foot\">\n          {submitting && <i className=\"spinner spacer-right\" />}\n          <SubmitButton disabled={submitting || issues.length === 0} id=\"bulk-change-submit\">\n            {translate('apply')}\n          </SubmitButton>\n          {this.renderCancelButton()}\n        </div>\n      </form>\n    );\n  };\n\n  render() {\n    return (\n      <Modal contentLabel=\"modal\" onRequestClose={this.props.onClose}>\n        {this.state.loading ? this.renderLoading() : this.renderForm()}\n      </Modal>\n    );\n  }\n}\n\nfunction hasAction(action: string) {\n  return (issue: T.Issue) => issue.actions && issue.actions.includes(action);\n}\n\nfunction promptCreateTag(label: string) {\n  return `+ ${label}`;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { getSelectedLocation } from '../utils';\nimport Organization from '../../../components/shared/Organization';\nimport { collapsePath, limitComponentName } from '../../../helpers/path';\n\ninterface Props {\n  component?: T.Component;\n  issue: Pick<\n    T.Issue,\n    | 'component'\n    | 'componentLongName'\n    | 'flows'\n    | 'organization'\n    | 'project'\n    | 'projectName'\n    | 'secondaryLocations'\n    | 'subProject'\n    | 'subProjectName'\n  >;\n  link?: boolean;\n  organization: { key: string } | undefined;\n  selectedFlowIndex?: number;\n  selectedLocationIndex?: number;\n}\n\nexport default function ComponentBreadcrumbs({\n  component,\n  issue,\n  organization,\n  selectedFlowIndex,\n  selectedLocationIndex\n}: Props) {\n  const displayOrganization =\n    !organization && (!component || ['VW', 'SVW'].includes(component.qualifier));\n  const displayProject = !component || !['TRK', 'BRC', 'DIR'].includes(component.qualifier);\n  const displaySubProject = !component || !['BRC', 'DIR'].includes(component.qualifier);\n\n  const selectedLocation = getSelectedLocation(issue, selectedFlowIndex, selectedLocationIndex);\n  const componentName = selectedLocation ? selectedLocation.componentName : issue.componentLongName;\n\n  return (\n    <div className=\"component-name text-ellipsis\">\n      {displayOrganization && <Organization link={false} organizationKey={issue.organization} />}\n\n      {displayProject && (\n        <span title={issue.projectName}>\n          {limitComponentName(issue.projectName)}\n          <span className=\"slash-separator\" />\n        </span>\n      )}\n\n      {displaySubProject &&\n        issue.subProject !== undefined &&\n        issue.subProjectName !== undefined && (\n          <span title={issue.subProjectName}>\n            {limitComponentName(issue.subProjectName)}\n            <span className=\"slash-separator\" />\n          </span>\n        )}\n\n      {collapsePath(componentName || '')}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ComponentBreadcrumbs from './ComponentBreadcrumbs';\nimport { Query } from '../utils';\nimport Issue from '../../../components/issue/Issue';\n\ninterface Props {\n  branchLike: T.BranchLike | undefined;\n  checked: boolean;\n  component: T.Component | undefined;\n  issue: T.Issue;\n  onChange: (issue: T.Issue) => void;\n  onCheck: ((issueKey: string, event: { shiftKey?: boolean }) => void) | undefined;\n  onClick: (issueKey: string) => void;\n  onFilterChange: (changes: Partial<Query>) => void;\n  onPopupToggle: (issue: string, popupName: string, open?: boolean) => void;\n  openPopup: string | undefined;\n  organization: { key: string } | undefined;\n  previousIssue: T.Issue | undefined;\n  selected: boolean;\n}\n\ninterface State {\n  similarIssues: boolean;\n}\n\nexport default class ListItem extends React.PureComponent<Props, State> {\n  state: State = { similarIssues: false };\n\n  handleFilter = (property: string, issue: T.Issue) => {\n    const { onFilterChange } = this.props;\n\n    const issuesReset = { issues: [] };\n\n    if (property.startsWith('tag###')) {\n      const tag = property.substr(6);\n      onFilterChange({ ...issuesReset, tags: [tag] });\n    } else {\n      switch (property) {\n        case 'type':\n          onFilterChange({ ...issuesReset, types: [issue.type] });\n          break;\n        case 'severity':\n          onFilterChange({ ...issuesReset, severities: [issue.severity] });\n          break;\n        case 'status':\n          onFilterChange({ ...issuesReset, statuses: [issue.status] });\n          break;\n        case 'resolution':\n          if (issue.resolution) {\n            onFilterChange({ ...issuesReset, resolved: true, resolutions: [issue.resolution] });\n          } else {\n            onFilterChange({ ...issuesReset, resolved: false, resolutions: [] });\n          }\n          break;\n        case 'assignee':\n          if (issue.assignee) {\n            onFilterChange({ ...issuesReset, assigned: true, assignees: [issue.assignee] });\n          } else {\n            onFilterChange({ ...issuesReset, assigned: false, assignees: [] });\n          }\n          break;\n        case 'rule':\n          onFilterChange({ ...issuesReset, rules: [issue.rule] });\n          break;\n        case 'project':\n          onFilterChange({ ...issuesReset, projects: [issue.projectKey] });\n          break;\n        case 'module':\n          if (issue.subProjectUuid) {\n            onFilterChange({ ...issuesReset, modules: [issue.subProjectUuid] });\n          }\n          break;\n        case 'file':\n          onFilterChange({ ...issuesReset, files: [issue.componentUuid] });\n      }\n    }\n  };\n\n  render() {\n    const { branchLike, component, issue, previousIssue } = this.props;\n\n    const displayComponent = !previousIssue || previousIssue.component !== issue.component;\n\n    return (\n      <div className=\"issues-workspace-list-item\">\n        {displayComponent && (\n          <div className=\"issues-workspace-list-component note\">\n            <ComponentBreadcrumbs\n              component={component}\n              issue={this.props.issue}\n              organization={this.props.organization}\n            />\n          </div>\n        )}\n        <Issue\n          branchLike={branchLike}\n          checked={this.props.checked}\n          displayLocationsLink={false}\n          issue={issue}\n          onChange={this.props.onChange}\n          onCheck={this.props.onCheck}\n          onClick={this.props.onClick}\n          onFilter={this.handleFilter}\n          onPopupToggle={this.props.onPopupToggle}\n          openPopup={this.props.openPopup}\n          selected={this.props.selected}\n        />\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ListItem from './ListItem';\nimport { Query } from '../utils';\n\ninterface Props {\n  branchLike: T.BranchLike | undefined;\n  checked: string[];\n  component: T.Component | undefined;\n  issues: T.Issue[];\n  onFilterChange: (changes: Partial<Query>) => void;\n  onIssueChange: (issue: T.Issue) => void;\n  onIssueCheck: ((issueKey: string, event: { shiftKey?: boolean }) => void) | undefined;\n  onIssueClick: (issueKey: string) => void;\n  onPopupToggle: (issue: string, popupName: string, open?: boolean) => void;\n  openPopup: { issue: string; name: string } | undefined;\n  organization: { key: string } | undefined;\n  selectedIssue: T.Issue | undefined;\n}\n\nexport default class IssuesList extends React.PureComponent<Props> {\n  render() {\n    const { branchLike, checked, component, issues, openPopup, selectedIssue } = this.props;\n\n    return (\n      <div>\n        {issues.map((issue, index) => (\n          <ListItem\n            branchLike={branchLike}\n            checked={checked.includes(issue.key)}\n            component={component}\n            issue={issue}\n            key={issue.key}\n            onChange={this.props.onIssueChange}\n            onCheck={this.props.onIssueCheck}\n            onClick={this.props.onIssueClick}\n            onFilterChange={this.props.onFilterChange}\n            onPopupToggle={this.props.onPopupToggle}\n            openPopup={openPopup && openPopup.issue === issue.key ? openPopup.name : undefined}\n            organization={this.props.organization}\n            previousIssue={index > 0 ? issues[index - 1] : undefined}\n            selected={selectedIssue != null && selectedIssue.key === issue.key}\n          />\n        ))}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { getLocations, getSelectedLocation } from '../utils';\nimport SourceViewer from '../../../components/SourceViewer/SourceViewer';\nimport { scrollToElement } from '../../../helpers/scrolling';\n\ninterface Props {\n  branchLike: T.BranchLike | undefined;\n  loadIssues: (component: string, from: number, to: number) => Promise<T.Issue[]>;\n  locationsNavigator: boolean;\n  onIssueChange: (issue: T.Issue) => void;\n  onIssueSelect: (issueKey: string) => void;\n  onLocationSelect: (index: number) => void;\n  openIssue: T.Issue;\n  selectedFlowIndex: number | undefined;\n  selectedLocationIndex: number | undefined;\n}\n\nexport default class IssuesSourceViewer extends React.PureComponent<Props> {\n  node?: HTMLElement | null;\n\n  componentDidUpdate(prevProps: Props) {\n    const { openIssue, selectedLocationIndex } = this.props;\n\n    // Scroll back to the issue when the selected location is set to -1\n    const shouldScrollBackToIssue =\n      selectedLocationIndex === -1 && selectedLocationIndex !== prevProps.selectedLocationIndex;\n    if (\n      prevProps.openIssue.component === openIssue.component &&\n      (prevProps.openIssue !== openIssue || shouldScrollBackToIssue)\n    ) {\n      this.scrollToIssue();\n    }\n  }\n\n  scrollToIssue = (smooth = true) => {\n    if (this.node) {\n      const element = this.node.querySelector(`[data-issue=\"${this.props.openIssue.key}\"]`);\n      if (element) {\n        this.handleScroll(element, smooth);\n      }\n    }\n  };\n\n  handleScroll = (element: Element, smooth = true) => {\n    const offset = window.innerHeight / 2;\n    scrollToElement(element, { topOffset: offset - 100, bottomOffset: offset, smooth });\n  };\n\n  handleLoaded = () => {\n    this.scrollToIssue(false);\n  };\n\n  render() {\n    const { openIssue, selectedFlowIndex, selectedLocationIndex } = this.props;\n\n    const locations = getLocations(openIssue, selectedFlowIndex);\n    const selectedLocation = getSelectedLocation(\n      openIssue,\n      selectedFlowIndex,\n      selectedLocationIndex\n    );\n\n    const component = selectedLocation ? selectedLocation.component : openIssue.component;\n\n    // if location is selected, show (and load) code around it\n    // otherwise show code around the open issue\n    const aroundLine = selectedLocation\n      ? selectedLocation.textRange.startLine\n      : openIssue.textRange && openIssue.textRange.endLine;\n\n    // replace locations in another file with `undefined` to keep the same location indexes\n    const highlightedLocations = locations.map(\n      location => (location.component === component ? location : undefined)\n    );\n\n    const highlightedLocationMessage =\n      this.props.locationsNavigator && selectedLocationIndex !== undefined\n        ? selectedLocation && { index: selectedLocationIndex, text: selectedLocation.msg }\n        : undefined;\n\n    const allMessagesEmpty = locations !== undefined && locations.every(location => !location.msg);\n\n    // do not load issues when open another file for a location\n    const loadIssues =\n      component === openIssue.component ? this.props.loadIssues : () => Promise.resolve([]);\n    const selectedIssue = component === openIssue.component ? openIssue.key : undefined;\n\n    return (\n      <div ref={node => (this.node = node)}>\n        <SourceViewer\n          aroundLine={aroundLine}\n          branchLike={this.props.branchLike}\n          component={component}\n          displayAllIssues={true}\n          displayIssueLocationsCount={false}\n          displayIssueLocationsLink={false}\n          displayLocationMarkers={!allMessagesEmpty}\n          highlightedLocationMessage={highlightedLocationMessage}\n          highlightedLocations={highlightedLocations}\n          loadIssues={loadIssues}\n          onIssueChange={this.props.onIssueChange}\n          onIssueSelect={this.props.onIssueSelect}\n          onLoaded={this.handleLoaded}\n          onLocationSelect={this.props.onLocationSelect}\n          scroll={this.handleScroll}\n          selectedIssue={selectedIssue}\n        />\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from '../../../components/ui/buttons';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  myIssues: boolean;\n  onMyIssuesChange: (myIssues: boolean) => void;\n}\n\nexport default class MyIssuesFilter extends React.PureComponent<Props> {\n  handleClick = (myIssues: boolean) => () => {\n    this.props.onMyIssuesChange(myIssues);\n  };\n\n  render() {\n    const { myIssues } = this.props;\n\n    return (\n      <div className=\"issues-my-issues-filter\">\n        <div className=\"button-group\">\n          <Button\n            className={myIssues ? 'button-active' : undefined}\n            onClick={this.handleClick(true)}>\n            {translate('issues.my_issues')}\n          </Button>\n          <Button\n            className={myIssues ? undefined : 'button-active'}\n            onClick={this.handleClick(false)}>\n            {translate('all')}\n          </Button>\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from '../../../helpers/l10n';\nimport '../../../components/common/EmptySearch.css';\n\nexport default function NoIssues() {\n  return (\n    <div className=\"empty-search\">\n      <h3>{translate('issues.no_issues')}</h3>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from '../../../helpers/l10n';\nimport '../../../components/common/EmptySearch.css';\n\nexport default function NoMyIssues() {\n  return (\n    <div className=\"empty-search\">\n      <h3>{translate('issues.no_my_issues')}</h3>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport PageCounter from '../../../components/common/PageCounter';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  className?: string;\n  current: number | undefined;\n  total: number;\n}\n\nexport default function IssuesCounter(props: Props) {\n  return (\n    <PageCounter\n      className=\"spacer-left flash flash-heavy\"\n      current={props.current}\n      label={translate('issues.issues')}\n      total={props.total}\n    />\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { translate } from '../../../helpers/l10n';\nimport { formatMeasure } from '../../../helpers/measures';\n\nexport default function TotalEffort({ effort }: { effort: number }) {\n  return (\n    <div className=\"display-inline-block bordered-left spacer-left\">\n      <div className=\"spacer-left\">\n        <FormattedMessage\n          defaultMessage={translate('issue.x_effort')}\n          id=\"issue.x_effort\"\n          values={{ 0: <strong>{formatMeasure(effort, 'WORK_DUR')}</strong> }}\n        />\n      </div>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport IssuesCounter from './IssuesCounter';\nimport TotalEffort from './TotalEffort';\nimport HomePageSelect from '../../../components/controls/HomePageSelect';\nimport ReloadButton from '../../../components/controls/ReloadButton';\nimport { translate } from '../../../helpers/l10n';\nimport { isSonarCloud } from '../../../helpers/system';\n\ninterface Props {\n  canSetHome: boolean;\n  effortTotal: number | undefined;\n  onReload: () => void;\n  paging: T.Paging | undefined;\n  selectedIndex: number | undefined;\n}\n\nexport default class PageActions extends React.PureComponent<Props> {\n  renderShortcuts() {\n    return (\n      <span className=\"note big-spacer-right\">\n        <span className=\"big-spacer-right\">\n          <span className=\"shortcut-button little-spacer-right\">↑</span>\n          <span className=\"shortcut-button little-spacer-right\">↓</span>\n          {translate('issues.to_select_issues')}\n        </span>\n\n        <span>\n          <span className=\"shortcut-button little-spacer-right\">←</span>\n          <span className=\"shortcut-button little-spacer-right\">→</span>\n          {translate('issues.to_navigate')}\n        </span>\n      </span>\n    );\n  }\n\n  render() {\n    const { effortTotal, paging, selectedIndex } = this.props;\n\n    return (\n      <div className=\"pull-right\">\n        {this.renderShortcuts()}\n\n        <div className=\"issues-page-actions\">\n          <ReloadButton onClick={this.props.onReload} />\n          {paging != null && (\n            <IssuesCounter className=\"spacer-left\" current={selectedIndex} total={paging.total} />\n          )}\n          {effortTotal !== undefined && <TotalEffort effort={effortTotal} />}\n        </div>\n\n        {this.props.canSetHome && (\n          <HomePageSelect\n            className=\"huge-spacer-left\"\n            currentPage={isSonarCloud() ? { type: 'MY_ISSUES' } : { type: 'ISSUES' }}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport LocationIndex from '../../../components/common/LocationIndex';\nimport Tooltip from '../../../components/controls/Tooltip';\nimport { translateWithParameters } from '../../../helpers/l10n';\nimport { formatMeasure } from '../../../helpers/measures';\n\ninterface Props {\n  count: number;\n  onClick?: () => void;\n  selected: boolean;\n}\n\nexport default function ConciseIssueLocationBadge(props: Props) {\n  return (\n    <Tooltip\n      mouseEnterDelay={0.5}\n      overlay={translateWithParameters(\n        'issue.this_issue_involves_x_code_locations',\n        formatMeasure(props.count, 'INT')\n      )}>\n      <LocationIndex onClick={props.onClick} selected={props.selected}>\n        {'+'}\n        {props.count}\n      </LocationIndex>\n    </Tooltip>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ConciseIssueLocationBadge from './ConciseIssueLocationBadge';\n\ninterface Props {\n  issue: Pick<T.Issue, 'flows' | 'secondaryLocations'>;\n  onFlowSelect: (index: number) => void;\n  selectedFlowIndex: number | undefined;\n}\n\ninterface State {\n  collapsed: boolean;\n}\n\nconst LIMIT = 3;\n\nexport default class ConciseIssueLocations extends React.PureComponent<Props, State> {\n  state: State = { collapsed: true };\n\n  handleExpandClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    this.setState({ collapsed: false });\n  };\n\n  renderExpandButton() {\n    return (\n      <a className=\"little-spacer-left link-no-underline\" href=\"#\" onClick={this.handleExpandClick}>\n        ...\n      </a>\n    );\n  }\n\n  render() {\n    const { secondaryLocations, flows } = this.props.issue;\n\n    const badges: JSX.Element[] = [];\n\n    if (secondaryLocations.length > 0) {\n      badges.push(\n        <ConciseIssueLocationBadge\n          count={secondaryLocations.length}\n          key=\"-1\"\n          selected={!this.props.selectedFlowIndex}\n        />\n      );\n    }\n\n    flows.forEach((flow, index) => {\n      badges.push(\n        <ConciseIssueLocationBadge\n          count={flow.length}\n          key={index}\n          onClick={() => this.props.onFlowSelect(index)}\n          selected={index === this.props.selectedFlowIndex}\n        />\n      );\n    });\n\n    return this.state.collapsed ? (\n      <div className=\"concise-issue-locations pull-right\">\n        {badges.slice(0, LIMIT)}\n        {badges.length > LIMIT && this.renderExpandButton()}\n      </div>\n    ) : (\n      <div className=\"concise-issue-locations spacer-top\">{badges}</div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport LocationIndex from '../../../components/common/LocationIndex';\nimport LocationMessage from '../../../components/common/LocationMessage';\n\ninterface Props {\n  index: number;\n  message: string | undefined;\n  onClick: (index: number) => void;\n  scroll: (element: Element) => void;\n  selected: boolean;\n}\n\nexport default class ConciseIssueLocationsNavigatorLocation extends React.PureComponent<Props> {\n  node?: HTMLElement | null;\n\n  componentDidMount() {\n    if (this.props.selected && this.node) {\n      this.props.scroll(this.node);\n    }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (this.props.selected && prevProps.selected !== this.props.selected && this.node) {\n      this.props.scroll(this.node);\n    }\n  }\n\n  handleClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    this.props.onClick(this.props.index);\n  };\n\n  render() {\n    return (\n      <div className=\"little-spacer-top\" ref={node => (this.node = node)}>\n        <a\n          className=\"concise-issue-locations-navigator-location\"\n          href=\"#\"\n          onClick={this.handleClick}>\n          <LocationIndex selected={this.props.selected}>{this.props.index + 1}</LocationIndex>\n          <LocationMessage selected={this.props.selected}>{this.props.message}</LocationMessage>\n        </a>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ConciseIssueLocationsNavigatorLocation from './ConciseIssueLocationsNavigatorLocation';\nimport { translateWithParameters } from '../../../helpers/l10n';\nimport { collapsePath } from '../../../helpers/path';\n\ninterface Props {\n  issue: Pick<T.Issue, 'key'>;\n  locations: T.FlowLocation[];\n  onLocationSelect: (index: number) => void;\n  scroll: (element: Element) => void;\n  selectedLocationIndex: number | undefined;\n}\n\ninterface State {\n  collapsed: boolean;\n}\n\ninterface LocationGroup {\n  component: string | undefined;\n  componentName: string | undefined;\n  firstLocationIndex: number;\n  locations: T.FlowLocation[];\n}\n\nexport default class CrossFileLocationsNavigator extends React.PureComponent<Props, State> {\n  state: State = { collapsed: true };\n\n  componentWillReceiveProps(nextProps: Props) {\n    if (nextProps.issue.key !== this.props.issue.key) {\n      this.setState({ collapsed: true });\n    }\n\n    // expand locations list as soon as a location in the middle of the list is selected\n    const { locations: nextLocations } = nextProps;\n    if (\n      nextProps.selectedLocationIndex &&\n      nextProps.selectedLocationIndex > 0 &&\n      nextLocations !== undefined &&\n      nextProps.selectedLocationIndex < nextLocations.length - 1\n    ) {\n      this.setState({ collapsed: false });\n    }\n  }\n\n  handleMoreLocationsClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.setState({ collapsed: false });\n  };\n\n  groupByFile = (locations: T.FlowLocation[]) => {\n    const groups: LocationGroup[] = [];\n\n    let currentLocations: T.FlowLocation[] = [];\n    let currentComponent: string | undefined;\n    let currentComponentName: string | undefined;\n    let currentFirstLocationIndex = 0;\n\n    for (let index = 0; index < locations.length; index++) {\n      const location = locations[index];\n      if (location.component === currentComponent) {\n        currentLocations.push(location);\n      } else {\n        if (currentLocations.length > 0) {\n          groups.push({\n            component: currentComponent,\n            componentName: currentComponentName,\n            firstLocationIndex: currentFirstLocationIndex,\n            locations: currentLocations\n          });\n        }\n        currentLocations = [location];\n        currentComponent = location.component;\n        currentComponentName = location.componentName;\n        currentFirstLocationIndex = index;\n      }\n    }\n\n    if (currentLocations.length > 0) {\n      groups.push({\n        component: currentComponent,\n        componentName: currentComponentName,\n        firstLocationIndex: currentFirstLocationIndex,\n        locations: currentLocations\n      });\n    }\n\n    return groups;\n  };\n\n  renderLocation = (index: number, message: string | undefined) => {\n    return (\n      <ConciseIssueLocationsNavigatorLocation\n        index={index}\n        key={index}\n        message={message}\n        onClick={this.props.onLocationSelect}\n        scroll={this.props.scroll}\n        selected={index === this.props.selectedLocationIndex}\n      />\n    );\n  };\n\n  renderGroup = (\n    group: LocationGroup,\n    groupIndex: number,\n    { onlyFirst = false, onlyLast = false } = {}\n  ) => {\n    const { firstLocationIndex } = group;\n    const lastLocationIndex = group.locations.length - 1;\n    return (\n      <div className=\"concise-issue-locations-navigator-file\" key={groupIndex}>\n        <div className=\"concise-issue-location-file\">\n          <i className=\"concise-issue-location-file-circle little-spacer-right\" />\n          {collapsePath(group.componentName || '', 15)}\n        </div>\n        {group.locations.length > 0 && (\n          <div className=\"concise-issue-location-file-locations\">\n            {onlyFirst && this.renderLocation(firstLocationIndex, group.locations[0].msg)}\n\n            {onlyLast &&\n              this.renderLocation(\n                firstLocationIndex + lastLocationIndex,\n                group.locations[lastLocationIndex].msg\n              )}\n\n            {!onlyFirst &&\n              !onlyLast &&\n              group.locations.map((location, index) =>\n                this.renderLocation(firstLocationIndex + index, location.msg)\n              )}\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  render() {\n    const { locations } = this.props;\n    const groups = this.groupByFile(locations);\n\n    if (locations.length > 2 && groups.length > 1 && this.state.collapsed) {\n      const firstGroup = groups[0];\n      const lastGroup = groups[groups.length - 1];\n      return (\n        <div className=\"concise-issue-locations-navigator spacer-top\">\n          {this.renderGroup(firstGroup, 0, { onlyFirst: true })}\n          <div className=\"concise-issue-locations-navigator-file\">\n            <div className=\"concise-issue-location-file\">\n              <i className=\"concise-issue-location-file-circle-multiple little-spacer-right\" />\n              <a\n                className=\"concise-issue-location-file-more\"\n                href=\"#\"\n                onClick={this.handleMoreLocationsClick}>\n                {translateWithParameters('issues.x_more_locations', locations.length - 2)}\n              </a>\n            </div>\n          </div>\n          {this.renderGroup(lastGroup, groups.length - 1, { onlyLast: true })}\n        </div>\n      );\n    } else {\n      return (\n        <div className=\"concise-issue-locations-navigator spacer-top\">\n          {groups.map((group, groupIndex) => this.renderGroup(group, groupIndex))}\n        </div>\n      );\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { uniq } from 'lodash';\nimport ConciseIssueLocationsNavigatorLocation from './ConciseIssueLocationsNavigatorLocation';\nimport CrossFileLocationsNavigator from './CrossFileLocationsNavigator';\nimport { getLocations } from '../utils';\n\ninterface Props {\n  issue: Pick<T.Issue, 'component' | 'key' | 'flows' | 'secondaryLocations'>;\n  onLocationSelect: (index: number) => void;\n  scroll: (element: Element) => void;\n  selectedFlowIndex: number | undefined;\n  selectedLocationIndex: number | undefined;\n}\n\nexport default class ConciseIssueLocationsNavigator extends React.PureComponent<Props> {\n  render() {\n    const locations = getLocations(this.props.issue, this.props.selectedFlowIndex);\n\n    if (!locations || locations.length === 0 || locations.every(location => !location.msg)) {\n      return null;\n    }\n\n    const locationComponents = [\n      this.props.issue.component,\n      ...locations.map(location => location.component)\n    ];\n    const isCrossFile = uniq(locationComponents).length > 1;\n\n    if (isCrossFile) {\n      return (\n        <CrossFileLocationsNavigator\n          issue={this.props.issue}\n          locations={locations}\n          onLocationSelect={this.props.onLocationSelect}\n          scroll={this.props.scroll}\n          selectedLocationIndex={this.props.selectedLocationIndex}\n        />\n      );\n    } else {\n      return (\n        <div className=\"concise-issue-locations-navigator spacer-top\">\n          {locations.map((location, index) => (\n            <ConciseIssueLocationsNavigatorLocation\n              index={index}\n              key={index}\n              message={location.msg}\n              onClick={this.props.onLocationSelect}\n              scroll={this.props.scroll}\n              selected={index === this.props.selectedLocationIndex}\n            />\n          ))}\n        </div>\n      );\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport ConciseIssueLocations from './ConciseIssueLocations';\nimport ConciseIssueLocationsNavigator from './ConciseIssueLocationsNavigator';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport TypeHelper from '../../../components/shared/TypeHelper';\n\ninterface Props {\n  issue: T.Issue;\n  onClick: (issueKey: string) => void;\n  onFlowSelect: (index: number) => void;\n  onLocationSelect: (index: number) => void;\n  scroll: (element: Element, bottomOffset?: number) => void;\n  selected: boolean;\n  selectedFlowIndex: number | undefined;\n  selectedLocationIndex: number | undefined;\n}\n\nexport default class ConciseIssueBox extends React.PureComponent<Props> {\n  messageElement?: HTMLElement | null;\n  rootElement?: HTMLElement | null;\n\n  componentDidMount() {\n    if (this.props.selected) {\n      this.handleScroll();\n    }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (this.props.selected && prevProps.selected !== this.props.selected) {\n      this.handleScroll();\n    }\n  }\n\n  handleScroll = () => {\n    const { selectedFlowIndex } = this.props;\n    const { flows, secondaryLocations } = this.props.issue;\n\n    const locations =\n      selectedFlowIndex !== undefined\n        ? flows[selectedFlowIndex]\n        : flows.length > 0\n          ? flows[0]\n          : secondaryLocations;\n\n    if (!locations || locations.length < 15) {\n      // if there are no locations, or there are just few\n      // then ensuse that the whole box is visible\n      if (this.rootElement) this.props.scroll(this.rootElement);\n    } else if (this.messageElement) {\n      // otherwise scroll until the the message element is located on top\n      this.props.scroll(this.messageElement, window.innerHeight - 250);\n    }\n  };\n\n  handleClick = (event: React.MouseEvent<HTMLElement>) => {\n    event.preventDefault();\n    this.props.onClick(this.props.issue.key);\n  };\n\n  render() {\n    const { issue, selected } = this.props;\n\n    const clickAttributesMain = selected\n      ? {}\n      : { onClick: this.handleClick, role: 'listitem', tabIndex: 0 };\n\n    const clickAttributesTitle = selected\n      ? { onClick: this.handleClick, role: 'listitem', tabIndex: 0 }\n      : {};\n\n    return (\n      <div\n        className={classNames('concise-issue-box', 'clearfix', { selected })}\n        ref={node => (this.rootElement = node)}\n        {...clickAttributesMain}>\n        <div\n          className=\"concise-issue-box-message\"\n          {...clickAttributesTitle}\n          ref={node => (this.messageElement = node)}>\n          {issue.message}\n        </div>\n        <div className=\"concise-issue-box-attributes\">\n          <TypeHelper type={issue.type} />\n          <SeverityHelper className=\"big-spacer-left\" severity={issue.severity} />\n          <ConciseIssueLocations\n            issue={issue}\n            onFlowSelect={this.props.onFlowSelect}\n            selectedFlowIndex={this.props.selectedFlowIndex}\n          />\n        </div>\n        {selected && (\n          <ConciseIssueLocationsNavigator\n            issue={issue}\n            onLocationSelect={this.props.onLocationSelect}\n            scroll={this.props.scroll}\n            selectedFlowIndex={this.props.selectedFlowIndex}\n            selectedLocationIndex={this.props.selectedLocationIndex}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { collapsePath } from '../../../helpers/path';\n\ninterface Props {\n  path: string;\n}\n\nexport default function ConciseIssueComponent(props: Props) {\n  return (\n    <div className=\"concise-issue-component note text-ellipsis\">{collapsePath(props.path, 20)}</div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ConciseIssueBox from './ConciseIssueBox';\nimport ConciseIssueComponent from './ConciseIssueComponent';\n\ninterface Props {\n  issue: T.Issue;\n  onFlowSelect: (index: number) => void;\n  onLocationSelect: (index: number) => void;\n  onSelect: (issueKey: string) => void;\n  previousIssue: T.Issue | undefined;\n  scroll: (element: Element) => void;\n  selected: boolean;\n  selectedFlowIndex: number | undefined;\n  selectedLocationIndex: number | undefined;\n}\n\nexport default class ConciseIssue extends React.PureComponent<Props> {\n  render() {\n    const { issue, previousIssue, selected } = this.props;\n\n    const displayComponent = !previousIssue || previousIssue.component !== issue.component;\n\n    return (\n      <div>\n        {displayComponent && <ConciseIssueComponent path={issue.componentLongName} />}\n        <ConciseIssueBox\n          issue={issue}\n          onClick={this.props.onSelect}\n          onFlowSelect={this.props.onFlowSelect}\n          onLocationSelect={this.props.onLocationSelect}\n          scroll={this.props.scroll}\n          selected={selected}\n          selectedFlowIndex={selected ? this.props.selectedFlowIndex : undefined}\n          selectedLocationIndex={selected ? this.props.selectedLocationIndex : undefined}\n        />\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ConciseIssue from './ConciseIssue';\nimport { scrollToElement } from '../../../helpers/scrolling';\n\ninterface Props {\n  issues: T.Issue[];\n  onFlowSelect: (index: number) => void;\n  onIssueSelect: (issueKey: string) => void;\n  onLocationSelect: (index: number) => void;\n  selected: string | undefined;\n  selectedFlowIndex: number | undefined;\n  selectedLocationIndex: number | undefined;\n}\n\nexport default class ConciseIssuesList extends React.PureComponent<Props> {\n  handleScroll = (element: Element, bottomOffset = 100) => {\n    const scrollableElement = document.querySelector('.layout-page-side');\n    if (element && scrollableElement) {\n      scrollToElement(element, { topOffset: 150, bottomOffset, parent: scrollableElement });\n    }\n  };\n\n  render() {\n    return (\n      <div>\n        {this.props.issues.map((issue, index) => (\n          <ConciseIssue\n            issue={issue}\n            key={issue.key}\n            onFlowSelect={this.props.onFlowSelect}\n            onLocationSelect={this.props.onLocationSelect}\n            onSelect={this.props.onIssueSelect}\n            previousIssue={index > 0 ? this.props.issues[index - 1] : undefined}\n            scroll={this.handleScroll}\n            selected={issue.key === this.props.selected}\n            selectedFlowIndex={this.props.selectedFlowIndex}\n            selectedLocationIndex={this.props.selectedLocationIndex}\n          />\n        ))}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport Tooltip from './Tooltip';\nimport * as theme from '../../app/theme';\nimport { translate } from '../../helpers/l10n';\n\ninterface Props {\n  className?: string;\n  disabled?: boolean;\n  tooltip?: string;\n  onClick: () => void;\n}\n\nexport default class BackButton extends React.PureComponent<Props> {\n  handleClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (!this.props.disabled) {\n      this.props.onClick();\n    }\n  };\n\n  renderIcon = () => (\n    <svg height=\"24\" viewBox=\"0 0 21 24\" width=\"21\">\n      <path\n        d=\"M3.845 12.9992l5.993 5.993.052.056c.049.061.093.122.129.191.082.159.121.339.111.518-.006.102-.028.203-.064.298-.149.39-.537.652-.954.644-.102-.002-.204-.019-.301-.052-.148-.05-.273-.135-.387-.241l-8.407-8.407 8.407-8.407.056-.052c.061-.048.121-.092.19-.128.116-.06.237-.091.366-.108.076-.004.075-.004.153-.003.155.015.3.052.437.129.088.051.169.115.239.19.246.266.33.656.214.999-.051.149-.135.273-.241.387l-5.983 5.984c5.287-.044 10.577-.206 15.859.013.073.009.091.009.163.027.187.047.359.15.49.292.075.081.136.175.18.276.044.101.072.209.081.319.032.391-.175.775-.521.962-.097.052-.202.089-.311.107-.073.012-.091.01-.165.013H3.845z\"\n        fill={this.props.disabled ? theme.disableGrayText : theme.secondFontColor}\n      />\n    </svg>\n  );\n\n  render() {\n    const { tooltip = translate('issues.return_to_list') } = this.props;\n    return (\n      <Tooltip overlay={tooltip}>\n        <a\n          className={classNames(\n            'link-no-underline',\n            { 'cursor-not-allowed': this.props.disabled },\n            this.props.className\n          )}\n          href=\"#\"\n          onClick={this.handleClick}>\n          {this.renderIcon()}\n        </a>\n      </Tooltip>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport BackButton from '../../../components/controls/BackButton';\nimport ReloadButton from '../../../components/controls/ReloadButton';\nimport IssuesCounter from '../components/IssuesCounter';\n\ninterface Props {\n  displayBackButton?: boolean;\n  loading: boolean;\n  onBackClick: () => void;\n  onReload: () => void;\n  paging: T.Paging | undefined;\n  selectedIndex: number | undefined;\n}\n\nexport default function ConciseIssuesListHeader(props: Props) {\n  const { displayBackButton = true, paging, selectedIndex } = props;\n\n  return (\n    <header className=\"layout-page-header-panel concise-issues-list-header\">\n      <div className=\"layout-page-header-panel-inner concise-issues-list-header-inner\">\n        {displayBackButton && (\n          <BackButton className=\"pull-left\" disabled={props.loading} onClick={props.onBackClick} />\n        )}\n        {props.loading ? (\n          <i className=\"spinner pull-right\" />\n        ) : (\n          <ReloadButton className=\"pull-right\" onClick={props.onReload} />\n        )}\n        {paging && <IssuesCounter current={selectedIndex} total={paging.total} />}\n      </div>\n    </header>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { omit, sortBy, without } from 'lodash';\nimport { searchAssignees, Query, ReferencedUser, SearchedAssignee, Facet } from '../utils';\nimport Avatar from '../../../components/ui/Avatar';\nimport { translate } from '../../../helpers/l10n';\nimport { highlightTerm } from '../../../helpers/search';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\n\nexport interface Props {\n  assigned: boolean;\n  assignees: string[];\n  fetching: boolean;\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  organization: string | undefined;\n  query: Query;\n  stats: { [x: string]: number } | undefined;\n  referencedUsers: { [login: string]: ReferencedUser };\n}\n\nexport default class AssigneeFacet extends React.PureComponent<Props> {\n  handleSearch = (query: string, page?: number) => {\n    return searchAssignees(query, this.props.organization, page);\n  };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { assignees } = this.props;\n    if (itemValue === '') {\n      // unassigned\n      this.props.onChange({ assigned: !this.props.assigned, assignees: [] });\n    } else if (multiple) {\n      const newValue = sortBy(\n        assignees.includes(itemValue) ? without(assignees, itemValue) : [...assignees, itemValue]\n      );\n      this.props.onChange({ assigned: true, assignees: newValue });\n    } else {\n      this.props.onChange({\n        assigned: true,\n        assignees: assignees.includes(itemValue) && assignees.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleClear = () => {\n    this.props.onChange({ assigned: true, assignees: [] });\n  };\n\n  getAssigneeName = (assignee: string) => {\n    if (assignee === '') {\n      return translate('unassigned');\n    } else {\n      const user = this.props.referencedUsers[assignee];\n      return user ? user.name : assignee;\n    }\n  };\n\n  loadSearchResultCount = (assignees: SearchedAssignee[]) => {\n    return this.props.loadSearchResultCount('assignees', {\n      assigned: undefined,\n      assignees: assignees.map(assignee => assignee.login)\n    });\n  };\n\n  getSortedItems = () => {\n    const { stats = {} } = this.props;\n    return sortBy(\n      Object.keys(stats),\n      // put \"not assigned\" first\n      key => (key === '' ? 0 : 1),\n      // the sort by number\n      key => -stats[key]\n    );\n  };\n\n  renderFacetItem = (assignee: string) => {\n    if (assignee === '') {\n      return translate('unassigned');\n    }\n\n    const user = this.props.referencedUsers[assignee];\n    return user ? (\n      <>\n        <Avatar className=\"little-spacer-right\" hash={user.avatar} name={user.name} size={16} />\n        {user.name}\n      </>\n    ) : (\n      assignee\n    );\n  };\n\n  renderSearchResult = (result: SearchedAssignee, query: string) => {\n    return (\n      <>\n        {result.avatar !== undefined && (\n          <Avatar\n            className=\"little-spacer-right\"\n            hash={result.avatar}\n            name={result.name}\n            size={16}\n          />\n        )}\n        {highlightTerm(result.name, query)}\n      </>\n    );\n  };\n\n  render() {\n    const values = [...this.props.assignees];\n    if (!this.props.assigned) {\n      values.push('');\n    }\n\n    return (\n      <ListStyleFacet<SearchedAssignee>\n        facetHeader={translate('issues.facet.assignees')}\n        fetching={this.props.fetching}\n        getFacetItemText={this.getAssigneeName}\n        getSearchResultKey={user => user.login}\n        getSearchResultText={user => user.name}\n        // put \"not assigned\" item first\n        getSortedItems={this.getSortedItems}\n        loadSearchResultCount={this.loadSearchResultCount}\n        onChange={this.props.onChange}\n        onClear={this.handleClear}\n        onItemClick={this.handleItemClick}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"assignees\"\n        query={omit(this.props.query, 'assigned', 'assignees')}\n        renderFacetItem={this.renderFacetItem}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_users')}\n        stats={this.props.stats}\n        values={values}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { omit } from 'lodash';\nimport { Query, Facet } from '../utils';\nimport { translate } from '../../../helpers/l10n';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport { searchIssueAuthors } from '../../../api/issues';\nimport { highlightTerm } from '../../../helpers/search';\n\ninterface Props {\n  component: T.Component | undefined;\n  fetching: boolean;\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  organization: string | undefined;\n  query: Query;\n  stats: { [x: string]: number } | undefined;\n  authors: string[];\n}\n\nconst SEARCH_SIZE = 100;\n\nexport default class AuthorFacet extends React.PureComponent<Props> {\n  identity = (author: string) => {\n    return author;\n  };\n\n  handleSearch = (query: string, _page: number) => {\n    const { component } = this.props;\n    const project =\n      component && ['TRK', 'VW', 'APP'].includes(component.qualifier) ? component.key : undefined;\n    return searchIssueAuthors({\n      organization: this.props.organization,\n      project,\n      ps: SEARCH_SIZE, // maximum\n      q: query\n    }).then(authors => ({ maxResults: authors.length === SEARCH_SIZE, results: authors }));\n  };\n\n  loadSearchResultCount = (authors: string[]) => {\n    return this.props.loadSearchResultCount('authors', { authors });\n  };\n\n  renderSearchResult = (author: string, term: string) => {\n    return highlightTerm(author, term);\n  };\n\n  render() {\n    return (\n      <ListStyleFacet<string>\n        facetHeader={translate('issues.facet.authors')}\n        fetching={this.props.fetching}\n        getFacetItemText={this.identity}\n        getSearchResultKey={this.identity}\n        getSearchResultText={this.identity}\n        loadSearchResultCount={this.loadSearchResultCount}\n        onChange={this.props.onChange}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"authors\"\n        query={omit(this.props.query, 'authors')}\n        renderFacetItem={this.identity}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_authors')}\n        stats={this.props.stats}\n        values={this.props.authors}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { max } from 'd3-array';\nimport { scaleLinear, scaleBand, ScaleLinear, ScaleBand } from 'd3-scale';\nimport Tooltip from '../controls/Tooltip';\nimport './BarChart.css';\n\ninterface DataPoint {\n  tooltip?: React.ReactNode;\n  x: number;\n  y: number;\n}\n\ninterface Props<T> {\n  barsWidth: number;\n  data: Array<DataPoint & T>;\n  height: number;\n  onBarClick?: (point: DataPoint & T) => void;\n  padding?: [number, number, number, number];\n  width: number;\n  xTicks?: string[];\n  xValues?: string[];\n}\n\nexport default class BarChart<T> extends React.PureComponent<Props<T>> {\n  handleClick = (point: DataPoint & T) => {\n    if (this.props.onBarClick) {\n      this.props.onBarClick(point);\n    }\n  };\n\n  renderXTicks = (xScale: ScaleBand<number>, yScale: ScaleLinear<number, number>) => {\n    const { data, xTicks = [] } = this.props;\n\n    if (!xTicks.length) {\n      return null;\n    }\n\n    const ticks = xTicks.map((tick, index) => {\n      const point = data[index];\n      const x = Math.round((xScale(point.x) as number) + xScale.bandwidth() / 2);\n      const y = yScale.range()[0];\n      const d = data[index];\n      const text = (\n        <text\n          className=\"bar-chart-tick\"\n          dy=\"1.5em\"\n          key={index}\n          onClick={() => this.handleClick(point)}\n          style={{ cursor: this.props.onBarClick ? 'pointer' : 'default' }}\n          x={x}\n          y={y}>\n          {tick}\n        </text>\n      );\n      return (\n        <Tooltip key={index} overlay={d.tooltip || undefined}>\n          {text}\n        </Tooltip>\n      );\n    });\n    return <g>{ticks}</g>;\n  };\n\n  renderXValues = (xScale: ScaleBand<number>, yScale: ScaleLinear<number, number>) => {\n    const { data, xValues = [] } = this.props;\n\n    if (!xValues.length) {\n      return null;\n    }\n\n    const ticks = xValues.map((value, index) => {\n      const point = data[index];\n      const x = Math.round((xScale(point.x) as number) + xScale.bandwidth() / 2);\n      const y = yScale(point.y);\n      const text = (\n        <text\n          className=\"bar-chart-tick\"\n          dy=\"-1em\"\n          key={index}\n          onClick={() => this.handleClick(point)}\n          style={{ cursor: this.props.onBarClick ? 'pointer' : 'default' }}\n          x={x}\n          y={y}>\n          {value}\n        </text>\n      );\n      return (\n        <Tooltip key={index} overlay={point.tooltip || undefined}>\n          {text}\n        </Tooltip>\n      );\n    });\n    return <g>{ticks}</g>;\n  };\n\n  renderBars = (xScale: ScaleBand<number>, yScale: ScaleLinear<number, number>) => {\n    const bars = this.props.data.map((point, index) => {\n      const x = Math.round(xScale(point.x) as number);\n      const maxY = yScale.range()[0];\n      const y = Math.round(yScale(point.y)) - /* minimum bar height */ 1;\n      const height = maxY - y;\n      const rect = (\n        <rect\n          className=\"bar-chart-bar\"\n          height={height}\n          key={index}\n          onClick={() => this.handleClick(point)}\n          style={{ cursor: this.props.onBarClick ? 'pointer' : 'default' }}\n          width={this.props.barsWidth}\n          x={x}\n          y={y}\n        />\n      );\n      return (\n        <Tooltip key={index} overlay={point.tooltip || undefined}>\n          {rect}\n        </Tooltip>\n      );\n    });\n    return <g>{bars}</g>;\n  };\n\n  render() {\n    const { barsWidth, data, width, height, padding = [10, 10, 10, 10] } = this.props;\n\n    const availableWidth = width - padding[1] - padding[3];\n    const availableHeight = height - padding[0] - padding[2];\n\n    const innerPadding = (availableWidth - barsWidth * data.length) / (data.length - 1);\n    const relativeInnerPadding = innerPadding / (innerPadding + barsWidth);\n\n    const maxY = max(data, d => d.y) as number;\n    const xScale = scaleBand<number>()\n      .domain(data.map(d => d.x))\n      .range([0, availableWidth])\n      .paddingInner(relativeInnerPadding);\n    const yScale = scaleLinear()\n      .domain([0, maxY])\n      .range([availableHeight, 0]);\n\n    return (\n      <svg className=\"bar-chart\" height={height} width={width}>\n        <g transform={`translate(${padding[3]}, ${padding[0]})`}>\n          {this.renderXTicks(xScale, yScale)}\n          {this.renderXValues(xScale, yScale)}\n          {this.renderBars(xScale, yScale)}\n        </g>\n      </svg>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { max } from 'lodash';\nimport { injectIntl, InjectedIntlProps } from 'react-intl';\nimport { Query } from '../utils';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport { longFormatterOption } from '../../../components/intl/DateFormatter';\nimport DateFromNow from '../../../components/intl/DateFromNow';\nimport DateTimeFormatter from '../../../components/intl/DateTimeFormatter';\nimport BarChart from '../../../components/charts/BarChart';\nimport DateRangeInput from '../../../components/controls/DateRangeInput';\nimport { isSameDay, parseDate } from '../../../helpers/dates';\nimport { translate } from '../../../helpers/l10n';\nimport { formatMeasure } from '../../../helpers/measures';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\n\ninterface Props {\n  component: T.Component | undefined;\n  createdAfter: Date | undefined;\n  createdAt: string;\n  createdBefore: Date | undefined;\n  createdInLast: string;\n  fetching: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  sinceLeakPeriod: boolean;\n  stats: { [x: string]: number } | undefined;\n}\n\nclass CreationDateFacet extends React.PureComponent<Props & InjectedIntlProps> {\n  property = 'createdAt';\n\n  static defaultProps = {\n    open: true\n  };\n\n  hasValue = () =>\n    this.props.createdAfter !== undefined ||\n    this.props.createdAt.length > 0 ||\n    this.props.createdBefore !== undefined ||\n    this.props.createdInLast.length > 0 ||\n    this.props.sinceLeakPeriod;\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.resetTo({});\n  };\n\n  resetTo = (changes: Partial<Query>) => {\n    this.props.onChange({\n      createdAfter: undefined,\n      createdAt: undefined,\n      createdBefore: undefined,\n      createdInLast: undefined,\n      sinceLeakPeriod: undefined,\n      ...changes\n    });\n  };\n\n  handleBarClick = ({\n    createdAfter,\n    createdBefore\n  }: {\n    createdAfter: Date;\n    createdBefore?: Date;\n  }) => {\n    this.resetTo({ createdAfter, createdBefore });\n  };\n\n  handlePeriodChange = ({ from, to }: { from?: Date; to?: Date }) => {\n    this.resetTo({ createdAfter: from, createdBefore: to });\n  };\n\n  handlePeriodClick = (period: string) => this.resetTo({ createdInLast: period });\n\n  handleLeakPeriodClick = () => this.resetTo({ sinceLeakPeriod: true });\n\n  getValues() {\n    const { createdAfter, createdAt, createdBefore, createdInLast, sinceLeakPeriod } = this.props;\n    const { formatDate } = this.props.intl;\n    const values = [];\n    if (createdAfter) {\n      values.push(formatDate(createdAfter, longFormatterOption));\n    }\n    if (createdAt) {\n      values.push(formatDate(createdAt, longFormatterOption));\n    }\n    if (createdBefore) {\n      values.push(formatDate(createdBefore, longFormatterOption));\n    }\n    if (createdInLast === '1w') {\n      values.push(translate('issues.facet.createdAt.last_week'));\n    }\n    if (createdInLast === '1m') {\n      values.push(translate('issues.facet.createdAt.last_month'));\n    }\n    if (createdInLast === '1y') {\n      values.push(translate('issues.facet.createdAt.last_year'));\n    }\n    if (sinceLeakPeriod) {\n      values.push(translate('issues.new_code'));\n    }\n    return values;\n  }\n\n  renderBarChart() {\n    const { createdBefore, stats } = this.props;\n\n    if (!stats) {\n      return null;\n    }\n\n    const periods = Object.keys(stats);\n\n    if (periods.length < 2 || periods.every(period => !stats[period])) {\n      return null;\n    }\n\n    const { formatDate } = this.props.intl;\n    const data = periods.map((start, index) => {\n      const startDate = parseDate(start);\n      let endDate;\n      if (index < periods.length - 1) {\n        endDate = parseDate(periods[index + 1]);\n        endDate.setDate(endDate.getDate() - 1);\n      } else {\n        endDate = createdBefore ? parseDate(createdBefore) : undefined;\n      }\n\n      const tooltipEndDate = endDate || new Date();\n      const tooltip = (\n        <React.Fragment>\n          {formatMeasure(stats[start], 'SHORT_INT')}\n          <br />\n          {formatDate(startDate, longFormatterOption)}\n          {!isSameDay(tooltipEndDate, startDate) &&\n            ` - ${formatDate(tooltipEndDate, longFormatterOption)}`}\n        </React.Fragment>\n      );\n\n      return {\n        createdAfter: startDate,\n        createdBefore: endDate,\n        tooltip,\n        x: index,\n        y: stats[start]\n      };\n    });\n\n    const barsWidth = Math.floor(250 / data.length);\n    const width = barsWidth * data.length - 1 + 10;\n\n    const maxValue = max(data.map(d => d.y));\n    const xValues = data.map(d => (d.y === maxValue ? formatMeasure(maxValue, 'SHORT_INT') : ''));\n\n    return (\n      <BarChart\n        barsWidth={barsWidth - 1}\n        data={data}\n        height={75}\n        onBarClick={this.handleBarClick}\n        padding={[25, 0, 5, 10]}\n        width={width}\n        xValues={xValues}\n      />\n    );\n  }\n\n  renderExactDate() {\n    return (\n      <div className=\"search-navigator-facet-container\">\n        <DateTimeFormatter date={this.props.createdAt} />\n        <br />\n        <span className=\"note\">\n          <DateFromNow date={this.props.createdAt} />\n        </span>\n      </div>\n    );\n  }\n\n  renderPeriodSelectors() {\n    const { createdAfter, createdBefore } = this.props;\n    return (\n      <div className=\"search-navigator-date-facet-selection\">\n        <DateRangeInput\n          onChange={this.handlePeriodChange}\n          value={{ from: createdAfter, to: createdBefore }}\n        />\n      </div>\n    );\n  }\n\n  renderPredefinedPeriods() {\n    const { component, createdInLast, sinceLeakPeriod } = this.props;\n    return (\n      <div className=\"spacer-top issues-predefined-periods\">\n        <FacetItem\n          active={!this.hasValue()}\n          name={translate('issues.facet.createdAt.all')}\n          onClick={this.handlePeriodClick}\n          tooltip={translate('issues.facet.createdAt.all')}\n          value=\"\"\n        />\n        {component ? (\n          <FacetItem\n            active={sinceLeakPeriod}\n            name={translate('issues.new_code')}\n            onClick={this.handleLeakPeriodClick}\n            tooltip={translate('issues.new_code_period')}\n            value=\"\"\n          />\n        ) : (\n          <>\n            <FacetItem\n              active={createdInLast === '1w'}\n              name={translate('issues.facet.createdAt.last_week')}\n              onClick={this.handlePeriodClick}\n              tooltip={translate('issues.facet.createdAt.last_week')}\n              value=\"1w\"\n            />\n            <FacetItem\n              active={createdInLast === '1m'}\n              name={translate('issues.facet.createdAt.last_month')}\n              onClick={this.handlePeriodClick}\n              tooltip={translate('issues.facet.createdAt.last_month')}\n              value=\"1m\"\n            />\n            <FacetItem\n              active={createdInLast === '1y'}\n              name={translate('issues.facet.createdAt.last_year')}\n              onClick={this.handlePeriodClick}\n              tooltip={translate('issues.facet.createdAt.last_year')}\n              value=\"1y\"\n            />\n          </>\n        )}\n      </div>\n    );\n  }\n\n  renderInner() {\n    const { createdAt } = this.props;\n    return createdAt ? (\n      this.renderExactDate()\n    ) : (\n      <div>\n        {this.renderBarChart()}\n        {this.renderPeriodSelectors()}\n        {this.renderPredefinedPeriods()}\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={this.getValues()}\n        />\n\n        <DeferredSpinner loading={this.props.fetching} />\n        {this.props.open && this.renderInner()}\n      </FacetBox>\n    );\n  }\n}\n\nexport default injectIntl(CreationDateFacet);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { omit } from 'lodash';\nimport { Query, Facet } from '../utils';\nimport QualifierIcon from '../../../components/icons-components/QualifierIcon';\nimport { translate } from '../../../helpers/l10n';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport { highlightTerm } from '../../../helpers/search';\nimport { getTree, TreeComponent } from '../../../api/components';\nimport { collapsePath } from '../../../helpers/path';\n\ninterface Props {\n  componentKey: string;\n  fetching: boolean;\n  directories: string[];\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  query: Query;\n  stats: { [x: string]: number } | undefined;\n}\n\nexport default class DirectoryFacet extends React.PureComponent<Props> {\n  getFacetItemText = (directory: string) => {\n    return collapsePath(directory, 15);\n  };\n\n  getSearchResultKey = (directory: TreeComponent) => {\n    return directory.name;\n  };\n\n  getSearchResultText = (directory: TreeComponent) => {\n    return directory.name;\n  };\n\n  handleSearch = (query: string, page: number) => {\n    return getTree({\n      component: this.props.componentKey,\n      q: query,\n      qualifiers: 'DIR',\n      p: page,\n      ps: 30\n    }).then(({ components, paging }) => ({ paging, results: components }));\n  };\n\n  loadSearchResultCount = (directories: TreeComponent[]) => {\n    return this.props.loadSearchResultCount('directories', {\n      directories: directories.map(directory => directory.name)\n    });\n  };\n\n  renderDirectory = (directory: React.ReactNode) => (\n    <>\n      <QualifierIcon className=\"little-spacer-right\" qualifier=\"DIR\" />\n      {directory}\n    </>\n  );\n\n  renderFacetItem = (directory: string) => {\n    return this.renderDirectory(collapsePath(directory, 15));\n  };\n\n  renderSearchResult = (directory: TreeComponent, term: string) => {\n    return this.renderDirectory(highlightTerm(collapsePath(directory.name), term));\n  };\n\n  render() {\n    return (\n      <ListStyleFacet<TreeComponent>\n        facetHeader={translate('issues.facet.directories')}\n        fetching={this.props.fetching}\n        getFacetItemText={this.getFacetItemText}\n        getSearchResultKey={this.getSearchResultKey}\n        getSearchResultText={this.getSearchResultText}\n        loadSearchResultCount={this.loadSearchResultCount}\n        minSearchLength={3}\n        onChange={this.props.onChange}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"directories\"\n        query={omit(this.props.query, 'directories')}\n        renderFacetItem={this.renderFacetItem}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_directories')}\n        stats={this.props.stats}\n        values={this.props.directories}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { omit } from 'lodash';\nimport { Query, ReferencedComponent, Facet } from '../utils';\nimport QualifierIcon from '../../../components/icons-components/QualifierIcon';\nimport { translate } from '../../../helpers/l10n';\nimport { collapsePath } from '../../../helpers/path';\nimport { TreeComponent, getTree } from '../../../api/components';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport { highlightTerm } from '../../../helpers/search';\n\ninterface Props {\n  componentKey: string;\n  fetching: boolean;\n  files: string[];\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  query: Query;\n  referencedComponents: { [componentKey: string]: ReferencedComponent };\n  stats: { [x: string]: number } | undefined;\n}\n\nexport default class FileFacet extends React.PureComponent<Props> {\n  getFile = (file: string) => {\n    const { referencedComponents } = this.props;\n    return referencedComponents[file]\n      ? collapsePath(referencedComponents[file].path || '', 15)\n      : file;\n  };\n\n  getFacetItemText = (file: string) => {\n    const { referencedComponents } = this.props;\n    return referencedComponents[file] ? referencedComponents[file].path || '' : file;\n  };\n\n  getSearchResultKey = (file: TreeComponent) => {\n    return file.id;\n  };\n\n  getSearchResultText = (file: TreeComponent) => {\n    return file.path || file.name;\n  };\n\n  handleSearch = (query: string, page: number) => {\n    return getTree({\n      component: this.props.componentKey,\n      q: query,\n      qualifiers: 'FIL',\n      p: page,\n      ps: 30\n    }).then(({ components, paging }) => ({ paging, results: components }));\n  };\n\n  loadSearchResultCount = (files: TreeComponent[]) => {\n    return this.props.loadSearchResultCount('files', { files: files.map(file => file.id) });\n  };\n\n  renderFile = (file: React.ReactNode) => (\n    <>\n      <QualifierIcon className=\"little-spacer-right\" qualifier=\"FIL\" />\n      {file}\n    </>\n  );\n\n  renderFacetItem = (file: string) => {\n    const name = this.getFile(file);\n    return this.renderFile(name);\n  };\n\n  renderSearchResult = (file: TreeComponent, term: string) => {\n    return this.renderFile(highlightTerm(collapsePath(file.path || file.name, 15), term));\n  };\n\n  render() {\n    return (\n      <ListStyleFacet<TreeComponent>\n        facetHeader={translate('issues.facet.files')}\n        fetching={this.props.fetching}\n        getFacetItemText={this.getFacetItemText}\n        getSearchResultKey={this.getSearchResultKey}\n        getSearchResultText={this.getSearchResultText}\n        loadSearchResultCount={this.loadSearchResultCount}\n        minSearchLength={3}\n        onChange={this.props.onChange}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"files\"\n        query={omit(this.props.query, 'files')}\n        renderFacetItem={this.renderFacetItem}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_files')}\n        stats={this.props.stats}\n        values={this.props.files}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { uniqBy, omit } from 'lodash';\nimport { connect } from 'react-redux';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport { Query, ReferencedLanguage, Facet } from '../utils';\nimport { getLanguages, Store } from '../../../store/rootReducer';\nimport { translate } from '../../../helpers/l10n';\nimport { highlightTerm } from '../../../helpers/search';\n\ninterface InstalledLanguage {\n  key: string;\n  name: string;\n}\n\ninterface Props {\n  fetching: boolean;\n  installedLanguages: InstalledLanguage[];\n  languages: string[];\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  query: Query;\n  referencedLanguages: { [languageKey: string]: ReferencedLanguage };\n  stats: { [x: string]: number } | undefined;\n}\n\nclass LanguageFacet extends React.PureComponent<Props> {\n  getLanguageName = (language: string) => {\n    const { referencedLanguages } = this.props;\n    return referencedLanguages[language] ? referencedLanguages[language].name : language;\n  };\n\n  handleSearch = (query: string) => {\n    const options = this.getAllPossibleOptions();\n    const results = options.filter(language =>\n      language.name.toLowerCase().includes(query.toLowerCase())\n    );\n    const paging = { pageIndex: 1, pageSize: results.length, total: results.length };\n    return Promise.resolve({ paging, results });\n  };\n\n  getAllPossibleOptions = () => {\n    const { installedLanguages, stats = {} } = this.props;\n\n    // add any language that presents in the facet, but might not be installed\n    // for such language we don't know their display name, so let's just use their key\n    // and make sure we reference each language only once\n    return uniqBy(\n      [...installedLanguages, ...Object.keys(stats).map(key => ({ key, name: key }))],\n      language => language.key\n    );\n  };\n\n  loadSearchResultCount = (languages: InstalledLanguage[]) => {\n    return this.props.loadSearchResultCount('languages', {\n      languages: languages.map(language => language.key)\n    });\n  };\n\n  renderSearchResult = ({ name }: InstalledLanguage, term: string) => {\n    return highlightTerm(name, term);\n  };\n\n  render() {\n    return (\n      <ListStyleFacet<InstalledLanguage>\n        facetHeader={translate('issues.facet.languages')}\n        fetching={this.props.fetching}\n        getFacetItemText={this.getLanguageName}\n        getSearchResultKey={language => language.key}\n        getSearchResultText={language => language.name}\n        loadSearchResultCount={this.loadSearchResultCount}\n        minSearchLength={1}\n        onChange={this.props.onChange}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"languages\"\n        query={omit(this.props.query, 'languages')}\n        renderFacetItem={this.getLanguageName}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_languages')}\n        stats={this.props.stats}\n        values={this.props.languages}\n      />\n    );\n  }\n}\n\nconst mapStateToProps = (state: Store) => ({\n  installedLanguages: Object.values(getLanguages(state))\n});\n\nexport default connect(mapStateToProps)(LanguageFacet);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { omit } from 'lodash';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport { Query, ReferencedComponent, Facet } from '../utils';\nimport { searchProjects, getTree } from '../../../api/components';\nimport Organization from '../../../components/shared/Organization';\nimport QualifierIcon from '../../../components/icons-components/QualifierIcon';\nimport { translate } from '../../../helpers/l10n';\nimport { highlightTerm } from '../../../helpers/search';\n\ninterface Props {\n  component: T.Component | undefined;\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  fetching: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  organization: { key: string } | undefined;\n  projects: string[];\n  query: Query;\n  referencedComponents: { [componentKey: string]: ReferencedComponent };\n  stats: { [x: string]: number } | undefined;\n}\n\ninterface SearchedProject {\n  key: string;\n  name: string;\n  organization: string;\n}\n\nexport default class ProjectFacet extends React.PureComponent<Props> {\n  handleSearch = (\n    query: string,\n    page = 1\n  ): Promise<{ results: SearchedProject[]; paging: T.Paging }> => {\n    const { component, organization } = this.props;\n    if (component && ['VW', 'SVW', 'APP'].includes(component.qualifier)) {\n      return getTree({\n        component: component.key,\n        p: page,\n        ps: 30,\n        q: query,\n        qualifiers: 'TRK'\n      }).then(({ components, paging }) => ({\n        paging,\n        results: components.map(component => ({\n          key: component.refKey || component.key,\n          name: component.name,\n          organization: component.organization\n        }))\n      }));\n    }\n\n    return searchProjects({\n      p: page,\n      ps: 30,\n      filter: query ? `query = \"${query}\"` : '',\n      organization: organization && organization.key\n    }).then(({ components, paging }) => ({\n      paging,\n      results: components.map(component => ({\n        key: component.key,\n        name: component.name,\n        organization: component.organization\n      }))\n    }));\n  };\n\n  getProjectName = (project: string) => {\n    const { referencedComponents } = this.props;\n    return referencedComponents[project] ? referencedComponents[project].name : project;\n  };\n\n  loadSearchResultCount = (projects: SearchedProject[]) => {\n    return this.props.loadSearchResultCount('projects', {\n      projects: projects.map(project => project.key)\n    });\n  };\n\n  renderFacetItem = (project: string) => {\n    const { referencedComponents } = this.props;\n    return referencedComponents[project] ? (\n      this.renderProject(referencedComponents[project])\n    ) : (\n      <span>\n        <QualifierIcon className=\"little-spacer-right\" qualifier=\"TRK\" />\n        {project}\n      </span>\n    );\n  };\n\n  renderProject = (project: Pick<SearchedProject, 'name' | 'organization'>) => (\n    <span>\n      <QualifierIcon className=\"little-spacer-right\" qualifier=\"TRK\" />\n      {!this.props.organization && (\n        <Organization link={false} organizationKey={project.organization} />\n      )}\n      {project.name}\n    </span>\n  );\n\n  renderSearchResult = (project: Pick<SearchedProject, 'name' | 'organization'>, term: string) => (\n    <>\n      <QualifierIcon className=\"little-spacer-right\" qualifier=\"TRK\" />\n      {!this.props.organization && (\n        <Organization link={false} organizationKey={project.organization} />\n      )}\n      {highlightTerm(project.name, term)}\n    </>\n  );\n\n  render() {\n    return (\n      <ListStyleFacet<SearchedProject>\n        facetHeader={translate('issues.facet.projects')}\n        fetching={this.props.fetching}\n        getFacetItemText={this.getProjectName}\n        getSearchResultKey={project => project.key}\n        getSearchResultText={project => project.name}\n        loadSearchResultCount={this.loadSearchResultCount}\n        onChange={this.props.onChange}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"projects\"\n        query={omit(this.props.query, 'projects')}\n        renderFacetItem={this.renderFacetItem}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_projects')}\n        stats={this.props.stats}\n        values={this.props.projects}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { orderBy, without } from 'lodash';\nimport { formatFacetStat, Query } from '../utils';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport { translate } from '../../../helpers/l10n';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\nimport MultipleSelectionHint from '../../../components/facet/MultipleSelectionHint';\n\ninterface Props {\n  fetching: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  resolved: boolean;\n  resolutions: string[];\n  stats: { [x: string]: number } | undefined;\n}\n\nconst RESOLUTIONS = ['', 'FIXED', 'FALSE-POSITIVE', 'WONTFIX', 'REMOVED'];\n\nexport default class ResolutionFacet extends React.PureComponent<Props> {\n  property = 'resolutions';\n\n  static defaultProps = {\n    open: true\n  };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { resolutions } = this.props;\n    if (itemValue === '') {\n      // unresolved\n      this.props.onChange({ resolved: !this.props.resolved, resolutions: [] });\n    } else if (multiple) {\n      const newValue = orderBy(\n        resolutions.includes(itemValue)\n          ? without(resolutions, itemValue)\n          : [...resolutions, itemValue]\n      );\n      this.props.onChange({ resolved: true, [this.property]: newValue });\n    } else {\n      this.props.onChange({\n        resolved: true,\n        [this.property]:\n          resolutions.includes(itemValue) && resolutions.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.props.onChange({ resolved: false, resolutions: [] });\n  };\n\n  isFacetItemActive(resolution: string) {\n    return resolution === '' ? !this.props.resolved : this.props.resolutions.includes(resolution);\n  }\n\n  getFacetItemName(resolution: string) {\n    return resolution === '' ? translate('unresolved') : translate('issue.resolution', resolution);\n  }\n\n  getStat(resolution: string) {\n    const { stats } = this.props;\n    return stats ? stats[resolution] : undefined;\n  }\n\n  renderItem = (resolution: string) => {\n    const active = this.isFacetItemActive(resolution);\n    const stat = this.getStat(resolution);\n\n    return (\n      <FacetItem\n        active={active}\n        disabled={stat === 0 && !active}\n        halfWidth={true}\n        key={resolution}\n        name={this.getFacetItemName(resolution)}\n        onClick={this.handleItemClick}\n        stat={formatFacetStat(stat)}\n        tooltip={this.getFacetItemName(resolution)}\n        value={resolution}\n      />\n    );\n  };\n\n  render() {\n    const { resolutions, stats = {} } = this.props;\n    const values = resolutions.map(resolution => this.getFacetItemName(resolution));\n\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          clearLabel=\"reset_verb\"\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={values}\n        />\n\n        <DeferredSpinner loading={this.props.fetching} />\n        {this.props.open && (\n          <>\n            <FacetItemsList>{RESOLUTIONS.map(this.renderItem)}</FacetItemsList>\n            <MultipleSelectionHint\n              options={Object.keys(stats).length}\n              values={resolutions.length}\n            />\n          </>\n        )}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { omit } from 'lodash';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport { Query, ReferencedRule, Facet } from '../utils';\nimport { searchRules } from '../../../api/rules';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  fetching: boolean;\n  languages: string[];\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  organization: string | undefined;\n  query: Query;\n  referencedRules: { [ruleKey: string]: ReferencedRule };\n  rules: string[];\n  stats: { [x: string]: number } | undefined;\n}\n\nexport default class RuleFacet extends React.PureComponent<Props> {\n  handleSearch = (query: string, page = 1) => {\n    const { languages, organization } = this.props;\n    return searchRules({\n      f: 'name,langName',\n      languages: languages.length ? languages.join() : undefined,\n      organization,\n      q: query,\n      p: page,\n      ps: 30,\n      s: 'name',\n      include_external: true\n    }).then(response => ({\n      paging: { pageIndex: response.p, pageSize: response.ps, total: response.total },\n      results: response.rules\n    }));\n  };\n\n  loadSearchResultCount = (rules: T.Rule[]) => {\n    return this.props.loadSearchResultCount('rules', { rules: rules.map(rule => rule.key) });\n  };\n\n  getRuleName = (ruleKey: string) => {\n    const rule = this.props.referencedRules[ruleKey];\n    return rule ? this.formatRuleName(rule.name, rule.langName) : ruleKey;\n  };\n\n  formatRuleName = (name: string, langName: string | undefined) => {\n    // external rules don't have a language associated\n    // see https://jira.sonarsource.com/browse/MMF-1407\n    return langName ? `(${langName}) ${name}` : name;\n  };\n\n  renderSearchResult = (rule: T.Rule) => {\n    return this.formatRuleName(rule.name, rule.langName);\n  };\n\n  render() {\n    return (\n      <ListStyleFacet<T.Rule>\n        facetHeader={translate('issues.facet.rules')}\n        fetching={this.props.fetching}\n        getFacetItemText={this.getRuleName}\n        getSearchResultKey={rule => rule.key}\n        getSearchResultText={rule => rule.name}\n        loadSearchResultCount={this.loadSearchResultCount}\n        onChange={this.props.onChange}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"rules\"\n        query={omit(this.props.query, 'rules')}\n        renderFacetItem={this.getRuleName}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_rules')}\n        stats={this.props.stats}\n        values={this.props.rules}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { orderBy, without } from 'lodash';\nimport { formatFacetStat, Query } from '../utils';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport { translate } from '../../../helpers/l10n';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\nimport MultipleSelectionHint from '../../../components/facet/MultipleSelectionHint';\n\ninterface Props {\n  fetching: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  severities: string[];\n  stats: { [x: string]: number } | undefined;\n}\n\nconst SEVERITIES = ['BLOCKER', 'MINOR', 'CRITICAL', 'INFO', 'MAJOR'];\n\nexport default class SeverityFacet extends React.PureComponent<Props> {\n  property = 'severities';\n\n  static defaultProps = {\n    open: true\n  };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { severities } = this.props;\n    if (multiple) {\n      const newValue = orderBy(\n        severities.includes(itemValue) ? without(severities, itemValue) : [...severities, itemValue]\n      );\n      this.props.onChange({ [this.property]: newValue });\n    } else {\n      this.props.onChange({\n        [this.property]: severities.includes(itemValue) && severities.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.props.onChange({ [this.property]: [] });\n  };\n\n  getStat(severity: string) {\n    const { stats } = this.props;\n    return stats ? stats[severity] : undefined;\n  }\n\n  renderItem = (severity: string) => {\n    const active = this.props.severities.includes(severity);\n    const stat = this.getStat(severity);\n\n    return (\n      <FacetItem\n        active={active}\n        disabled={stat === 0 && !active}\n        halfWidth={true}\n        key={severity}\n        name={<SeverityHelper severity={severity} />}\n        onClick={this.handleItemClick}\n        stat={formatFacetStat(stat)}\n        tooltip={translate('severity', severity)}\n        value={severity}\n      />\n    );\n  };\n\n  render() {\n    const { severities, stats = {} } = this.props;\n    const values = severities.map(severity => translate('severity', severity));\n\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={values}\n        />\n\n        <DeferredSpinner loading={this.props.fetching} />\n        {this.props.open && (\n          <>\n            <FacetItemsList>{SEVERITIES.map(this.renderItem)}</FacetItemsList>\n            <MultipleSelectionHint options={Object.keys(stats).length} values={severities.length} />\n          </>\n        )}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { sortBy, without, omit } from 'lodash';\nimport { Query, STANDARDS, formatFacetStat, Facet } from '../utils';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport { translate } from '../../../helpers/l10n';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport {\n  renderOwaspTop10Category,\n  renderSansTop25Category,\n  renderCWECategory,\n  Standards\n} from '../../securityReports/utils';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\nimport MultipleSelectionHint from '../../../components/facet/MultipleSelectionHint';\nimport { highlightTerm } from '../../../helpers/search';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\n\nexport interface Props {\n  cwe: string[];\n  cweOpen: boolean;\n  cweStats: { [x: string]: number } | undefined;\n  fetchingOwaspTop10: boolean;\n  fetchingSansTop25: boolean;\n  fetchingCwe: boolean;\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  owaspTop10: string[];\n  owaspTop10Open: boolean;\n  owaspTop10Stats: { [x: string]: number } | undefined;\n  query: Query;\n  sansTop25: string[];\n  sansTop25Open: boolean;\n  sansTop25Stats: { [x: string]: number } | undefined;\n}\n\ninterface State {\n  cweQuery: string;\n  standards: Standards;\n}\n\ntype StatsProp = 'owaspTop10Stats' | 'cweStats' | 'sansTop25Stats';\ntype ValuesProp = 'owaspTop10' | 'sansTop25' | 'cwe';\n\nexport default class StandardFacet extends React.PureComponent<Props, State> {\n  mounted = false;\n  property = STANDARDS;\n  state: State = {\n    cweQuery: '',\n    standards: { owaspTop10: {}, sansTop25: {}, cwe: {} }\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n\n    // load standards.json only if the facet is open, or there is a selected value\n    if (\n      this.props.open ||\n      this.props.owaspTop10.length > 0 ||\n      this.props.cwe.length > 0 ||\n      this.props.sansTop25.length > 0\n    ) {\n      this.loadStandards();\n    }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (!prevProps.open && this.props.open) {\n      this.loadStandards();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  loadStandards = () => {\n    import('../../../helpers/standards.json')\n      .then(x => x.default)\n      .then(\n        ({ owaspTop10, sansTop25, cwe }: Standards) => {\n          if (this.mounted) {\n            this.setState({ standards: { owaspTop10, sansTop25, cwe } });\n          }\n        },\n        () => {}\n      );\n  };\n\n  getValues = () => {\n    return [\n      ...this.props.owaspTop10.map(item =>\n        renderOwaspTop10Category(this.state.standards, item, true)\n      ),\n      ...this.props.sansTop25.map(item =>\n        renderSansTop25Category(this.state.standards, item, true)\n      ),\n      ...this.props.cwe.map(item => renderCWECategory(this.state.standards, item))\n    ];\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleOwaspTop10HeaderClick = () => {\n    this.props.onToggle('owaspTop10');\n  };\n\n  handleSansTop25HeaderClick = () => {\n    this.props.onToggle('sansTop25');\n  };\n\n  handleClear = () => {\n    this.props.onChange({ [this.property]: [], owaspTop10: [], sansTop25: [], cwe: [] });\n  };\n\n  handleItemClick = (prop: ValuesProp, itemValue: string, multiple: boolean) => {\n    const items = this.props[prop];\n    if (multiple) {\n      const newValue = sortBy(\n        items.includes(itemValue) ? without(items, itemValue) : [...items, itemValue]\n      );\n      this.props.onChange({ [prop]: newValue });\n    } else {\n      this.props.onChange({\n        [prop]: items.includes(itemValue) && items.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleOwaspTop10ItemClick = (itemValue: string, multiple: boolean) => {\n    this.handleItemClick('owaspTop10', itemValue, multiple);\n  };\n\n  handleSansTop25ItemClick = (itemValue: string, multiple: boolean) => {\n    this.handleItemClick('sansTop25', itemValue, multiple);\n  };\n\n  handleCWESearch = (query: string) => {\n    return Promise.resolve({\n      results: Object.keys(this.state.standards.cwe).filter(cwe =>\n        renderCWECategory(this.state.standards, cwe)\n          .toLowerCase()\n          .includes(query.toLowerCase())\n      )\n    });\n  };\n\n  loadCWESearchResultCount = (categories: string[]) => {\n    return this.props.loadSearchResultCount('cwe', { cwe: categories });\n  };\n\n  renderList = (\n    statsProp: StatsProp,\n    valuesProp: ValuesProp,\n    renderName: (standards: Standards, category: string) => string,\n    onClick: (x: string, multiple?: boolean) => void\n  ) => {\n    const stats = this.props[statsProp];\n    const values = this.props[valuesProp];\n    if (!stats) {\n      return null;\n    }\n    const categories = sortBy(Object.keys(stats), key => -stats[key]);\n    return this.renderFacetItemsList(stats, values, categories, renderName, renderName, onClick);\n  };\n\n  // eslint-disable-next-line max-params\n  renderFacetItemsList = (\n    stats: any,\n    values: string[],\n    categories: string[],\n    renderName: (standards: Standards, category: string) => React.ReactNode,\n    renderTooltip: (standards: Standards, category: string) => string,\n    onClick: (x: string, multiple?: boolean) => void\n  ) => {\n    if (!categories.length) {\n      return (\n        <div className=\"search-navigator-facet-empty little-spacer-top\">\n          {translate('no_results')}\n        </div>\n      );\n    }\n\n    const getStat = (category: string) => {\n      return stats ? stats[category] : undefined;\n    };\n\n    return (\n      <FacetItemsList>\n        {categories.map(category => (\n          <FacetItem\n            active={values.includes(category)}\n            key={category}\n            name={renderName(this.state.standards, category)}\n            onClick={onClick}\n            stat={formatFacetStat(getStat(category))}\n            tooltip={renderTooltip(this.state.standards, category)}\n            value={category}\n          />\n        ))}\n      </FacetItemsList>\n    );\n  };\n\n  renderHint = (statsProp: StatsProp, valuesProp: ValuesProp) => {\n    const stats = this.props[statsProp] || {};\n    const values = this.props[valuesProp];\n    return <MultipleSelectionHint options={Object.keys(stats).length} values={values.length} />;\n  };\n\n  renderOwaspTop10List() {\n    return this.renderList(\n      'owaspTop10Stats',\n      'owaspTop10',\n      renderOwaspTop10Category,\n      this.handleOwaspTop10ItemClick\n    );\n  }\n\n  renderOwaspTop10Hint() {\n    return this.renderHint('owaspTop10Stats', 'owaspTop10');\n  }\n\n  renderSansTop25List() {\n    return this.renderList(\n      'sansTop25Stats',\n      'sansTop25',\n      renderSansTop25Category,\n      this.handleSansTop25ItemClick\n    );\n  }\n\n  renderSansTop25Hint() {\n    return this.renderHint('sansTop25Stats', 'sansTop25');\n  }\n\n  renderSubFacets() {\n    return (\n      <>\n        <FacetBox className=\"is-inner\" property=\"owaspTop10\">\n          <FacetHeader\n            name={translate('issues.facet.owaspTop10')}\n            onClick={this.handleOwaspTop10HeaderClick}\n            open={this.props.owaspTop10Open}\n            values={this.props.owaspTop10.map(item =>\n              renderOwaspTop10Category(this.state.standards, item)\n            )}\n          />\n          <DeferredSpinner loading={this.props.fetchingOwaspTop10} />\n          {this.props.owaspTop10Open && (\n            <>\n              {this.renderOwaspTop10List()}\n              {this.renderOwaspTop10Hint()}\n            </>\n          )}\n        </FacetBox>\n        <FacetBox className=\"is-inner\" property=\"sansTop25\">\n          <FacetHeader\n            name={translate('issues.facet.sansTop25')}\n            onClick={this.handleSansTop25HeaderClick}\n            open={this.props.sansTop25Open}\n            values={this.props.sansTop25.map(item =>\n              renderSansTop25Category(this.state.standards, item)\n            )}\n          />\n          <DeferredSpinner loading={this.props.fetchingSansTop25} />\n          {this.props.sansTop25Open && (\n            <>\n              {this.renderSansTop25List()}\n              {this.renderSansTop25Hint()}\n            </>\n          )}\n        </FacetBox>\n        <ListStyleFacet<string>\n          className=\"is-inner\"\n          facetHeader={translate('issues.facet.cwe')}\n          fetching={this.props.fetchingCwe}\n          getFacetItemText={item => renderCWECategory(this.state.standards, item)}\n          getSearchResultKey={item => item}\n          getSearchResultText={item => renderCWECategory(this.state.standards, item)}\n          loadSearchResultCount={this.loadCWESearchResultCount}\n          onChange={this.props.onChange}\n          onSearch={this.handleCWESearch}\n          onToggle={this.props.onToggle}\n          open={this.props.cweOpen}\n          property=\"cwe\"\n          query={omit(this.props.query, 'cwe')}\n          renderFacetItem={item => renderCWECategory(this.state.standards, item)}\n          renderSearchResult={(item, query) =>\n            highlightTerm(renderCWECategory(this.state.standards, item), query)\n          }\n          searchPlaceholder={translate('search.search_for_cwe')}\n          stats={this.props.cweStats}\n          values={this.props.cwe}\n        />\n      </>\n    );\n  }\n\n  render() {\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={this.getValues()}\n        />\n\n        {this.props.open && this.renderSubFacets()}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { orderBy, without } from 'lodash';\nimport { formatFacetStat, Query } from '../utils';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport StatusHelper from '../../../components/shared/StatusHelper';\nimport { translate } from '../../../helpers/l10n';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\nimport MultipleSelectionHint from '../../../components/facet/MultipleSelectionHint';\n\ninterface Props {\n  fetching: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  stats: { [x: string]: number } | undefined;\n  statuses: string[];\n}\n\nconst STATUSES = ['OPEN', 'RESOLVED', 'REOPENED', 'CLOSED', 'CONFIRMED'];\n\nexport default class StatusFacet extends React.PureComponent<Props> {\n  property = 'statuses';\n\n  static defaultProps = {\n    open: true\n  };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { statuses } = this.props;\n    if (multiple) {\n      const newValue = orderBy(\n        statuses.includes(itemValue) ? without(statuses, itemValue) : [...statuses, itemValue]\n      );\n      this.props.onChange({ [this.property]: newValue });\n    } else {\n      this.props.onChange({\n        [this.property]: statuses.includes(itemValue) && statuses.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.props.onChange({ [this.property]: [] });\n  };\n\n  getStat(status: string) {\n    const { stats } = this.props;\n    return stats ? stats[status] : undefined;\n  }\n\n  renderItem = (status: string) => {\n    const active = this.props.statuses.includes(status);\n    const stat = this.getStat(status);\n\n    return (\n      <FacetItem\n        active={active}\n        disabled={stat === 0 && !active}\n        halfWidth={true}\n        key={status}\n        name={<StatusHelper resolution={undefined} status={status} />}\n        onClick={this.handleItemClick}\n        stat={formatFacetStat(stat)}\n        tooltip={translate('issue.status', status)}\n        value={status}\n      />\n    );\n  };\n\n  render() {\n    const { statuses, stats = {} } = this.props;\n    const values = statuses.map(status => translate('issue.status', status));\n\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={values}\n        />\n\n        <DeferredSpinner loading={this.props.fetching} />\n        {this.props.open && (\n          <>\n            <FacetItemsList>{STATUSES.map(this.renderItem)}</FacetItemsList>\n            <MultipleSelectionHint options={Object.keys(stats).length} values={statuses.length} />\n          </>\n        )}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { omit } from 'lodash';\nimport { Query, Facet } from '../utils';\nimport { searchIssueTags } from '../../../api/issues';\nimport * as theme from '../../../app/theme';\nimport TagsIcon from '../../../components/icons-components/TagsIcon';\nimport { translate } from '../../../helpers/l10n';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport { highlightTerm } from '../../../helpers/search';\n\ninterface Props {\n  component: T.Component | undefined;\n  fetching: boolean;\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  organization: string | undefined;\n  query: Query;\n  stats: { [x: string]: number } | undefined;\n  tags: string[];\n}\n\nconst SEARCH_SIZE = 100;\n\nexport default class TagFacet extends React.PureComponent<Props> {\n  handleSearch = (query: string) => {\n    const { component } = this.props;\n    const project =\n      component && ['TRK', 'VW', 'APP'].includes(component.qualifier) ? component.key : undefined;\n    return searchIssueTags({\n      organization: this.props.organization,\n      project,\n      ps: SEARCH_SIZE,\n      q: query\n    }).then(tags => ({ maxResults: tags.length === SEARCH_SIZE, results: tags }));\n  };\n\n  getTagName = (tag: string) => {\n    return tag;\n  };\n\n  loadSearchResultCount = (tags: string[]) => {\n    return this.props.loadSearchResultCount('tags', { tags });\n  };\n\n  renderTag = (tag: string) => {\n    return (\n      <>\n        <TagsIcon className=\"little-spacer-right\" fill={theme.gray60} />\n        {tag}\n      </>\n    );\n  };\n\n  renderSearchResult = (tag: string, term: string) => (\n    <>\n      <TagsIcon className=\"little-spacer-right\" fill={theme.gray60} />\n      {highlightTerm(tag, term)}\n    </>\n  );\n\n  render() {\n    return (\n      <ListStyleFacet<string>\n        facetHeader={translate('issues.facet.tags')}\n        fetching={this.props.fetching}\n        getFacetItemText={this.getTagName}\n        getSearchResultKey={tag => tag}\n        getSearchResultText={tag => tag}\n        loadSearchResultCount={this.loadSearchResultCount}\n        onChange={this.props.onChange}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"tags\"\n        query={omit(this.props.query, 'tags')}\n        renderFacetItem={this.renderTag}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_tags')}\n        stats={this.props.stats}\n        values={this.props.tags}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { orderBy, without } from 'lodash';\nimport { formatFacetStat, Query } from '../utils';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport IssueTypeIcon from '../../../components/ui/IssueTypeIcon';\nimport { translate } from '../../../helpers/l10n';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\nimport MultipleSelectionHint from '../../../components/facet/MultipleSelectionHint';\nimport { ISSUE_TYPES } from '../../../helpers/constants';\n\ninterface Props {\n  fetching: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  stats: { [x: string]: number } | undefined;\n  types: string[];\n}\n\nexport default class TypeFacet extends React.PureComponent<Props> {\n  property = 'types';\n\n  static defaultProps = {\n    open: true\n  };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { types } = this.props;\n    if (multiple) {\n      const newValue = orderBy(\n        types.includes(itemValue) ? without(types, itemValue) : [...types, itemValue]\n      );\n      this.props.onChange({ [this.property]: newValue });\n    } else {\n      this.props.onChange({\n        [this.property]: types.includes(itemValue) && types.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.props.onChange({ [this.property]: [] });\n  };\n\n  getStat(type: string) {\n    const { stats } = this.props;\n    return stats ? stats[type] : undefined;\n  }\n\n  isFacetItemActive(type: string) {\n    const { types } = this.props;\n    return (\n      // type is selected explicitly\n      types.includes(type) ||\n      // bugs, vulnerabilities and code smells are selected implicitly by default\n      (types.length === 0 && ['BUG', 'VULNERABILITY', 'CODE_SMELL'].includes(type))\n    );\n  }\n\n  renderItem = (type: string) => {\n    const active = this.isFacetItemActive(type);\n    const stat = this.getStat(type);\n\n    return (\n      <FacetItem\n        active={active}\n        disabled={stat === 0 && !active}\n        key={type}\n        name={\n          <span>\n            <IssueTypeIcon query={type} /> {translate('issue.type', type)}\n          </span>\n        }\n        onClick={this.handleItemClick}\n        stat={formatFacetStat(stat)}\n        tooltip={translate('issue.type', type)}\n        value={type}\n      />\n    );\n  };\n\n  render() {\n    const { types, stats = {} } = this.props;\n    const values = types.map(type => translate('issue.type', type));\n\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          clearLabel=\"reset_verb\"\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={values}\n        />\n\n        <DeferredSpinner loading={this.props.fetching} />\n        {this.props.open && (\n          <>\n            <FacetItemsList>{ISSUE_TYPES.map(this.renderItem)}</FacetItemsList>\n            <MultipleSelectionHint options={Object.keys(stats).length} values={types.length} />\n          </>\n        )}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport AssigneeFacet from './AssigneeFacet';\nimport AuthorFacet from './AuthorFacet';\nimport CreationDateFacet from './CreationDateFacet';\nimport DirectoryFacet from './DirectoryFacet';\nimport FileFacet from './FileFacet';\nimport LanguageFacet from './LanguageFacet';\nimport ProjectFacet from './ProjectFacet';\nimport ResolutionFacet from './ResolutionFacet';\nimport RuleFacet from './RuleFacet';\nimport SeverityFacet from './SeverityFacet';\nimport StandardFacet from './StandardFacet';\nimport StatusFacet from './StatusFacet';\nimport TagFacet from './TagFacet';\nimport TypeFacet from './TypeFacet';\nimport {\n  Query,\n  Facet,\n  ReferencedComponent,\n  ReferencedUser,\n  ReferencedLanguage,\n  ReferencedRule,\n  STANDARDS\n} from '../utils';\n\nexport interface Props {\n  component: T.Component | undefined;\n  facets: { [facet: string]: Facet };\n  hideAuthorFacet?: boolean;\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  loadingFacets: { [key: string]: boolean };\n  myIssues: boolean;\n  onFacetToggle: (property: string) => void;\n  onFilterChange: (changes: Partial<Query>) => void;\n  openFacets: { [facet: string]: boolean };\n  organization: { key: string } | undefined;\n  query: Query;\n  referencedComponentsById: { [id: string]: ReferencedComponent };\n  referencedComponentsByKey: { [key: string]: ReferencedComponent };\n  referencedLanguages: { [languageKey: string]: ReferencedLanguage };\n  referencedRules: { [ruleKey: string]: ReferencedRule };\n  referencedUsers: { [login: string]: ReferencedUser };\n}\n\nexport default class Sidebar extends React.PureComponent<Props> {\n  renderComponentFacets() {\n    const { component, facets, loadingFacets, openFacets, query } = this.props;\n    if (!component) {\n      return null;\n    }\n    const commonProps = {\n      componentKey: component.key,\n      loadSearchResultCount: this.props.loadSearchResultCount,\n      onChange: this.props.onFilterChange,\n      onToggle: this.props.onFacetToggle,\n      query\n    };\n    return (\n      <>\n        {component.qualifier !== 'DIR' && (\n          <DirectoryFacet\n            directories={query.directories}\n            fetching={loadingFacets.directories === true}\n            open={!!openFacets.directories}\n            stats={facets.directories}\n            {...commonProps}\n          />\n        )}\n        <FileFacet\n          fetching={loadingFacets.files === true}\n          files={query.files}\n          open={!!openFacets.files}\n          referencedComponents={this.props.referencedComponentsById}\n          stats={facets.files}\n          {...commonProps}\n        />\n      </>\n    );\n  }\n\n  render() {\n    const { component, facets, hideAuthorFacet, openFacets, query } = this.props;\n\n    const displayProjectsFacet =\n      !component || !['TRK', 'BRC', 'DIR', 'DEV_PRJ'].includes(component.qualifier);\n    const displayAuthorFacet = !hideAuthorFacet && (!component || component.qualifier !== 'DEV');\n\n    const organizationKey =\n      (component && component.organization) ||\n      (this.props.organization && this.props.organization.key);\n\n    return (\n      <>\n        <TypeFacet\n          fetching={this.props.loadingFacets.types === true}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.types}\n          stats={facets.types}\n          types={query.types}\n        />\n        <SeverityFacet\n          fetching={this.props.loadingFacets.severities === true}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.severities}\n          severities={query.severities}\n          stats={facets.severities}\n        />\n        <ResolutionFacet\n          fetching={this.props.loadingFacets.resolutions === true}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.resolutions}\n          resolutions={query.resolutions}\n          resolved={query.resolved}\n          stats={facets.resolutions}\n        />\n        <StatusFacet\n          fetching={this.props.loadingFacets.statuses === true}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.statuses}\n          stats={facets.statuses}\n          statuses={query.statuses}\n        />\n        <CreationDateFacet\n          component={component}\n          createdAfter={query.createdAfter}\n          createdAt={query.createdAt}\n          createdBefore={query.createdBefore}\n          createdInLast={query.createdInLast}\n          fetching={this.props.loadingFacets.createdAt === true}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.createdAt}\n          sinceLeakPeriod={query.sinceLeakPeriod}\n          stats={facets.createdAt}\n        />\n        <LanguageFacet\n          fetching={this.props.loadingFacets.languages === true}\n          languages={query.languages}\n          loadSearchResultCount={this.props.loadSearchResultCount}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.languages}\n          query={query}\n          referencedLanguages={this.props.referencedLanguages}\n          stats={facets.languages}\n        />\n        <RuleFacet\n          fetching={this.props.loadingFacets.rules === true}\n          languages={query.languages}\n          loadSearchResultCount={this.props.loadSearchResultCount}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.rules}\n          organization={organizationKey}\n          query={query}\n          referencedRules={this.props.referencedRules}\n          rules={query.rules}\n          stats={facets.rules}\n        />\n        <StandardFacet\n          cwe={query.cwe}\n          cweOpen={!!openFacets.cwe}\n          cweStats={facets.cwe}\n          fetchingCwe={this.props.loadingFacets.cwe === true}\n          fetchingOwaspTop10={this.props.loadingFacets.owaspTop10 === true}\n          fetchingSansTop25={this.props.loadingFacets.sansTop25 === true}\n          loadSearchResultCount={this.props.loadSearchResultCount}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets[STANDARDS]}\n          owaspTop10={query.owaspTop10}\n          owaspTop10Open={!!openFacets.owaspTop10}\n          owaspTop10Stats={facets.owaspTop10}\n          query={query}\n          sansTop25={query.sansTop25}\n          sansTop25Open={!!openFacets.sansTop25}\n          sansTop25Stats={facets.sansTop25}\n        />\n        <TagFacet\n          component={component}\n          fetching={this.props.loadingFacets.tags === true}\n          loadSearchResultCount={this.props.loadSearchResultCount}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.tags}\n          organization={organizationKey}\n          query={query}\n          stats={facets.tags}\n          tags={query.tags}\n        />\n        {displayProjectsFacet && (\n          <ProjectFacet\n            component={component}\n            fetching={this.props.loadingFacets.projects === true}\n            loadSearchResultCount={this.props.loadSearchResultCount}\n            onChange={this.props.onFilterChange}\n            onToggle={this.props.onFacetToggle}\n            open={!!openFacets.projects}\n            organization={this.props.organization}\n            projects={query.projects}\n            query={query}\n            referencedComponents={this.props.referencedComponentsByKey}\n            stats={facets.projects}\n          />\n        )}\n        {this.renderComponentFacets()}\n        {!this.props.myIssues && (\n          <AssigneeFacet\n            assigned={query.assigned}\n            assignees={query.assignees}\n            fetching={this.props.loadingFacets.assignees === true}\n            loadSearchResultCount={this.props.loadSearchResultCount}\n            onChange={this.props.onFilterChange}\n            onToggle={this.props.onFacetToggle}\n            open={!!openFacets.assignees}\n            organization={organizationKey}\n            query={query}\n            referencedUsers={this.props.referencedUsers}\n            stats={facets.assignees}\n          />\n        )}\n        {displayAuthorFacet && (\n          <AuthorFacet\n            authors={query.authors}\n            component={component}\n            fetching={this.props.loadingFacets.authors === true}\n            loadSearchResultCount={this.props.loadSearchResultCount}\n            onChange={this.props.onFilterChange}\n            onToggle={this.props.onFacetToggle}\n            open={!!openFacets.authors}\n            organization={organizationKey}\n            query={query}\n            stats={facets.authors}\n          />\n        )}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { State } from './components/App';\nimport { allLocationsEmpty } from './utils';\n\nexport function enableLocationsNavigator(state: State) {\n  const { openIssue, selectedLocationIndex } = state;\n  if (openIssue && (openIssue.secondaryLocations.length > 0 || openIssue.flows.length > 0)) {\n    const selectedFlowIndex =\n      state.selectedFlowIndex || (openIssue.flows.length > 0 ? 0 : undefined);\n\n    if (!allLocationsEmpty(openIssue, selectedFlowIndex)) {\n      return {\n        locationsNavigator: true,\n        selectedFlowIndex,\n        // Also reset index = -1 to 0, we don't want to start on the issue when enabling the location navigator\n        selectedLocationIndex:\n          !selectedLocationIndex || selectedLocationIndex < 0 ? 0 : selectedLocationIndex\n      };\n    }\n  }\n  return null;\n}\n\nexport function disableLocationsNavigator() {\n  return { locationsNavigator: false };\n}\n\nexport function selectLocation(nextIndex: number | undefined) {\n  return (state: State) => {\n    const { selectedLocationIndex: index, openIssue } = state;\n    if (openIssue) {\n      if (!state.locationsNavigator) {\n        if (nextIndex !== undefined) {\n          return { locationsNavigator: true, selectedLocationIndex: nextIndex };\n        }\n      } else if (index !== undefined) {\n        // disable locations when selecting (clicking) the same location\n        return {\n          locationsNavigator: nextIndex !== index,\n          selectedLocationIndex: nextIndex\n        };\n      }\n    }\n    return null;\n  };\n}\n\nexport function selectNextLocation(state: State) {\n  const { selectedFlowIndex, selectedLocationIndex: index, openIssue } = state;\n  if (openIssue) {\n    const locations =\n      selectedFlowIndex !== undefined\n        ? openIssue.flows[selectedFlowIndex]\n        : openIssue.secondaryLocations;\n    const lastLocationIdx = locations.length - 1;\n    if (index === lastLocationIdx) {\n      // -1 to jump back to the issue itself\n      return { selectedLocationIndex: -1 };\n    }\n    return {\n      selectedLocationIndex: index !== undefined && index < lastLocationIdx ? index + 1 : index\n    };\n  }\n  return null;\n}\n\nexport function selectPreviousLocation(state: State) {\n  const { selectedFlowIndex, selectedLocationIndex: index, openIssue } = state;\n  if (openIssue) {\n    if (index === -1) {\n      const locations =\n        selectedFlowIndex !== undefined\n          ? openIssue.flows[selectedFlowIndex]\n          : openIssue.secondaryLocations;\n      const lastLocationIdx = locations.length - 1;\n      return { selectedLocationIndex: lastLocationIdx };\n    }\n    return { selectedLocationIndex: index !== undefined && index > 0 ? index - 1 : index };\n  }\n  return null;\n}\n\nexport function selectFlow(nextIndex?: number) {\n  return () => {\n    return { locationsNavigator: true, selectedFlowIndex: nextIndex, selectedLocationIndex: 0 };\n  };\n}\n\nexport function selectNextFlow(state: State) {\n  const { openIssue, selectedFlowIndex } = state;\n  if (\n    openIssue &&\n    selectedFlowIndex !== undefined &&\n    openIssue.flows.length > selectedFlowIndex + 1\n  ) {\n    return { selectedFlowIndex: selectedFlowIndex + 1, selectedLocationIndex: 0 };\n  }\n  return null;\n}\n\nexport function selectPreviousFlow(state: State) {\n  const { openIssue, selectedFlowIndex } = state;\n  if (openIssue && selectedFlowIndex !== undefined && selectedFlowIndex > 0) {\n    return { selectedFlowIndex: selectedFlowIndex - 1, selectedLocationIndex: 0 };\n  }\n  return null;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as key from 'keymaster';\nimport Helmet from 'react-helmet';\nimport { keyBy, omit, union, without } from 'lodash';\nimport BulkChangeModal from './BulkChangeModal';\nimport ComponentBreadcrumbs from './ComponentBreadcrumbs';\nimport IssuesList from './IssuesList';\nimport IssuesSourceViewer from './IssuesSourceViewer';\nimport MyIssuesFilter from './MyIssuesFilter';\nimport NoIssues from './NoIssues';\nimport NoMyIssues from './NoMyIssues';\nimport PageActions from './PageActions';\nimport ConciseIssuesList from '../conciseIssuesList/ConciseIssuesList';\nimport ConciseIssuesListHeader from '../conciseIssuesList/ConciseIssuesListHeader';\nimport Sidebar from '../sidebar/Sidebar';\nimport * as actions from '../actions';\nimport {\n  areMyIssuesSelected,\n  areQueriesEqual,\n  Facet,\n  getOpen,\n  mapFacet,\n  parseFacets,\n  parseQuery,\n  Query,\n  RawFacet,\n  ReferencedComponent,\n  ReferencedLanguage,\n  ReferencedUser,\n  saveMyIssues,\n  serializeQuery,\n  STANDARDS,\n  ReferencedRule\n} from '../utils';\nimport { Button } from '../../../components/ui/buttons';\nimport Checkbox from '../../../components/controls/Checkbox';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\nimport Dropdown from '../../../components/controls/Dropdown';\nimport DropdownIcon from '../../../components/icons-components/DropdownIcon';\nimport EmptySearch from '../../../components/common/EmptySearch';\nimport FiltersHeader from '../../../components/common/FiltersHeader';\nimport handleRequiredAuthentication from '../../../app/utils/handleRequiredAuthentication';\nimport ListFooter from '../../../components/controls/ListFooter';\nimport ScreenPositionHelper from '../../../components/common/ScreenPositionHelper';\nimport Suggestions from '../../../app/components/embed-docs-modal/Suggestions';\nimport {\n  isShortLivingBranch,\n  isSameBranchLike,\n  getBranchLikeQuery,\n  isPullRequest,\n  fillBranchLike\n} from '../../../helpers/branches';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport { RawQuery } from '../../../helpers/query';\nimport {\n  addSideBarClass,\n  addWhitePageClass,\n  removeSideBarClass,\n  removeWhitePageClass\n} from '../../../helpers/pages';\nimport { scrollToElement } from '../../../helpers/scrolling';\nimport { isSonarCloud } from '../../../helpers/system';\nimport { withRouter, Location, Router } from '../../../components/hoc/withRouter';\nimport '../../../components/search-navigator.css';\nimport '../styles.css';\n\ninterface FetchIssuesPromise {\n  components: ReferencedComponent[];\n  effortTotal: number;\n  facets: RawFacet[];\n  issues: T.Issue[];\n  languages: ReferencedLanguage[];\n  paging: T.Paging;\n  rules: ReferencedRule[];\n  users: ReferencedUser[];\n}\n\ninterface Props {\n  branchLike?: T.BranchLike;\n  component?: T.Component;\n  currentUser: T.CurrentUser;\n  fetchIssues: (query: RawQuery, requestOrganizations?: boolean) => Promise<FetchIssuesPromise>;\n  hideAuthorFacet?: boolean;\n  location: Pick<Location, 'pathname' | 'query'>;\n  multiOrganizations?: boolean;\n  myIssues?: boolean;\n  onBranchesChange: () => void;\n  organization?: { key: string };\n  router: Pick<Router, 'push' | 'replace'>;\n  userOrganizations: T.Organization[];\n}\n\nexport interface State {\n  bulkChange?: 'all' | 'selected';\n  checked: string[];\n  effortTotal?: number;\n  facets: { [facet: string]: Facet };\n  issues: T.Issue[];\n  lastChecked?: string;\n  loading: boolean;\n  loadingFacets: { [key: string]: boolean };\n  loadingMore: boolean;\n  locationsNavigator: boolean;\n  myIssues: boolean;\n  openFacets: { [facet: string]: boolean };\n  openIssue?: T.Issue;\n  openPopup?: { issue: string; name: string };\n  paging?: T.Paging;\n  query: Query;\n  referencedComponentsById: { [id: string]: ReferencedComponent };\n  referencedComponentsByKey: { [key: string]: ReferencedComponent };\n  referencedLanguages: { [languageKey: string]: ReferencedLanguage };\n  referencedRules: { [ruleKey: string]: ReferencedRule };\n  referencedUsers: { [login: string]: ReferencedUser };\n  selected?: string;\n  selectedFlowIndex?: number;\n  selectedLocationIndex?: number;\n}\n\nconst DEFAULT_QUERY = { resolved: 'false' };\n\nexport class App extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      checked: [],\n      facets: {},\n      issues: [],\n      loading: true,\n      loadingFacets: {},\n      loadingMore: false,\n      locationsNavigator: false,\n      myIssues: props.myIssues || areMyIssuesSelected(props.location.query),\n      openFacets: { severities: true, types: true },\n      query: parseQuery(props.location.query),\n      referencedComponentsById: {},\n      referencedComponentsByKey: {},\n      referencedLanguages: {},\n      referencedRules: {},\n      referencedUsers: {},\n      selected: getOpen(props.location.query)\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n\n    if (this.state.myIssues && !this.props.currentUser.isLoggedIn) {\n      handleRequiredAuthentication();\n      return;\n    }\n\n    addWhitePageClass();\n    addSideBarClass();\n    this.attachShortcuts();\n    this.fetchFirstIssues();\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    const openIssue = this.getOpenIssue(nextProps, this.state.issues);\n\n    if (openIssue && openIssue.key !== this.state.selected) {\n      this.setState({\n        locationsNavigator: false,\n        selected: openIssue.key,\n        selectedFlowIndex: undefined,\n        selectedLocationIndex: undefined\n      });\n    }\n\n    if (!openIssue) {\n      this.setState({ selectedFlowIndex: undefined, selectedLocationIndex: undefined });\n    }\n\n    this.setState({\n      myIssues: nextProps.myIssues || areMyIssuesSelected(nextProps.location.query),\n      openIssue,\n      query: parseQuery(nextProps.location.query)\n    });\n  }\n\n  componentDidUpdate(prevProps: Props, prevState: State) {\n    const { query } = this.props.location;\n    const { query: prevQuery } = prevProps.location;\n    if (\n      prevProps.component !== this.props.component ||\n      !isSameBranchLike(prevProps.branchLike, this.props.branchLike) ||\n      !areQueriesEqual(prevQuery, query) ||\n      areMyIssuesSelected(prevQuery) !== areMyIssuesSelected(query)\n    ) {\n      this.fetchFirstIssues();\n    } else if (\n      !this.state.openIssue &&\n      (prevState.selected !== this.state.selected || prevState.openIssue)\n    ) {\n      // if user simply selected another issue\n      // or if he went from the source code back to the list of issues\n      this.scrollToSelectedIssue();\n    }\n  }\n\n  componentWillUnmount() {\n    this.detachShortcuts();\n    this.mounted = false;\n    removeWhitePageClass();\n    removeSideBarClass();\n  }\n\n  attachShortcuts() {\n    key.setScope('issues');\n    key('up', 'issues', () => {\n      this.selectPreviousIssue();\n      return false;\n    });\n    key('down', 'issues', () => {\n      this.selectNextIssue();\n      return false;\n    });\n    key('right', 'issues', () => {\n      this.openSelectedIssue();\n      return false;\n    });\n    key('left', 'issues', () => {\n      if (this.state.query.issues.length !== 1) {\n        this.closeIssue();\n      }\n      return false;\n    });\n    window.addEventListener('keydown', this.handleKeyDown);\n    window.addEventListener('keyup', this.handleKeyUp);\n  }\n\n  detachShortcuts() {\n    key.deleteScope('issues');\n    window.removeEventListener('keydown', this.handleKeyDown);\n    window.removeEventListener('keyup', this.handleKeyUp);\n  }\n\n  handleKeyDown = (event: KeyboardEvent) => {\n    if (key.getScope() !== 'issues') {\n      return;\n    }\n    if (event.keyCode === 18) {\n      // alt\n      event.preventDefault();\n      this.setState(actions.enableLocationsNavigator);\n    } else if (event.keyCode === 40 && event.altKey) {\n      // alt + down\n      event.preventDefault();\n      this.selectNextLocation();\n    } else if (event.keyCode === 38 && event.altKey) {\n      // alt + up\n      event.preventDefault();\n      this.selectPreviousLocation();\n    } else if (event.keyCode === 37 && event.altKey) {\n      // alt + left\n      event.preventDefault();\n      this.selectPreviousFlow();\n    } else if (event.keyCode === 39 && event.altKey) {\n      // alt + right\n      event.preventDefault();\n      this.selectNextFlow();\n    }\n  };\n\n  handleKeyUp = (event: KeyboardEvent) => {\n    if (key.getScope() !== 'issues') {\n      return;\n    }\n    if (event.keyCode === 18) {\n      // alt\n      this.setState(actions.disableLocationsNavigator);\n    }\n  };\n\n  getSelectedIndex() {\n    const { issues = [], selected } = this.state;\n    const index = issues.findIndex(issue => issue.key === selected);\n    return index !== -1 ? index : undefined;\n  }\n\n  getOpenIssue = (props: Props, issues: T.Issue[]) => {\n    const open = getOpen(props.location.query);\n    return open ? issues.find(issue => issue.key === open) : undefined;\n  };\n\n  selectNextIssue = () => {\n    const { issues } = this.state;\n    const selectedIndex = this.getSelectedIndex();\n    if (selectedIndex !== undefined && selectedIndex < issues.length - 1) {\n      if (this.state.openIssue) {\n        this.openIssue(issues[selectedIndex + 1].key);\n      } else {\n        this.setState({\n          selected: issues[selectedIndex + 1].key,\n          selectedFlowIndex: undefined,\n          selectedLocationIndex: undefined\n        });\n      }\n    }\n  };\n\n  selectPreviousIssue = () => {\n    const { issues } = this.state;\n    const selectedIndex = this.getSelectedIndex();\n    if (selectedIndex !== undefined && selectedIndex > 0) {\n      if (this.state.openIssue) {\n        this.openIssue(issues[selectedIndex - 1].key);\n      } else {\n        this.setState({\n          selected: issues[selectedIndex - 1].key,\n          selectedFlowIndex: undefined,\n          selectedLocationIndex: undefined\n        });\n      }\n    }\n  };\n\n  openIssue = (issueKey: string) => {\n    const path = {\n      pathname: this.props.location.pathname,\n      query: {\n        ...serializeQuery(this.state.query),\n        ...getBranchLikeQuery(this.props.branchLike),\n        id: this.props.component && this.props.component.key,\n        myIssues: this.state.myIssues ? 'true' : undefined,\n        open: issueKey\n      }\n    };\n    if (this.state.openIssue) {\n      if (path.query.open && path.query.open === this.state.openIssue.key) {\n        this.setState(\n          {\n            locationsNavigator: false,\n            selectedFlowIndex: undefined,\n            selectedLocationIndex: undefined\n          },\n          this.scrollToSelectedIssue\n        );\n      } else {\n        this.props.router.replace(path);\n      }\n    } else {\n      this.props.router.push(path);\n    }\n  };\n\n  closeIssue = () => {\n    if (this.state.query) {\n      this.props.router.push({\n        pathname: this.props.location.pathname,\n        query: {\n          ...serializeQuery(this.state.query),\n          ...getBranchLikeQuery(this.props.branchLike),\n          id: this.props.component && this.props.component.key,\n          myIssues: this.state.myIssues ? 'true' : undefined,\n          open: undefined\n        }\n      });\n      this.scrollToSelectedIssue(false);\n    }\n  };\n\n  openSelectedIssue = () => {\n    const { selected } = this.state;\n    if (selected) {\n      this.openIssue(selected);\n    }\n  };\n\n  scrollToSelectedIssue = (smooth = true) => {\n    const { selected } = this.state;\n    if (selected) {\n      const element = document.querySelector(`[data-issue=\"${selected}\"]`);\n      if (element) {\n        scrollToElement(element, { topOffset: 250, bottomOffset: 100, smooth });\n      }\n    }\n  };\n\n  fetchIssues = (\n    additional: RawQuery,\n    requestFacets = false,\n    requestOrganizations = true\n  ): Promise<FetchIssuesPromise> => {\n    const { component } = this.props;\n    const { myIssues, openFacets, query } = this.state;\n\n    const facets = requestFacets\n      ? Object.keys(openFacets)\n          .filter(facet => openFacets[facet])\n          .filter(facet => facet !== STANDARDS)\n          .map(mapFacet)\n          .join(',')\n      : undefined;\n\n    const organizationKey =\n      (component && component.organization) ||\n      (this.props.organization && this.props.organization.key);\n\n    const parameters = {\n      ...getBranchLikeQuery(this.props.branchLike),\n      componentKeys: component && component.key,\n      s: 'FILE_LINE',\n      ...serializeQuery(query),\n      ps: '100',\n      organization: organizationKey,\n      facets,\n      ...additional\n    };\n\n    // only sorting by CREATION_DATE is allowed, so let's sort DESC\n    if (query.sort) {\n      Object.assign(parameters, { asc: 'false' });\n    }\n\n    if (myIssues) {\n      Object.assign(parameters, { assignees: '__me__' });\n    }\n\n    return this.props.fetchIssues(\n      parameters,\n      Boolean(requestOrganizations && this.props.multiOrganizations)\n    );\n  };\n\n  fetchFirstIssues() {\n    const prevQuery = this.props.location.query;\n    this.setState({ checked: [], loading: true });\n    return this.fetchIssues({}, true).then(\n      ({ effortTotal, facets, issues, paging, ...other }) => {\n        if (this.mounted && areQueriesEqual(prevQuery, this.props.location.query)) {\n          const openIssue = this.getOpenIssue(this.props, issues);\n          let selected: string | undefined = undefined;\n          if (issues.length > 0) {\n            selected = openIssue ? openIssue.key : issues[0].key;\n          }\n          this.setState(state => ({\n            effortTotal,\n            facets: { ...state.facets, ...parseFacets(facets) },\n            loading: false,\n            issues,\n            openIssue,\n            paging,\n            referencedComponentsById: keyBy(other.components, 'uuid'),\n            referencedComponentsByKey: keyBy(other.components, 'key'),\n            referencedLanguages: keyBy(other.languages, 'key'),\n            referencedRules: keyBy(other.rules, 'key'),\n            referencedUsers: keyBy(other.users, 'login'),\n            selected,\n            selectedFlowIndex: undefined,\n            selectedLocationIndex: undefined\n          }));\n        }\n        return issues;\n      },\n      () => {\n        if (this.mounted && areQueriesEqual(prevQuery, this.props.location.query)) {\n          this.setState({ loading: false });\n        }\n        return [];\n      }\n    );\n  }\n\n  fetchIssuesPage = (p: number) => {\n    return this.fetchIssues({ p });\n  };\n\n  fetchIssuesUntil = (\n    p: number,\n    done: (issues: T.Issue[], paging: T.Paging) => boolean\n  ): Promise<{ issues: T.Issue[]; paging: T.Paging }> => {\n    return this.fetchIssuesPage(p).then(response => {\n      const { issues, paging } = response;\n\n      return done(issues, paging)\n        ? { issues, paging }\n        : this.fetchIssuesUntil(p + 1, done).then(nextResponse => {\n            return {\n              issues: [...issues, ...nextResponse.issues],\n              paging: nextResponse.paging\n            };\n          });\n    });\n  };\n\n  fetchMoreIssues = () => {\n    const { paging } = this.state;\n\n    if (!paging) {\n      return;\n    }\n\n    const p = paging.pageIndex + 1;\n\n    this.setState({ loadingMore: true });\n    this.fetchIssuesPage(p).then(\n      response => {\n        if (this.mounted) {\n          this.setState(state => ({\n            loadingMore: false,\n            issues: [...state.issues, ...response.issues],\n            paging: response.paging\n          }));\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loadingMore: false });\n        }\n      }\n    );\n  };\n\n  fetchIssuesForComponent = (_component: string, _from: number, to: number) => {\n    const { issues, openIssue, paging } = this.state;\n\n    if (!openIssue || !paging) {\n      return Promise.reject(undefined);\n    }\n\n    const isSameComponent = (issue: T.Issue) => issue.component === openIssue.component;\n\n    const done = (issues: T.Issue[], paging: T.Paging) => {\n      if (paging.total <= paging.pageIndex * paging.pageSize) {\n        return true;\n      }\n      const lastIssue = issues[issues.length - 1];\n      if (lastIssue.component !== openIssue.component) {\n        return true;\n      }\n      return lastIssue.textRange !== undefined && lastIssue.textRange.endLine > to;\n    };\n\n    if (done(issues, paging)) {\n      return Promise.resolve(issues.filter(isSameComponent));\n    }\n\n    this.setState({ loading: true });\n    return this.fetchIssuesUntil(paging.pageIndex + 1, done).then(\n      response => {\n        const nextIssues = [...issues, ...response.issues];\n        if (this.mounted) {\n          this.setState({\n            issues: nextIssues,\n            loading: false,\n            paging: response.paging\n          });\n        }\n        return nextIssues.filter(isSameComponent);\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n        return [];\n      }\n    );\n  };\n\n  fetchFacet = (facet: string) => {\n    const requestOrganizations = facet === 'projects';\n    this.setState(state => ({ loadingFacets: { ...state.loadingFacets, [facet]: true } }));\n    return this.fetchIssues({ ps: 1, facets: mapFacet(facet) }, false, requestOrganizations).then(\n      ({ facets, ...other }) => {\n        if (this.mounted) {\n          this.setState(state => ({\n            facets: { ...state.facets, ...parseFacets(facets) },\n            loadingFacets: omit(state.loadingFacets, facet),\n            referencedComponentsById: {\n              ...state.referencedComponentsById,\n              ...keyBy(other.components, 'uuid')\n            },\n            referencedComponentsByKey: {\n              ...state.referencedComponentsByKey,\n              ...keyBy(other.components, 'key')\n            },\n            referencedLanguages: {\n              ...state.referencedLanguages,\n              ...keyBy(other.languages, 'key')\n            },\n            referencedRules: { ...state.referencedRules, ...keyBy(other.rules, 'key') },\n            referencedUsers: { ...state.referencedUsers, ...keyBy(other.users, 'login') }\n          }));\n        }\n      },\n      () => {}\n    );\n  };\n\n  isFiltered = () => {\n    const serialized = serializeQuery(this.state.query);\n    return !areQueriesEqual(serialized, DEFAULT_QUERY);\n  };\n\n  getCheckedIssues = () => {\n    const issues = this.state.checked\n      .map(checked => this.state.issues.find(issue => issue.key === checked))\n      .filter((issue): issue is T.Issue => issue !== undefined);\n    const paging = { pageIndex: 1, pageSize: issues.length, total: issues.length };\n    return Promise.resolve({ issues, paging });\n  };\n\n  handleFilterChange = (changes: Partial<Query>) => {\n    this.setState({ loading: true });\n    this.props.router.push({\n      pathname: this.props.location.pathname,\n      query: {\n        ...serializeQuery({ ...this.state.query, ...changes }),\n        ...getBranchLikeQuery(this.props.branchLike),\n        id: this.props.component && this.props.component.key,\n        myIssues: this.state.myIssues ? 'true' : undefined\n      }\n    });\n  };\n\n  handleMyIssuesChange = (myIssues: boolean) => {\n    this.closeFacet('assignees');\n    if (!this.props.component) {\n      saveMyIssues(myIssues);\n    }\n    this.props.router.push({\n      pathname: this.props.location.pathname,\n      query: {\n        ...serializeQuery({ ...this.state.query, assigned: true, assignees: [] }),\n        ...getBranchLikeQuery(this.props.branchLike),\n        id: this.props.component && this.props.component.key,\n        myIssues: myIssues ? 'true' : undefined\n      }\n    });\n  };\n\n  loadSearchResultCount = (property: string, changes: Partial<Query>) => {\n    const { component } = this.props;\n    const { myIssues, query } = this.state;\n\n    const organizationKey =\n      (component && component.organization) ||\n      (this.props.organization && this.props.organization.key);\n\n    const parameters = {\n      ...getBranchLikeQuery(this.props.branchLike),\n      componentKeys: component && component.key,\n      facets: mapFacet(property),\n      s: 'FILE_LINE',\n      ...serializeQuery({ ...query, ...changes }),\n      ps: 1,\n      organization: organizationKey\n    };\n\n    if (myIssues) {\n      Object.assign(parameters, { assignees: '__me__' });\n    }\n\n    return this.props\n      .fetchIssues(parameters, false)\n      .then(({ facets }) => parseFacets(facets)[property]);\n  };\n\n  closeFacet = (property: string) => {\n    this.setState(state => ({\n      openFacets: { ...state.openFacets, [property]: false }\n    }));\n  };\n\n  handleFacetToggle = (property: string) => {\n    this.setState(state => ({\n      openFacets: { ...state.openFacets, [property]: !state.openFacets[property] }\n    }));\n    if (property !== STANDARDS && !this.state.facets[property]) {\n      this.fetchFacet(property);\n    }\n  };\n\n  handleReset = () => {\n    this.props.router.push({\n      pathname: this.props.location.pathname,\n      query: {\n        ...DEFAULT_QUERY,\n        ...getBranchLikeQuery(this.props.branchLike),\n        id: this.props.component && this.props.component.key,\n        myIssues: this.state.myIssues ? 'true' : undefined\n      }\n    });\n  };\n\n  handlePopupToggle = (issue: string, popupName: string, open?: boolean) => {\n    this.setState((state: State) => {\n      const samePopup =\n        state.openPopup && state.openPopup.name === popupName && state.openPopup.issue === issue;\n      if (open !== false && !samePopup) {\n        return { openPopup: { issue, name: popupName } };\n      } else if (open !== true && samePopup) {\n        return { openPopup: undefined };\n      }\n      return state;\n    });\n  };\n\n  handleIssueCheck = (issue: string, event: { shiftKey?: boolean }) => {\n    // Selecting multiple issues with shift+click\n    const { lastChecked } = this.state;\n    if (event.shiftKey && lastChecked) {\n      this.setState(state => {\n        const issueKeys = state.issues.map(issue => issue.key);\n        const currentIssueIndex = issueKeys.indexOf(issue);\n        const lastSelectedIndex = issueKeys.indexOf(lastChecked);\n        const shouldCheck = state.checked.includes(lastChecked);\n        let { checked } = state;\n        if (currentIssueIndex < 0) {\n          return null;\n        }\n        const start = Math.min(currentIssueIndex, lastSelectedIndex);\n        const end = Math.max(currentIssueIndex, lastSelectedIndex);\n        for (let i = start; i < end + 1; i++) {\n          checked = shouldCheck\n            ? union(checked, [state.issues[i].key])\n            : without(checked, state.issues[i].key);\n        }\n        return { checked };\n      });\n    } else {\n      this.setState(state => ({\n        lastChecked: issue,\n        checked: state.checked.includes(issue)\n          ? without(state.checked, issue)\n          : [...state.checked, issue]\n      }));\n    }\n  };\n\n  handleIssueChange = (issue: T.Issue) => {\n    this.setState(state => ({\n      issues: state.issues.map(candidate => (candidate.key === issue.key ? issue : candidate))\n    }));\n  };\n\n  openBulkChange = (mode: 'all' | 'selected') => {\n    this.setState({ bulkChange: mode });\n    key.setScope('issues-bulk-change');\n  };\n\n  closeBulkChange = () => {\n    key.setScope('issues');\n    this.setState({ bulkChange: undefined });\n  };\n\n  handleBulkChangeClick = () => {\n    this.openBulkChange('all');\n  };\n\n  handleBulkChangeSelectedClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.openBulkChange('selected');\n  };\n\n  handleBulkChangeDone = () => {\n    this.fetchFirstIssues();\n    this.closeBulkChange();\n  };\n\n  handleReload = () => {\n    this.fetchFirstIssues();\n    if (isShortLivingBranch(this.props.branchLike) || isPullRequest(this.props.branchLike)) {\n      this.props.onBranchesChange();\n    }\n  };\n\n  handleReloadAndOpenFirst = () => {\n    this.fetchFirstIssues().then(\n      issues => {\n        if (issues.length > 0) {\n          this.openIssue(issues[0].key);\n        }\n      },\n      () => {}\n    );\n  };\n\n  selectLocation = (index?: number) => {\n    this.setState(actions.selectLocation(index));\n  };\n\n  selectNextLocation = () => {\n    this.setState(actions.selectNextLocation);\n  };\n\n  selectPreviousLocation = () => {\n    this.setState(actions.selectPreviousLocation);\n  };\n\n  onCheckAll = (checked: boolean) => {\n    if (checked) {\n      this.setState(state => ({ checked: state.issues.map(issue => issue.key) }));\n    } else {\n      this.setState({ checked: [] });\n    }\n  };\n\n  selectFlow = (index?: number) => {\n    this.setState(actions.selectFlow(index));\n  };\n\n  selectNextFlow = () => {\n    this.setState(actions.selectNextFlow);\n  };\n\n  selectPreviousFlow = () => {\n    this.setState(actions.selectPreviousFlow);\n  };\n\n  renderBulkChange(openIssue: T.Issue | undefined) {\n    const { component, currentUser } = this.props;\n    const { bulkChange, checked, paging, issues } = this.state;\n\n    const isAllChecked = checked.length > 0 && issues.length === checked.length;\n    const thirdState = checked.length > 0 && !isAllChecked;\n    const isChecked = isAllChecked || thirdState;\n\n    if (!currentUser.isLoggedIn || openIssue) {\n      return null;\n    }\n\n    return (\n      <div className=\"pull-left\">\n        <Checkbox\n          checked={isChecked}\n          className=\"spacer-right vertical-middle\"\n          disabled={issues.length === 0}\n          id=\"issues-selection\"\n          onCheck={this.onCheckAll}\n          thirdState={thirdState}\n        />\n        {checked.length > 0 ? (\n          <Dropdown\n            className=\"display-inline-block\"\n            overlay={\n              <ul className=\"menu\">\n                <li>\n                  <a href=\"#\" onClick={this.handleBulkChangeClick}>\n                    {translateWithParameters('issues.bulk_change', paging ? paging.total : 0)}\n                  </a>\n                </li>\n                <li>\n                  <a href=\"#\" onClick={this.handleBulkChangeSelectedClick}>\n                    {translateWithParameters('issues.bulk_change_selected', checked.length)}\n                  </a>\n                </li>\n              </ul>\n            }>\n            <Button id=\"issues-bulk-change\">\n              {translate('bulk_change')}\n              <DropdownIcon className=\"little-spacer-left\" />\n            </Button>\n          </Dropdown>\n        ) : (\n          <Button\n            disabled={issues.length === 0}\n            id=\"issues-bulk-change\"\n            onClick={this.handleBulkChangeClick}>\n            {translate('bulk_change')}\n          </Button>\n        )}\n        {bulkChange && (\n          <BulkChangeModal\n            component={component}\n            currentUser={currentUser}\n            fetchIssues={bulkChange === 'all' ? this.fetchIssues : this.getCheckedIssues}\n            onClose={this.closeBulkChange}\n            onDone={this.handleBulkChangeDone}\n            organization={this.props.organization}\n          />\n        )}\n      </div>\n    );\n  }\n\n  renderFacets() {\n    const { component, currentUser, userOrganizations } = this.props;\n    const { query } = this.state;\n\n    const organizationKey =\n      (component && component.organization) ||\n      (this.props.organization && this.props.organization.key);\n\n    const userOrganization =\n      !isSonarCloud() ||\n      userOrganizations.find(o => {\n        return o.key === organizationKey;\n      });\n    const hideAuthorFacet =\n      this.props.hideAuthorFacet || (isSonarCloud() && this.props.myIssues) || !userOrganization;\n\n    return (\n      <div className=\"layout-page-filters\">\n        {currentUser.isLoggedIn &&\n          !isSonarCloud() && (\n            <MyIssuesFilter\n              myIssues={this.state.myIssues}\n              onMyIssuesChange={this.handleMyIssuesChange}\n            />\n          )}\n        <FiltersHeader displayReset={this.isFiltered()} onReset={this.handleReset} />\n        <Sidebar\n          component={component}\n          facets={this.state.facets}\n          hideAuthorFacet={hideAuthorFacet}\n          loadSearchResultCount={this.loadSearchResultCount}\n          loadingFacets={this.state.loadingFacets}\n          myIssues={this.state.myIssues}\n          onFacetToggle={this.handleFacetToggle}\n          onFilterChange={this.handleFilterChange}\n          openFacets={this.state.openFacets}\n          organization={this.props.organization}\n          query={query}\n          referencedComponentsById={this.state.referencedComponentsById}\n          referencedComponentsByKey={this.state.referencedComponentsByKey}\n          referencedLanguages={this.state.referencedLanguages}\n          referencedRules={this.state.referencedRules}\n          referencedUsers={this.state.referencedUsers}\n        />\n      </div>\n    );\n  }\n\n  renderConciseIssuesList() {\n    const { issues, loadingMore, paging, query } = this.state;\n\n    return (\n      <div className=\"layout-page-filters\">\n        <ConciseIssuesListHeader\n          displayBackButton={query.issues.length !== 1}\n          loading={this.state.loading}\n          onBackClick={this.closeIssue}\n          onReload={this.handleReloadAndOpenFirst}\n          paging={paging}\n          selectedIndex={this.getSelectedIndex()}\n        />\n        <ConciseIssuesList\n          issues={issues}\n          onFlowSelect={this.selectFlow}\n          onIssueSelect={this.openIssue}\n          onLocationSelect={this.selectLocation}\n          selected={this.state.selected}\n          selectedFlowIndex={this.state.selectedFlowIndex}\n          selectedLocationIndex={this.state.selectedLocationIndex}\n        />\n        {paging &&\n          paging.total > 0 && (\n            <ListFooter\n              count={issues.length}\n              loadMore={this.fetchMoreIssues}\n              loading={loadingMore}\n              total={paging.total}\n            />\n          )}\n      </div>\n    );\n  }\n\n  renderSide(openIssue: T.Issue | undefined) {\n    return (\n      <ScreenPositionHelper className=\"layout-page-side-outer\">\n        {({ top }) => (\n          <div className=\"layout-page-side\" style={{ top }}>\n            <div className=\"layout-page-side-inner\">\n              {openIssue ? this.renderConciseIssuesList() : this.renderFacets()}\n            </div>\n          </div>\n        )}\n      </ScreenPositionHelper>\n    );\n  }\n\n  renderList() {\n    const { branchLike, component, currentUser, organization } = this.props;\n    const { issues, loading, loadingMore, openIssue, paging } = this.state;\n    const selectedIndex = this.getSelectedIndex();\n    const selectedIssue = selectedIndex !== undefined ? issues[selectedIndex] : undefined;\n\n    if (!paging || openIssue) {\n      return null;\n    }\n\n    let noIssuesMessage = null;\n    if (paging.total === 0 && !loading) {\n      if (this.isFiltered()) {\n        noIssuesMessage = <EmptySearch />;\n      } else if (this.state.myIssues) {\n        noIssuesMessage = <NoMyIssues />;\n      } else {\n        noIssuesMessage = <NoIssues />;\n      }\n    }\n\n    return (\n      <div>\n        {paging.total > 0 && (\n          <IssuesList\n            branchLike={branchLike}\n            checked={this.state.checked}\n            component={component}\n            issues={issues}\n            onFilterChange={this.handleFilterChange}\n            onIssueChange={this.handleIssueChange}\n            onIssueCheck={currentUser.isLoggedIn ? this.handleIssueCheck : undefined}\n            onIssueClick={this.openIssue}\n            onPopupToggle={this.handlePopupToggle}\n            openPopup={this.state.openPopup}\n            organization={organization}\n            selectedIssue={selectedIssue}\n          />\n        )}\n\n        {paging.total > 0 && (\n          <ListFooter\n            count={issues.length}\n            loadMore={this.fetchMoreIssues}\n            loading={loadingMore}\n            total={paging.total}\n          />\n        )}\n\n        {noIssuesMessage}\n      </div>\n    );\n  }\n\n  renderShortcutsForLocations() {\n    const { openIssue } = this.state;\n    if (!openIssue || (!openIssue.secondaryLocations.length && !openIssue.flows.length)) {\n      return null;\n    }\n    const hasSeveralFlows = openIssue.flows.length > 1;\n    return (\n      <div className=\"pull-right note\">\n        <span className=\"shortcut-button little-spacer-right\">alt</span>\n        <span className=\"little-spacer-right\">{'+'}</span>\n        <span className=\"shortcut-button little-spacer-right\">↑</span>\n        <span className=\"shortcut-button little-spacer-right\">↓</span>\n        {hasSeveralFlows && (\n          <span>\n            <span className=\"shortcut-button little-spacer-right\">←</span>\n            <span className=\"shortcut-button little-spacer-right\">→</span>\n          </span>\n        )}\n        {translate('issues.to_navigate_issue_locations')}\n      </div>\n    );\n  }\n\n  renderPage() {\n    const { loading, openIssue } = this.state;\n    return (\n      <div className=\"layout-page-main-inner\">\n        {openIssue ? (\n          <IssuesSourceViewer\n            branchLike={fillBranchLike(openIssue.branch, openIssue.pullRequest)}\n            loadIssues={this.fetchIssuesForComponent}\n            locationsNavigator={this.state.locationsNavigator}\n            onIssueChange={this.handleIssueChange}\n            onIssueSelect={this.openIssue}\n            onLocationSelect={this.selectLocation}\n            openIssue={openIssue}\n            selectedFlowIndex={this.state.selectedFlowIndex}\n            selectedLocationIndex={this.state.selectedLocationIndex}\n          />\n        ) : (\n          <DeferredSpinner loading={loading}>{this.renderList()}</DeferredSpinner>\n        )}\n      </div>\n    );\n  }\n\n  render() {\n    const { component } = this.props;\n    const { openIssue, paging } = this.state;\n    const selectedIndex = this.getSelectedIndex();\n    return (\n      <div className=\"layout-page issues\" id=\"issues-page\">\n        <Suggestions suggestions=\"issues\" />\n        <Helmet title={openIssue ? openIssue.message : translate('issues.page')} />\n\n        {this.renderSide(openIssue)}\n\n        <div className=\"layout-page-main\">\n          <div className=\"layout-page-header-panel layout-page-main-header issues-main-header\">\n            <div className=\"layout-page-header-panel-inner layout-page-main-header-inner\">\n              <div className=\"layout-page-main-inner\">\n                {this.renderBulkChange(openIssue)}\n                {openIssue ? (\n                  <div className=\"pull-left width-60\">\n                    <ComponentBreadcrumbs\n                      component={component}\n                      issue={openIssue}\n                      organization={this.props.organization}\n                      selectedFlowIndex={this.state.selectedFlowIndex}\n                      selectedLocationIndex={this.state.selectedLocationIndex}\n                    />\n                  </div>\n                ) : (\n                  <PageActions\n                    canSetHome={Boolean(\n                      !this.props.organization &&\n                        !this.props.component &&\n                        (!isSonarCloud() || this.props.myIssues)\n                    )}\n                    effortTotal={this.state.effortTotal}\n                    onReload={this.handleReload}\n                    paging={paging}\n                    selectedIndex={selectedIndex}\n                  />\n                )}\n                {this.renderShortcutsForLocations()}\n              </div>\n            </div>\n          </div>\n\n          {this.renderPage()}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(App);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nconst CLASS_SIDEBAR_PAGE = 'sidebar-page';\nconst CLASS_WHITE_PAGE = 'white-page';\n\nexport function addSideBarClass() {\n  toggleBodyClass(CLASS_SIDEBAR_PAGE, true);\n}\n\nexport function addWhitePageClass() {\n  toggleBodyClass(CLASS_WHITE_PAGE, true);\n}\n\nexport function removeSideBarClass() {\n  toggleBodyClass(CLASS_SIDEBAR_PAGE, false);\n}\n\nexport function removeWhitePageClass() {\n  toggleBodyClass(CLASS_WHITE_PAGE, false);\n}\n\nfunction toggleBodyClass(className: string, force?: boolean) {\n  document.body.classList.toggle(className, force);\n  if (document.documentElement) {\n    document.documentElement.classList.toggle(className, force);\n  }\n}\n","var arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    baseMap = require('./_baseMap'),\n    isArray = require('./isArray');\n\n/**\n * Creates an array of values by running each element in `collection` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n *\n * The guarded methods are:\n * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * _.map([4, 8], square);\n * // => [16, 64]\n *\n * _.map({ 'a': 4, 'b': 8 }, square);\n * // => [16, 64] (iteration order is not guaranteed)\n *\n * var users = [\n *   { 'user': 'barney' },\n *   { 'user': 'fred' }\n * ];\n *\n * // The `_.property` iteratee shorthand.\n * _.map(users, 'user');\n * // => ['barney', 'fred']\n */\nfunction map(collection, iteratee) {\n  var func = isArray(collection) ? arrayMap : baseMap;\n  return func(collection, baseIteratee(iteratee, 3));\n}\n\nmodule.exports = map;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport function collapsePath(path: string, limit = 30): string {\n  if (typeof path !== 'string') {\n    return '';\n  }\n\n  const tokens = path.split('/');\n\n  if (tokens.length <= 2) {\n    return path;\n  }\n\n  const head = tokens[0];\n  const tail = tokens[tokens.length - 1];\n  const middle = tokens.slice(1, -1);\n  let cut = false;\n\n  while (middle.join().length > limit && middle.length > 0) {\n    middle.shift();\n    cut = true;\n  }\n\n  const body = [head, ...(cut ? ['...'] : []), ...middle, tail];\n  return body.join('/');\n}\n\n/**\n * Return a collapsed path without a file name\n * @example\n * // returns 'src/.../js/components/navigator/app/models/'\n * collapsedDirFromPath('src/main/js/components/navigator/app/models/state.js')\n */\nexport function collapsedDirFromPath(path: string | null): string | null {\n  const limit = 30;\n  if (typeof path === 'string') {\n    const tokens = path.split('/').slice(0, -1);\n    if (tokens.length > 2) {\n      const head = tokens[0];\n      const tail = tokens[tokens.length - 1];\n      const middle = tokens.slice(1, -1);\n\n      let cut = false;\n      while (middle.join().length > limit && middle.length > 0) {\n        middle.shift();\n        cut = true;\n      }\n      const body = [head, ...(cut ? ['...'] : []), ...middle, tail];\n      return body.join('/') + '/';\n    } else {\n      return tokens.join('/') + '/';\n    }\n  } else {\n    return null;\n  }\n}\n\n/**\n * Return a file name for a given file path\n * * @example\n * // returns 'state.js'\n * collapsedDirFromPath('src/main/js/components/navigator/app/models/state.js')\n */\nexport function fileFromPath(path: string | null): string | null {\n  if (typeof path === 'string') {\n    const tokens = path.split('/');\n    return tokens[tokens.length - 1];\n  } else {\n    return null;\n  }\n}\n\nexport function splitPath(path: string) {\n  const tokens = path.split('/');\n  return {\n    head: tokens.slice(0, -1).join('/'),\n    tail: tokens[tokens.length - 1]\n  };\n}\n\nexport function limitComponentName(str: string, limit = 30): string {\n  if (typeof str === 'string') {\n    return str.length > limit ? str.substr(0, limit) + '...' : str;\n  } else {\n    return '';\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function VulnerabilityIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M10.8 5H6V3.9a2.28 2.28 0 0 1 2-2.5 2.22 2.22 0 0 1 1.8 1.2.48.48 0 0 0 .7.2.48.48 0 0 0 .2-.7A3 3 0 0 0 8 .4a3.34 3.34 0 0 0-3 3.5v1.2a2.16 2.16 0 0 0-2 2.1v4.4a2.22 2.22 0 0 0 2.2 2.2h5.6a2.22 2.22 0 0 0 2.2-2.2V7.2A2.22 2.22 0 0 0 10.8 5zm-2.2 5.5v1.2H7.4v-1.2a1.66 1.66 0 0 1-1.1-1.6A1.75 1.75 0 0 1 8 7.2a1.71 1.71 0 0 1 .6 3.3z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport BugIcon from '../icons-components/BugIcon';\nimport VulnerabilityIcon from '../icons-components/VulnerabilityIcon';\nimport CodeSmellIcon from '../icons-components/CodeSmellIcon';\nimport SecurityHotspotIcon from '../icons-components/SecurityHotspotIcon';\n\ninterface Props {\n  className?: string;\n  query: string;\n  size?: number;\n}\n\nexport default function IssueTypeIcon({ className, query, size }: Props) {\n  let icon;\n\n  switch (query.toLowerCase()) {\n    case 'bug':\n    case 'bugs':\n    case 'new_bugs':\n      icon = <BugIcon size={size} />;\n      break;\n    case 'vulnerability':\n    case 'vulnerabilities':\n    case 'new_vulnerabilities':\n      icon = <VulnerabilityIcon size={size} />;\n      break;\n    case 'code_smell':\n    case 'code_smells':\n    case 'new_code_smells':\n      icon = <CodeSmellIcon size={size} />;\n      break;\n    case 'security_hotspot':\n    case 'security_hotspots':\n      icon = <SecurityHotspotIcon size={size} />;\n      break;\n  }\n\n  if (!icon) {\n    return null;\n  }\n\n  return className ? <span className={className}>{icon}</span> : icon;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport SeverityIcon from '../icons-components/SeverityIcon';\nimport { translate } from '../../helpers/l10n';\n\ninterface Props {\n  className?: string;\n  severity: string;\n}\n\nexport default function SeverityHelper({ className, severity }: Props) {\n  if (!severity) {\n    return null;\n  }\n  return (\n    <span className={className}>\n      <SeverityIcon className=\"little-spacer-right\" severity={severity} />\n      {translate('severity', severity)}\n    </span>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function BugIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M11 9h1.3l.5.8.8-.5-.8-1.3H11v-.3l2-2.3V3h-1v2l-1 1.2V5c-.1-.8-.7-1.5-1.4-1.9L11 1.8l-.7-.7-1.8 1.6-1.8-1.6-.7.7 1.5 1.3C6.7 3.5 6.1 4.2 6 5v1.1L5 5V3H4v2.3l2 2.3V8H4.2l-.7 1.2.8.5.4-.7H6v.3l-2 1.9V14h1v-2.4l1-1C6 12 7.1 13 8.4 13h.8c.7 0 1.4-.3 1.8-.9.3-.4.3-.9.2-1.4l.9.9V14h1v-2.8l-2-1.9V9zm-2 2H8V6h1v5z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function CodeSmellIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M8 2C4.7 2 2 4.7 2 8s2.7 6 6 6 6-2.7 6-6-2.7-6-6-6zm-.5 5.5h.9v.9h-.9v-.9zm-3.8.2c-.1 0-.2-.1-.2-.2 0-.4.1-1.2.6-2S5.3 4.2 5.6 4c.2 0 .3 0 .3.1l1.3 2.3c0 .1 0 .2-.1.2-.1.2-.2.3-.3.5-.1.2-.2.4-.2.5 0 .1-.1.2-.2.2l-2.7-.1zM9.9 12c-.3.2-1.1.5-2 .5-.9 0-1.7-.3-2-.5-.1 0-.1-.2-.1-.3l1.3-2.3c0-.1.1-.1.2-.1.2.1.3.1.5.1s.4 0 .5-.1c.1 0 .2 0 .2.1l1.3 2.3c.2.2.2.3.1.3zm2.5-4.1L9.7 8c-.1 0-.2-.1-.2-.2 0-.2-.1-.4-.2-.5 0-.1-.2-.3-.3-.4-.1 0-.1-.1-.1-.2l1.3-2.3c.1-.1.2-.1.3-.1.3.2 1 .7 1.5 1.5s.6 1.6.6 2c0 0-.1.1-.2.1z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { post, getJSON, postJSON } from '../helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport interface GetRulesAppResponse {\n  canWrite?: boolean;\n  repositories: { key: string; language: string; name: string }[];\n}\n\nexport function getRulesApp(data: {\n  organization: string | undefined;\n}): Promise<GetRulesAppResponse> {\n  return getJSON('/api/rules/app', data).catch(throwGlobalError);\n}\n\nexport interface SearchRulesResponse {\n  actives?: { [rule: string]: T.RuleActivation[] };\n  facets?: { property: string; values: { count: number; val: string }[] }[];\n  p: number;\n  ps: number;\n  rules: T.Rule[];\n  total: number;\n}\n\nexport function searchRules(data: {\n  organization: string | undefined;\n  [x: string]: any;\n}): Promise<SearchRulesResponse> {\n  return getJSON('/api/rules/search', data).catch(throwGlobalError);\n}\n\nexport function takeFacet(response: any, property: string) {\n  const facet = response.facets.find((facet: any) => facet.property === property);\n  return facet ? facet.values : [];\n}\n\nexport function getRuleDetails(parameters: {\n  actives?: boolean;\n  key: string;\n  organization: string | undefined;\n}): Promise<{ actives?: T.RuleActivation[]; rule: T.RuleDetails }> {\n  return getJSON('/api/rules/show', parameters).catch(throwGlobalError);\n}\n\nexport function getRuleTags(parameters: {\n  organization: string | undefined;\n  ps?: number;\n  q: string;\n}): Promise<string[]> {\n  return getJSON('/api/rules/tags', parameters).then(r => r.tags, throwGlobalError);\n}\n\nexport function createRule(data: {\n  custom_key: string;\n  markdown_description: string;\n  name: string;\n  organization: string | undefined;\n  params?: string;\n  prevent_reactivation?: boolean;\n  severity?: string;\n  status?: string;\n  template_key: string;\n  type?: string;\n}): Promise<T.RuleDetails> {\n  return postJSON('/api/rules/create', data).then(\n    r => r.rule,\n    error => {\n      // do not show global error if the status code is 409\n      // this case should be handled inside a component\n      if (error && error.response && error.response.status === 409) {\n        return Promise.reject(error.response);\n      } else {\n        return throwGlobalError(error);\n      }\n    }\n  );\n}\n\nexport function deleteRule(parameters: { key: string; organization: string | undefined }) {\n  return post('/api/rules/delete', parameters).catch(throwGlobalError);\n}\n\nexport function updateRule(data: {\n  key: string;\n  markdown_description?: string;\n  markdown_note?: string;\n  name?: string;\n  organization: string | undefined;\n  params?: string;\n  remediation_fn_base_effort?: string;\n  remediation_fn_type?: string;\n  remediation_fy_gap_multiplier?: string;\n  severity?: string;\n  status?: string;\n  tags?: string;\n}): Promise<T.RuleDetails> {\n  return postJSON('/api/rules/update', data).then(r => r.rule, throwGlobalError);\n}\n","var baseDifference = require('./_baseDifference'),\n    baseFlatten = require('./_baseFlatten'),\n    baseRest = require('./_baseRest'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Creates an array of `array` values not included in the other given arrays\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons. The order and references of result values are\n * determined by the first array.\n *\n * **Note:** Unlike `_.pullAll`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {...Array} [values] The values to exclude.\n * @returns {Array} Returns the new array of filtered values.\n * @see _.without, _.xor\n * @example\n *\n * _.difference([2, 1], [2, 3]);\n * // => [1]\n */\nvar difference = baseRest(function(array, values) {\n  return isArrayLikeObject(array)\n    ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))\n    : [];\n});\n\nmodule.exports = difference;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function TagsIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M4.303 5.36a.94.94 0 0 0-.944-.945.94.94 0 0 0-.944.944c0 .524.42.944.944.944a.94.94 0 0 0 .944-.944zm7.866 4.246a.95.95 0 0 1-.273.663l-3.62 3.627a.95.95 0 0 1-1.334 0L1.671 8.618C1.295 8.249 1 7.534 1 7.01V3.944A.95.95 0 0 1 1.944 3H5.01c.523 0 1.238.295 1.614.67l5.271 5.265a.98.98 0 0 1 .273.67zm2.831 0a.95.95 0 0 1-.273.663l-3.62 3.627a.98.98 0 0 1-.67.273c-.384 0-.575-.177-.826-.435l3.465-3.465a.95.95 0 0 0 0-1.334L7.805 3.67C7.429 3.295 6.714 3 6.19 3h1.651c.524 0 1.239.295 1.615.67l5.271 5.265a.98.98 0 0 1 .273.67z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\n\ninterface Props {\n  className?: string;\n  children: React.ReactNode;\n  property: string;\n}\n\nexport default function FacetBox(props: Props) {\n  return (\n    <div\n      className={classNames('search-navigator-facet-box', props.className)}\n      data-property={props.property}>\n      {props.children}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport getHistory from './getHistory';\n\nexport default function handleRequiredAuthentication() {\n  const history = getHistory();\n  const returnTo = window.location.pathname + window.location.search + window.location.hash;\n  history.replace({ pathname: '/sessions/new', query: { return_to: returnTo } });\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport OpenCloseIcon from '../icons-components/OpenCloseIcon';\nimport HelpTooltip from '../controls/HelpTooltip';\nimport { Button } from '../ui/buttons';\nimport { translate, translateWithParameters } from '../../helpers/l10n';\n\ninterface Props {\n  children?: React.ReactNode;\n  clearLabel?: string;\n  helper?: string;\n  name: React.ReactNode;\n  onClear?: () => void;\n  onClick?: () => void;\n  open: boolean;\n  values?: string[];\n}\n\nexport default class FacetHeader extends React.PureComponent<Props> {\n  handleClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (this.props.onClick) {\n      this.props.onClick();\n    }\n  };\n\n  renderHelper() {\n    if (!this.props.helper) {\n      return null;\n    }\n    return <HelpTooltip className=\"spacer-left\" overlay={this.props.helper} />;\n  }\n\n  renderValueIndicator() {\n    const { values } = this.props;\n    if (!values || !values.length) {\n      return null;\n    }\n    const value =\n      values.length === 1 ? values[0] : translateWithParameters('x_selected', values.length);\n    return (\n      <span className=\"badge badge-secondary is-rounded text-ellipsis\" title={value}>\n        {value}\n      </span>\n    );\n  }\n\n  render() {\n    const showClearButton =\n      this.props.values != null && this.props.values.length > 0 && this.props.onClear != null;\n\n    return (\n      <div className=\"search-navigator-facet-header-wrapper\">\n        {this.props.onClick ? (\n          <span className=\"search-navigator-facet-header display-flex-center\">\n            <a href=\"#\" onClick={this.handleClick}>\n              <OpenCloseIcon className=\"little-spacer-right\" open={this.props.open} />\n              {this.props.name}\n            </a>\n            {this.renderHelper()}\n          </span>\n        ) : (\n          <span className=\"search-navigator-facet-header display-flex-center\">\n            {this.props.name}\n            {this.renderHelper()}\n          </span>\n        )}\n\n        {this.props.children}\n\n        <span className=\"search-navigator-facet-header-value spacer-left spacer-right \">\n          {this.renderValueIndicator()}\n        </span>\n\n        {showClearButton && (\n          <Button\n            className=\"search-navigator-facet-header-button button-small button-red\"\n            onClick={this.props.onClear}>\n            {translate(this.props.clearLabel || 'clear')}\n          </Button>\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\n\nexport interface Props {\n  active?: boolean;\n  className?: string;\n  disabled?: boolean;\n  halfWidth?: boolean;\n  name: React.ReactNode;\n  onClick: (x: string, multiple?: boolean) => void;\n  stat?: React.ReactNode;\n  /** Textual version of `name` */\n  tooltip: string;\n  value: string;\n}\n\nexport default class FacetItem extends React.PureComponent<Props> {\n  static defaultProps = {\n    disabled: false,\n    halfWidth: false,\n    loading: false\n  };\n\n  handleClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.onClick(this.props.value, event.ctrlKey || event.metaKey);\n  };\n\n  renderValue() {\n    if (this.props.stat == null) {\n      return null;\n    }\n\n    return <span className=\"facet-stat\">{this.props.stat}</span>;\n  }\n\n  render() {\n    const { name } = this.props;\n    const className = classNames('search-navigator-facet', this.props.className, {\n      active: this.props.active,\n      'search-navigator-facet-half': this.props.halfWidth\n    });\n\n    return this.props.disabled ? (\n      <span className={className} data-facet={this.props.value} title={this.props.tooltip}>\n        <span className=\"facet-name\">{name}</span>\n        {this.renderValue()}\n      </span>\n    ) : (\n      <a\n        className={className}\n        data-facet={this.props.value}\n        href=\"#\"\n        onClick={this.handleClick}\n        title={this.props.tooltip}>\n        <span className=\"facet-name\">{name}</span>\n        {this.renderValue()}\n      </a>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\n\ninterface Props {\n  children?: React.ReactNode;\n}\n\nexport default function FacetItemsList(props: Props) {\n  return <div className=\"search-navigator-facet-list\">{props.children}</div>;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { debounce } from 'lodash';\n\ninterface Props {\n  className?: string;\n  children: (position: { top: number; left: number }) => React.ReactElement<any>;\n}\n\nexport default class ScreenPositionHelper extends React.PureComponent<Props> {\n  container?: HTMLDivElement;\n  debouncedOnResize: () => void;\n\n  constructor(props: Props) {\n    super(props);\n    this.debouncedOnResize = debounce(() => this.forceUpdate(), 250);\n  }\n\n  componentDidMount() {\n    this.forceUpdate();\n    window.addEventListener('resize', this.debouncedOnResize);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.debouncedOnResize);\n  }\n\n  getPosition = () => {\n    const containerPos = this.container && this.container.getBoundingClientRect();\n    if (!containerPos) {\n      return { top: 0, left: 0 };\n    }\n    return {\n      top: window.pageYOffset + containerPos.top,\n      left: window.pageXOffset + containerPos.left\n    };\n  };\n\n  render() {\n    return (\n      <div\n        className={this.props.className}\n        ref={container => (this.container = container as HTMLDivElement)}>\n        {this.props.children(this.getPosition())}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\nimport * as theme from '../../app/theme';\n\ninterface Props {\n  className?: string;\n  severity: string | null | undefined;\n}\n\nconst severityIcons: { [x: string]: (props: IconProps) => React.ReactElement<any> } = {\n  blocker: BlockerSeverityIcon,\n  critical: CriticalSeverityIcon,\n  major: MajorSeverityIcon,\n  minor: MinorSeverityIcon,\n  info: InfoSeverityIcon\n};\n\nexport default function SeverityIcon(props: Props) {\n  if (!props.severity) {\n    return null;\n  }\n\n  const severity = props.severity.toLowerCase();\n  const Icon = severityIcons[severity];\n  return Icon ? <Icon className={props.className} /> : null;\n}\n\nfunction BlockerSeverityIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M8 14c-3.311 0-6-2.689-6-6s2.689-6 6-6 6 2.689 6 6-2.689 6-6 6zM7 9h2V4H7v5zm0 3h2v-2H7v2z\"\n        style={{ fill: theme.red, fillRule: 'nonzero' }}\n      />\n    </Icon>\n  );\n}\n\nfunction CriticalSeverityIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M8 2c3.311 0 6 2.689 6 6s-2.689 6-6 6-6-2.689-6-6 2.689-6 6-6zm1 10V7.414l1.893 1.893c.13.124.282.216.457.261a1.006 1.006 0 0 0 1.176-.591 1.01 1.01 0 0 0 .01-.729 1.052 1.052 0 0 0-.229-.355c-1.212-1.212-2.394-2.456-3.638-3.636a1.073 1.073 0 0 0-.169-.123 1.05 1.05 0 0 0-.448-.133h-.104a1.053 1.053 0 0 0-.493.16 1.212 1.212 0 0 0-.162.132C6.08 5.505 4.836 6.687 3.656 7.932a.994.994 0 0 0-.051 1.275c.208.271.548.42.888.389.198-.019.378-.098.535-.218.041-.035.04-.034.079-.071L7 7.414V12h2z\"\n        style={{ fill: theme.red, fillRule: 'nonzero' }}\n      />\n    </Icon>\n  );\n}\n\nfunction MajorSeverityIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M8 2c3.311 0 6 2.689 6 6s-2.689 6-6 6-6-2.689-6-6 2.689-6 6-6zm.08 2.903c.071.008.14.019.208.039.138.042.26.114.37.205 1.244 1.146 2.426 2.357 3.639 3.536.1.103.181.218.234.352a1.01 1.01 0 0 1 .001.728 1.002 1.002 0 0 1-1.169.609 1.042 1.042 0 0 1-.46-.255L8 7.295l-2.903 2.822c-.039.036-.039.036-.08.07a1.002 1.002 0 0 1-1.604-.947c.032-.196.122-.37.253-.519C4.847 7.51 6.09 6.362 7.303 5.183c.052-.048.106-.093.167-.131a1.041 1.041 0 0 1 .61-.149z\"\n        style={{ fill: theme.red }}\n      />\n    </Icon>\n  );\n}\n\nfunction MinorSeverityIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M8 2c3.311 0 6 2.689 6 6s-2.689 6-6 6-6-2.689-6-6 2.689-6 6-6zm1 6.586V4H7v4.586L5.107 6.693a1.178 1.178 0 0 0-.165-.134 1.041 1.041 0 0 0-.662-.152 1 1 0 0 0-.587 1.7c1.212 1.212 2.394 2.456 3.638 3.636.094.08.195.146.311.191a1.008 1.008 0 0 0 1.065-.227c1.213-1.212 2.457-2.394 3.637-3.639a.994.994 0 0 0 .051-1.275 1.012 1.012 0 0 0-.888-.389 1.041 1.041 0 0 0-.535.218c-.04.034-.04.034-.079.071L9 8.586z\"\n        style={{ fill: theme.lightGreen }}\n      />\n    </Icon>\n  );\n}\n\nfunction InfoSeverityIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M8 2c3.311 0 6 2.689 6 6s-2.689 6-6 6-6-2.689-6-6 2.689-6 6-6zm1 5H7v5h2V7zm0-3H7v2h2V4z\"\n        style={{ fill: theme.blue }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function ChevronDownIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M7.72 11.596L3.119 6.992A.382.382 0 0 1 3 6.713c0-.108.04-.2.118-.279l1.03-1.03a.382.382 0 0 1 .278-.117c.108 0 .201.04.28.117L8 8.7l3.294-3.295a.382.382 0 0 1 .28-.117c.108 0 .2.04.279.117l1.03 1.03a.382.382 0 0 1 .117.28c0 .107-.04.2-.118.278L8.28 11.596a.382.382 0 0 1-.279.117.382.382 0 0 1-.28-.117z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { IconProps } from './Icon';\nimport ChevronDownIcon from './ChevronDownIcon';\nimport ChevronRightIcon from './ChevronRightcon';\n\ninterface Props extends IconProps {\n  open: boolean;\n}\n\nexport default function OpenCloseIcon({ open, ...props }: Props) {\n  return open ? <ChevronDownIcon {...props} /> : <ChevronRightIcon {...props} />;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate, translateWithParameters } from '../../helpers/l10n';\nimport { formatMeasure } from '../../helpers/measures';\n\ninterface Props {\n  className?: string;\n  count: number;\n  showMore: () => void;\n  showLess: (() => void) | undefined;\n  total: number;\n}\n\nexport default class ListStyleFacetFooter extends React.PureComponent<Props> {\n  handleShowMoreClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.showMore();\n  };\n\n  handleShowLessClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (this.props.showLess) {\n      this.props.showLess();\n    }\n  };\n\n  render() {\n    const { count, total } = this.props;\n    const hasMore = total > count;\n    const allShown = Boolean(total && total === count);\n\n    return (\n      <footer className=\"note spacer-top spacer-bottom text-center\">\n        {translateWithParameters('x_show', formatMeasure(count, 'INT', null))}\n\n        {hasMore && (\n          <a className=\"spacer-left text-muted\" href=\"#\" onClick={this.handleShowMoreClick}>\n            {translate('show_more')}\n          </a>\n        )}\n\n        {this.props.showLess &&\n          allShown && (\n            <a className=\"spacer-left text-muted\" href=\"#\" onClick={this.handleShowLessClick}>\n              {translate('show_less')}\n            </a>\n          )}\n      </footer>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { sortBy, without } from 'lodash';\nimport FacetBox from './FacetBox';\nimport FacetHeader from './FacetHeader';\nimport FacetItem from './FacetItem';\nimport FacetItemsList from './FacetItemsList';\nimport ListStyleFacetFooter from './ListStyleFacetFooter';\nimport MultipleSelectionHint from './MultipleSelectionHint';\nimport { Alert } from '../ui/Alert';\nimport DeferredSpinner from '../common/DeferredSpinner';\nimport ListFooter from '../controls/ListFooter';\nimport SearchBox from '../controls/SearchBox';\nimport Tooltip from '../controls/Tooltip';\nimport { formatMeasure } from '../../helpers/measures';\nimport { queriesEqual, RawQuery } from '../../helpers/query';\nimport { translate } from '../../helpers/l10n';\n\ninterface SearchResponse<S> {\n  maxResults?: boolean;\n  results: S[];\n  paging?: T.Paging;\n}\n\nexport interface Props<S> {\n  className?: string;\n  disabled?: boolean;\n  disabledHelper?: string;\n  facetHeader: string;\n  fetching: boolean;\n  getFacetItemText: (item: string) => string;\n  getSearchResultKey: (result: S) => string;\n  getSearchResultText: (result: S) => string;\n  loadSearchResultCount?: (result: S[]) => Promise<{ [x: string]: number }>;\n  maxInitialItems: number;\n  maxItems: number;\n  minSearchLength: number;\n  onChange: (changes: { [x: string]: string | string[] }) => void;\n  onClear?: () => void;\n  onItemClick?: (itemValue: string, multiple: boolean) => void;\n  onSearch: (query: string, page?: number) => Promise<SearchResponse<S>>;\n  onToggle: (property: string) => void;\n  open: boolean;\n  property: string;\n  query?: RawQuery;\n  renderFacetItem: (item: string) => React.ReactNode;\n  renderSearchResult: (result: S, query: string) => React.ReactNode;\n  searchPlaceholder: string;\n  getSortedItems?: () => string[];\n  stats: { [x: string]: number } | undefined;\n  values: string[];\n}\n\ninterface State<S> {\n  autoFocus: boolean;\n  query: string;\n  searching: boolean;\n  searchMaxResults?: boolean;\n  searchPaging?: T.Paging;\n  searchResults?: S[];\n  searchResultsCounts: { [key: string]: number };\n  showFullList: boolean;\n}\n\nexport default class ListStyleFacet<S> extends React.Component<Props<S>, State<S>> {\n  mounted = false;\n\n  static defaultProps = {\n    maxInitialItems: 15,\n    maxItems: 100,\n    minSearchLength: 2\n  };\n\n  state: State<S> = {\n    autoFocus: false,\n    query: '',\n    searching: false,\n    searchResultsCounts: {},\n    showFullList: false\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentDidUpdate(prevProps: Props<S>) {\n    if (!prevProps.open && this.props.open) {\n      // focus search field *only* if it was manually open\n      this.setState({ autoFocus: true });\n    } else if (\n      (prevProps.open && !this.props.open) ||\n      !queriesEqual(prevProps.query || {}, this.props.query || {})\n    ) {\n      // reset state when closing the facet, or when query changes\n      this.setState({\n        query: '',\n        searchMaxResults: undefined,\n        searchResults: undefined,\n        searching: false,\n        searchResultsCounts: {},\n        showFullList: false\n      });\n    } else if (\n      prevProps.stats !== this.props.stats &&\n      Object.keys(this.props.stats || {}).length < this.props.maxInitialItems\n    ) {\n      // show limited list if `stats` changed and there are less than 15 items\n      this.setState({ showFullList: false });\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    if (this.props.onItemClick) {\n      this.props.onItemClick(itemValue, multiple);\n    } else {\n      const { values } = this.props;\n      if (multiple) {\n        const newValue = sortBy(\n          values.includes(itemValue) ? without(values, itemValue) : [...values, itemValue]\n        );\n        this.props.onChange({ [this.props.property]: newValue });\n      } else {\n        this.props.onChange({\n          [this.props.property]: values.includes(itemValue) && values.length < 2 ? [] : [itemValue]\n        });\n      }\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.props.property);\n  };\n\n  handleClear = () => {\n    if (this.props.onClear) {\n      this.props.onClear();\n    } else this.props.onChange({ [this.props.property]: [] });\n  };\n\n  stopSearching = () => {\n    if (this.mounted) {\n      this.setState({ searching: false });\n    }\n  };\n\n  search = (query: string) => {\n    if (query.length >= this.props.minSearchLength) {\n      this.setState({ query, searching: true });\n      this.props\n        .onSearch(query)\n        .then(this.loadCountsForSearchResults)\n        .then(({ maxResults, paging, results, stats }) => {\n          if (this.mounted) {\n            this.setState(state => ({\n              searching: false,\n              searchMaxResults: maxResults,\n              searchResults: results,\n              searchPaging: paging,\n              searchResultsCounts: { ...state.searchResultsCounts, ...stats }\n            }));\n          }\n        })\n        .catch(this.stopSearching);\n    } else {\n      this.setState({ query, searching: false, searchResults: [] });\n    }\n  };\n\n  searchMore = () => {\n    const { query, searchPaging, searchResults } = this.state;\n    if (query && searchResults && searchPaging) {\n      this.setState({ searching: true });\n      this.props\n        .onSearch(query, searchPaging.pageIndex + 1)\n        .then(this.loadCountsForSearchResults)\n        .then(({ paging, results, stats }) => {\n          if (this.mounted) {\n            this.setState(state => ({\n              searching: false,\n              searchResults: [...searchResults, ...results],\n              searchPaging: paging,\n              searchResultsCounts: { ...state.searchResultsCounts, ...stats }\n            }));\n          }\n        })\n        .catch(this.stopSearching);\n    }\n  };\n\n  loadCountsForSearchResults = (response: SearchResponse<S>) => {\n    const { loadSearchResultCount = () => Promise.resolve({}) } = this.props;\n    const resultsToLoad = response.results.filter(result => {\n      const key = this.props.getSearchResultKey(result);\n      return this.getStat(key) === undefined && this.state.searchResultsCounts[key] === undefined;\n    });\n    if (resultsToLoad.length > 0) {\n      return loadSearchResultCount(resultsToLoad).then(stats => ({ ...response, stats }));\n    } else {\n      return { ...response, stats: {} };\n    }\n  };\n\n  getStat(item: string) {\n    const { stats } = this.props;\n    return stats && stats[item] !== undefined ? stats && stats[item] : undefined;\n  }\n\n  showFullList = () => {\n    this.setState({ showFullList: true });\n  };\n\n  hideFullList = () => {\n    this.setState({ showFullList: false });\n  };\n\n  renderList() {\n    const { stats } = this.props;\n\n    if (!stats) {\n      return null;\n    }\n\n    const sortedItems = this.props.getSortedItems\n      ? this.props.getSortedItems()\n      : sortBy(Object.keys(stats), key => -stats[key], key => this.props.getFacetItemText(key));\n\n    const limitedList = this.state.showFullList\n      ? sortedItems\n      : sortedItems.slice(0, this.props.maxInitialItems);\n\n    // make sure all selected items are displayed\n    const selectedBelowLimit = this.state.showFullList\n      ? []\n      : sortedItems\n          .slice(this.props.maxInitialItems)\n          .filter(item => this.props.values.includes(item));\n\n    const mightHaveMoreResults = sortedItems.length >= this.props.maxItems;\n\n    return (\n      <>\n        <FacetItemsList>\n          {limitedList.map(item => (\n            <FacetItem\n              active={this.props.values.includes(item)}\n              key={item}\n              name={this.props.renderFacetItem(item)}\n              onClick={this.handleItemClick}\n              stat={formatFacetStat(this.getStat(item))}\n              tooltip={this.props.getFacetItemText(item)}\n              value={item}\n            />\n          ))}\n        </FacetItemsList>\n        {selectedBelowLimit.length > 0 && (\n          <>\n            <div className=\"note spacer-bottom text-center\">⋯</div>\n            <FacetItemsList>\n              {selectedBelowLimit.map(item => (\n                <FacetItem\n                  active={true}\n                  key={item}\n                  name={this.props.renderFacetItem(item)}\n                  onClick={this.handleItemClick}\n                  stat={formatFacetStat(this.getStat(item))}\n                  tooltip={this.props.getFacetItemText(item)}\n                  value={item}\n                />\n              ))}\n            </FacetItemsList>\n          </>\n        )}\n        <ListStyleFacetFooter\n          count={limitedList.length + selectedBelowLimit.length}\n          showLess={this.state.showFullList ? this.hideFullList : undefined}\n          showMore={this.showFullList}\n          total={sortedItems.length}\n        />\n        {mightHaveMoreResults &&\n          this.state.showFullList && (\n            <Alert className=\"spacer-top\" variant=\"warning\">\n              {translate('facet_might_have_more_results')}\n            </Alert>\n          )}\n      </>\n    );\n  }\n\n  renderSearch() {\n    if (!this.props.stats || !Object.keys(this.props.stats).length) {\n      return null;\n    }\n\n    return (\n      <SearchBox\n        autoFocus={this.state.autoFocus}\n        className=\"little-spacer-top spacer-bottom\"\n        loading={this.state.searching}\n        minLength={this.props.minSearchLength}\n        onChange={this.search}\n        placeholder={this.props.searchPlaceholder}\n        value={this.state.query}\n      />\n    );\n  }\n\n  renderSearchResults() {\n    const { searching, searchMaxResults, searchResults, searchPaging } = this.state;\n\n    if (!searching && (!searchResults || !searchResults.length)) {\n      return <div className=\"note spacer-bottom\">{translate('no_results')}</div>;\n    }\n\n    if (!searchResults) {\n      // initial search\n      return null;\n    }\n\n    return (\n      <>\n        <FacetItemsList>\n          {searchResults.map(result => this.renderSearchResult(result))}\n        </FacetItemsList>\n        {searchMaxResults && (\n          <Alert className=\"spacer-top\" variant=\"warning\">\n            {translate('facet_might_have_more_results')}\n          </Alert>\n        )}\n        {searchPaging && (\n          <ListFooter\n            className=\"spacer-bottom\"\n            count={searchResults.length}\n            loadMore={this.searchMore}\n            ready={!searching}\n            total={searchPaging.total}\n          />\n        )}\n      </>\n    );\n  }\n\n  renderSearchResult(result: S) {\n    const key = this.props.getSearchResultKey(result);\n    const active = this.props.values.includes(key);\n    const stat = this.getStat(key) || this.state.searchResultsCounts[key];\n    const disabled = !active && stat === 0;\n    return (\n      <FacetItem\n        active={active}\n        disabled={disabled}\n        key={key}\n        name={this.props.renderSearchResult(result, this.state.query)}\n        onClick={this.handleItemClick}\n        stat={formatFacetStat(stat)}\n        tooltip={this.props.getSearchResultText(result)}\n        value={key}\n      />\n    );\n  }\n\n  render() {\n    const { disabled, stats = {} } = this.props;\n    const { query, searching, searchResults } = this.state;\n    const values = this.props.values.map(item => this.props.getFacetItemText(item));\n    const loadingResults =\n      query !== '' && searching && (searchResults === undefined || searchResults.length === 0);\n    const showList = !query || loadingResults;\n    return (\n      <FacetBox\n        className={classNames(this.props.className, {\n          'search-navigator-facet-box-forbidden': disabled\n        })}\n        property={this.props.property}>\n        <FacetHeader\n          name={\n            <Tooltip overlay={disabled ? this.props.disabledHelper : undefined}>\n              <span>{this.props.facetHeader}</span>\n            </Tooltip>\n          }\n          onClear={this.handleClear}\n          onClick={disabled ? undefined : this.handleHeaderClick}\n          open={this.props.open && !disabled}\n          values={values}\n        />\n\n        <DeferredSpinner loading={this.props.fetching} />\n        {this.props.open &&\n          !disabled && (\n            <>\n              {this.renderSearch()}\n              {showList ? this.renderList() : this.renderSearchResults()}\n              <MultipleSelectionHint options={Object.keys(stats).length} values={values.length} />\n            </>\n          )}\n      </FacetBox>\n    );\n  }\n}\n\nfunction formatFacetStat(stat: number | undefined) {\n  return stat && formatMeasure(stat, 'SHORT_INT');\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function SecurityHotspotIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <g style={{ fill }}>\n        <path\n          d=\"M10.238 2.416c-0.432-0.895-1.259-1.504-2.202-1.504-1.386 0-2.521 1.318-2.521 2.927v5.481\"\n          fill=\"none\"\n          stroke={fill}\n          strokeLinecap=\"round\"\n          strokeWidth=\"1.1429\"\n        />\n        <path d=\"M8.537 10.372v1.199h-1.099v-1.199c-0.638-0.228-1.099-0.832-1.099-1.546 0-0.909 0.739-1.649 1.648-1.649s1.649 0.74 1.649 1.649c0 0.715-0.461 1.32-1.099 1.546zM10.734 4.979h-5.494c-1.21 0-2.199 0.989-2.199 2.197v4.395c0 1.21 0.989 2.199 2.199 2.199h5.494c1.209 0 2.197-0.989 2.197-2.199v-4.395c0-1.209-0.989-2.197-2.197-2.197z\" />\n        <path d=\"M4.030 6.352h6.923v6.923h-6.923z\" />\n        <path\n          d=\"M7.504 10.283c0-0.423 0.048-0.757 0.144-1.002s0.251-0.457 0.465-0.637c0.215-0.18 0.377-0.344 0.489-0.493s0.167-0.313 0.167-0.493c0-0.438-0.189-0.656-0.565-0.656-0.174 0-0.314 0.064-0.421 0.191s-0.164 0.3-0.17 0.518h-1.469c0.006-0.58 0.189-1.031 0.548-1.354s0.864-0.485 1.513-0.485c0.646 0 1.147 0.149 1.501 0.447s0.532 0.723 0.532 1.274c0 0.241-0.048 0.459-0.144 0.656s-0.249 0.398-0.46 0.604l-0.5 0.465c-0.142 0.136-0.241 0.276-0.296 0.42s-0.086 0.325-0.091 0.545h-1.243zM7.326 11.604c0-0.215 0.078-0.39 0.233-0.528s0.349-0.207 0.58-0.207c0.232 0 0.425 0.068 0.58 0.207s0.233 0.313 0.233 0.528-0.078 0.39-0.233 0.528c-0.155 0.138-0.349 0.207-0.58 0.207s-0.425-0.068-0.58-0.207c-0.155-0.138-0.233-0.313-0.233-0.528z\"\n          fill=\"#fff\"\n        />\n      </g>\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\n\nexport function highlightTerm(str: string, term: string) {\n  const pos = str.toLowerCase().indexOf(term.toLowerCase());\n  return pos !== -1 ? (\n    <>\n      {pos > 0 && str.substring(0, pos)}\n      <mark>{str.substr(pos, term.length)}</mark>\n      {pos + term.length < str.length && str.substring(pos + term.length)}\n    </>\n  ) : (\n    str\n  );\n}\n","var isSymbol = require('./isSymbol');\n\n/**\n * The base implementation of methods like `_.max` and `_.min` which accepts a\n * `comparator` to determine the extremum value.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The iteratee invoked per iteration.\n * @param {Function} comparator The comparator used to compare values.\n * @returns {*} Returns the extremum value.\n */\nfunction baseExtremum(array, iteratee, comparator) {\n  var index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    var value = array[index],\n        current = iteratee(value);\n\n    if (current != null && (computed === undefined\n          ? (current === current && !isSymbol(current))\n          : comparator(current, computed)\n        )) {\n      var computed = current,\n          result = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseExtremum;\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./TagsList.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./TagsList.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./TagsList.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport DropdownIcon from '../icons-components/DropdownIcon';\nimport TagsIcon from '../icons-components/TagsIcon';\nimport './TagsList.css';\n\ninterface Props {\n  allowUpdate?: boolean;\n  className?: string;\n  tags: string[];\n}\n\nexport default function TagsList({ allowUpdate = false, className, tags }: Props) {\n  return (\n    <span className={classNames('tags-list', className)} title={tags.join(', ')}>\n      <TagsIcon className=\"text-middle\" />\n      <span className=\"text-ellipsis text-middle\">{tags.join(', ')}</span>\n      {allowUpdate && <DropdownIcon className=\"text-middle\" />}\n    </span>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function LinkIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <g transform=\"matrix(0.823497,0,0,0.823497,1.47008,1.4122)\">\n        <path\n          d=\"M13.501,11.429C13.501,11.191 13.418,10.989 13.251,10.822L11.394,8.965C11.227,8.798 11.025,8.715 10.787,8.715C10.537,8.715 10.323,8.81 10.144,9.001C10.162,9.019 10.219,9.074 10.314,9.166C10.409,9.258 10.473,9.322 10.506,9.358C10.539,9.394 10.583,9.451 10.64,9.528C10.697,9.605 10.735,9.681 10.756,9.756C10.777,9.831 10.787,9.913 10.787,10.002C10.787,10.24 10.704,10.442 10.537,10.609C10.37,10.776 10.168,10.859 9.93,10.859C9.841,10.859 9.759,10.849 9.684,10.828C9.609,10.807 9.533,10.769 9.456,10.712C9.379,10.655 9.322,10.611 9.286,10.578C9.25,10.545 9.186,10.481 9.094,10.386C9.002,10.291 8.947,10.234 8.929,10.216C8.732,10.401 8.634,10.618 8.634,10.868C8.634,11.106 8.717,11.308 8.884,11.475L10.723,13.323C10.884,13.484 11.086,13.564 11.33,13.564C11.568,13.564 11.77,13.487 11.937,13.332L13.25,12.028C13.417,11.861 13.5,11.662 13.5,11.43L13.501,11.429ZM7.224,5.134C7.224,4.896 7.141,4.694 6.974,4.527L5.135,2.679C4.968,2.512 4.766,2.429 4.528,2.429C4.296,2.429 4.094,2.509 3.921,2.67L2.608,3.974C2.441,4.141 2.358,4.34 2.358,4.572C2.358,4.81 2.441,5.012 2.608,5.179L4.465,7.036C4.626,7.197 4.828,7.277 5.072,7.277C5.322,7.277 5.536,7.185 5.715,7C5.697,6.982 5.64,6.927 5.545,6.835C5.45,6.743 5.386,6.679 5.353,6.643C5.32,6.607 5.276,6.55 5.219,6.473C5.162,6.396 5.124,6.32 5.103,6.245C5.082,6.17 5.072,6.088 5.072,5.999C5.072,5.761 5.155,5.559 5.322,5.392C5.489,5.225 5.691,5.142 5.929,5.142C6.018,5.142 6.1,5.152 6.175,5.173C6.25,5.194 6.326,5.232 6.403,5.289C6.48,5.346 6.537,5.39 6.573,5.423C6.609,5.456 6.673,5.52 6.765,5.615C6.857,5.71 6.912,5.767 6.93,5.785C7.127,5.6 7.225,5.383 7.225,5.133L7.224,5.134ZM15.215,11.429C15.215,12.143 14.962,12.747 14.456,13.242L13.143,14.546C12.649,15.04 12.045,15.287 11.33,15.287C10.61,15.287 10.003,15.034 9.509,14.528L7.67,12.68C7.176,12.186 6.929,11.582 6.929,10.867C6.929,10.135 7.191,9.513 7.715,9.001L6.929,8.215C6.417,8.739 5.798,9.001 5.072,9.001C4.358,9.001 3.751,8.751 3.251,8.251L1.394,6.394C0.894,5.894 0.644,5.287 0.644,4.573C0.644,3.859 0.897,3.255 1.403,2.76L2.716,1.456C3.21,0.962 3.814,0.715 4.529,0.715C5.249,0.715 5.856,0.968 6.35,1.474L8.189,3.322C8.683,3.816 8.93,4.42 8.93,5.135C8.93,5.867 8.668,6.489 8.144,7.001L8.93,7.787C9.442,7.263 10.061,7.001 10.787,7.001C11.501,7.001 12.108,7.251 12.608,7.751L14.465,9.608C14.965,10.108 15.215,10.715 15.215,11.429L15.215,11.429Z\"\n          style={{ fill }}\n        />\n      </g>\n    </Icon>\n  );\n}\n","\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--6-1!../../../../node_modules/postcss-loader/src/index.js??postcss!./search-navigator.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--6-1!../../../../node_modules/postcss-loader/src/index.js??postcss!./search-navigator.css\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--6-1!../../../../node_modules/postcss-loader/src/index.js??postcss!./search-navigator.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * SonarQube\\n * Copyright (C) 2009-2019 SonarSource SA\\n * mailto:info AT sonarsource DOT com\\n *\\n * This program is free software; you can redistribute it and/or\\n * modify it under the terms of the GNU Lesser General Public\\n * License as published by the Free Software Foundation; either\\n * version 3 of the License, or (at your option) any later version.\\n *\\n * This program is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\\n * Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with this program; if not, write to the Free Software Foundation,\\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\\n */\\n/* TODO this file is HUGE and should be cut into smaller components */\\n\\n.search-navigator.sticky .search-navigator-workspace-header {\\n  position: fixed;\\n  z-index: 50;\\n  top: 0;\\n  left: 300px;\\n  right: 0;\\n}\\n\\n.search-navigator.sticky .search-navigator-workspace-list,\\n.search-navigator.sticky .search-navigator-workspace-details {\\n  padding-top: 43px;\\n}\\n\\n.search-navigator-facet-box {\\n  background-color: #f3f3f3;\\n  font-size: 13px;\\n}\\n\\n.search-navigator-facet-box.leak-facet-box {\\n  background-color: #fbf3d5;\\n  border: 1px solid #eae3c7;\\n}\\n\\n.search-navigator-facet-box.is-inner {\\n  margin-left: 8px;\\n  padding-left: 12px;\\n  border-left: 1px solid #e6e6e6;\\n}\\n\\n.search-navigator-facet-box.is-inner .search-navigator-facet-header {\\n  padding-top: 6px;\\n  padding-bottom: 6px;\\n}\\n\\n.leak-facet-box:not(.hidden) + .leak-facet-box {\\n  border-top: none;\\n}\\n\\n.search-navigator-facet-box-forbidden {\\n  background-color: transparent;\\n  opacity: 0.5;\\n}\\n\\n.search-navigator-facet-box-forbidden .search-navigator-facet-list,\\n.search-navigator-facet-box-forbidden .search-navigator-facet-empty,\\n.search-navigator-facet-box-forbidden .search-navigator-facet-container {\\n  display: none;\\n}\\n\\n.search-navigator-facet-box-forbidden .search-navigator-facet-header {\\n  color: #777;\\n}\\n\\n.search-navigator-facet-box-forbidden .search-navigator-facet-header:hover {\\n  color: #4b9fd5;\\n}\\n\\n.search-navigator-facet-box-forbidden .search-navigator-facet-header {\\n  cursor: default;\\n}\\n\\n.search-navigator-facet-box-forbidden .search-navigator-facet-header:hover {\\n  color: #777;\\n}\\n\\n.search-navigator-facet-box > .spinner {\\n  float: right;\\n  margin-top: -24px;\\n}\\n\\n.search-navigator-facet {\\n  position: relative;\\n  display: inline-flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  width: 100%;\\n  height: 24px;\\n  margin: 0 0 1px 0;\\n  padding: 0 6px;\\n  border: 1px solid transparent;\\n  border-radius: 2px;\\n  box-sizing: border-box;\\n  white-space: normal;\\n  opacity: 0.3;\\n  cursor: not-allowed;\\n  transition: none;\\n}\\n\\na.search-navigator-facet {\\n  opacity: 1;\\n  cursor: pointer;\\n}\\n\\na.search-navigator-facet .facet-name {\\n  color: #444;\\n}\\n\\na.search-navigator-facet:hover,\\na.search-navigator-facet:focus,\\n.search-navigator-facet.active {\\n  border-color: #4b9fd5;\\n}\\n\\n.search-navigator-facet.facet-category {\\n  opacity: 1;\\n  cursor: default;\\n}\\n\\n.search-navigator-facet.facet-category .facet-name {\\n  color: #777;\\n}\\n\\n.search-navigator-facet .facet-name {\\n  flex: 1 1 auto;\\n  min-width: 0;\\n  line-height: 16px;\\n  padding: 1px 0; /* needed to fit small ratings and levels */\\n  color: #777;\\n  font-size: 12px;\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n}\\n\\n.search-navigator-facet .facet-stat {\\n  display: flex;\\n  align-items: center;\\n  margin-left: 8px;\\n  color: #777;\\n  font-size: 12px;\\n}\\n\\n.search-navigator-facet .facet-toggle {\\n  display: none;\\n  float: left;\\n  height: 16px;\\n  line-height: 16px;\\n  margin-top: -1px;\\n  padding: 0 5px;\\n  border-radius: 2px;\\n  font-size: 11px;\\n  text-transform: lowercase;\\n}\\n\\n.search-navigator-facet .facet-toggle:hover {\\n  color: #444;\\n}\\n\\n.search-navigator-facet .facet-toggle-active.facet-toggle-green {\\n  background-color: #00aa00;\\n  color: #ffffff;\\n}\\n\\n.search-navigator-facet .facet-toggle-active.facet-toggle-red {\\n  background-color: #d4333f;\\n  color: #ffffff;\\n}\\n\\n.leak-facet-box .search-navigator-facet .facet-name {\\n  background-color: #fbf3d5;\\n}\\n\\n.leak-facet-box .search-navigator-facet .facet-stat {\\n  background-color: #fbf3d5;\\n}\\n\\n.leak-facet-box .search-navigator-facet .facet-stat:before {\\n  background-image: linear-gradient(to right, rgba(251, 243, 213, 0), #fbf3d5 75%);\\n}\\n\\n.search-navigator-facet.active {\\n  background-color: #cae3f2;\\n  text-decoration: none;\\n}\\n\\n.search-navigator-facet.active .facet-toggle {\\n  display: inline;\\n}\\n\\n.search-navigator-facet.compare .facet-toggle {\\n  cursor: not-allowed;\\n  opacity: 0.5;\\n}\\n\\n.search-navigator-facet.compare .facet-toggle.facet-toggle-green {\\n  background-color: #00aa00;\\n  color: #ffffff;\\n}\\n\\n.search-navigator-facet.compare .facet-toggle.facet-toggle-red {\\n  background-color: transparent;\\n  color: #777;\\n}\\n\\n.search-navigator-facet-half {\\n  width: 45%;\\n}\\n\\n.search-navigator-facet-half:nth-child(odd) {\\n  margin-right: 10%;\\n}\\n\\n.search-navigator-facet-highlight-under-container {\\n  margin-bottom: 1px;\\n}\\n\\n.search-navigator-facet-highlight-under-container .search-navigator-facet {\\n  margin-bottom: 0;\\n}\\n\\n.search-navigator-facet-highlight-under-container .search-navigator-facet:hover,\\n.search-navigator-facet-highlight-under-container .search-navigator-facet.active {\\n  border-bottom: none;\\n  padding-bottom: 1px;\\n  border-radius: 2px 2px 0 0;\\n}\\n\\n.search-navigator-facet-highlight-under-container\\n  .search-navigator-facet:hover\\n  ~ .search-navigator-facet,\\n.search-navigator-facet-highlight-under-container\\n  .search-navigator-facet.active\\n  ~ .search-navigator-facet {\\n  border-top: none;\\n  border-bottom: none;\\n  border-left-color: #4b9fd5;\\n  border-right-color: #4b9fd5;\\n  border-radius: 0;\\n}\\n\\n.search-navigator-facet-highlight-under-container\\n  .search-navigator-facet:hover\\n  ~ .search-navigator-facet:last-of-type,\\n.search-navigator-facet-highlight-under-container\\n  .search-navigator-facet.active\\n  ~ .search-navigator-facet:last-of-type {\\n  border-bottom: 1px solid #4b9fd5;\\n  border-radius: 0 0 2px 2px;\\n}\\n\\n.search-navigator-facet-highlight-under-container .search-navigator-facet:hover:last-of-type,\\n.search-navigator-facet-highlight-under-container .search-navigator-facet.active:last-of-type {\\n  border-bottom: 1px solid #4b9fd5;\\n  border-radius: 2px;\\n}\\n\\n.search-navigator-facet-highlight-under-container\\n  .search-navigator-facet.active\\n  ~ .search-navigator-facet {\\n  background-color: #cae3f2;\\n  text-decoration: none;\\n}\\n\\n.search-navigator-facet-highlight-under-container\\n  .search-navigator-facet.active\\n  ~ .search-navigator-facet\\n  .facet-toggle {\\n  display: inline;\\n}\\n\\n.search-navigator-facet-highlight-under-container\\n  .search-navigator-facet.active\\n  ~ .search-navigator-facet:hover,\\n.search-navigator-facet-highlight-under-container\\n  .search-navigator-facet:hover\\n  ~ .search-navigator-facet.active {\\n  border-top: 1px solid #4b9fd5;\\n}\\n\\n.search-navigator-facet-highlight-under-container\\n  .search-navigator-facet.active\\n  ~ .search-navigator-facet:hover,\\n.search-navigator-facet-highlight-under-container\\n  .search-navigator-facet.active\\n  ~ .search-navigator-facet:hover\\n  ~ .search-navigator-facet {\\n  background-color: #a1cde8;\\n  text-decoration: none;\\n}\\n\\n.search-navigator-facet-highlight-under-container\\n  .search-navigator-facet.active\\n  ~ .search-navigator-facet:hover\\n  .facet-toggle,\\n.search-navigator-facet-highlight-under-container\\n  .search-navigator-facet.active\\n  ~ .search-navigator-facet:hover\\n  ~ .search-navigator-facet\\n  .facet-toggle {\\n  display: inline;\\n}\\n\\n.search-navigator-facet-header {\\n  display: block;\\n  flex-shrink: 0;\\n  padding: 8px 0;\\n  color: #444;\\n  font-weight: 600;\\n  overflow: hidden;\\n  white-space: nowrap;\\n}\\n\\n.search-navigator-facet-header > a {\\n  border-bottom: none;\\n  color: #444;\\n}\\n\\n.search-navigator-facet-header > a:hover {\\n  color: #4b9fd5;\\n}\\n\\n.search-navigator-facet-header > .note {\\n  font-weight: 400;\\n}\\n\\n.search-navigator-facet-header-value {\\n  display: block;\\n  overflow: hidden;\\n}\\n\\n.search-navigator-facet-header-value > .badge {\\n  display: block;\\n}\\n\\n.search-navigator-facet-header-button {\\n  flex-shrink: 0;\\n  margin-left: auto;\\n}\\n\\n.search-navigator-facet-header-wrapper {\\n  display: flex;\\n  align-items: center;\\n}\\n\\n.search-navigator-facet-list {\\n  padding-bottom: 8px;\\n  font-size: 0;\\n}\\n\\n.search-navigator-facet-empty {\\n  margin: 0 0 0 0;\\n  padding: 0 10px 10px;\\n  color: #444;\\n  font-size: 12px;\\n  white-space: nowrap;\\n}\\n\\n.search-navigator-facet-footer {\\n  display: block;\\n  padding-bottom: 8px;\\n  border-bottom: none;\\n}\\n\\n.search-navigator-facet-container {\\n  margin-top: 6px;\\n  padding: 0 10px 16px;\\n}\\n\\n.search-navigator-date-facet-selection {\\n  position: relative;\\n  padding-left: 8px;\\n  font-size: 12px;\\n}\\n\\n.search-navigator-date-facet-selection:before,\\n.search-navigator-date-facet-selection:after {\\n  display: table;\\n  content: '';\\n  line-height: 0;\\n}\\n\\n.search-navigator-date-facet-selection:after {\\n  clear: both;\\n}\\n\\n.search-navigator-date-facet-selection .date-input-control-input {\\n  width: 115px !important;\\n}\\n\\n.search-navigator-date-facet-selection-dropdown-left {\\n  float: left;\\n  border-bottom: none;\\n}\\n\\n.search-navigator-date-facet-selection-dropdown-right {\\n  float: right;\\n  border-bottom: none;\\n}\\n\\n.search-navigator-date-facet-selection-input-left {\\n  position: absolute;\\n  left: 0;\\n  width: 100px;\\n  visibility: hidden;\\n}\\n\\n.search-navigator-date-facet-selection-input-right {\\n  position: absolute;\\n  right: 0;\\n  width: 100px;\\n  visibility: hidden;\\n}\\n\\n.search-navigator-date-facet-selection\\n  .date-input-control:not(:nth-of-type(1))\\n  .date-input-calendar {\\n  left: auto;\\n  right: 0;\\n}\\n\\n.search-navigator-filters {\\n  position: relative;\\n  padding: 5px 10px;\\n  background-color: #f3f3f3;\\n}\\n\\n.search-navigator-filters:before,\\n.search-navigator-filters:after {\\n  display: table;\\n  content: '';\\n  line-height: 0;\\n}\\n\\n.search-navigator-filters:after {\\n  clear: both;\\n}\\n\\n.search-navigator-filters-header {\\n  margin-bottom: 12px;\\n  padding-bottom: 11px;\\n  border-bottom: 1px solid #e6e6e6;\\n}\\n.search-navigator-intro {\\n  width: 500px;\\n  margin: 0 auto;\\n  padding-top: 100px;\\n}\\n\", \"\"]);\n\n// exports\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from '../lazyLoad';\n\nconst SourceViewer = lazyLoad(() => import(/* webpackPrefetch: true */ './SourceViewerBase'));\nexport default SourceViewer;\n","var baseOrderBy = require('./_baseOrderBy'),\n    isArray = require('./isArray');\n\n/**\n * This method is like `_.sortBy` except that it allows specifying the sort\n * orders of the iteratees to sort by. If `orders` is unspecified, all values\n * are sorted in ascending order. Otherwise, specify an order of \"desc\" for\n * descending or \"asc\" for ascending sort order of corresponding values.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Array[]|Function[]|Object[]|string[]} [iteratees=[_.identity]]\n *  The iteratees to sort by.\n * @param {string[]} [orders] The sort orders of `iteratees`.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n * @returns {Array} Returns the new sorted array.\n * @example\n *\n * var users = [\n *   { 'user': 'fred',   'age': 48 },\n *   { 'user': 'barney', 'age': 34 },\n *   { 'user': 'fred',   'age': 40 },\n *   { 'user': 'barney', 'age': 36 }\n * ];\n *\n * // Sort by `user` in ascending order and by `age` in descending order.\n * _.orderBy(users, ['user', 'age'], ['asc', 'desc']);\n * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n */\nfunction orderBy(collection, iteratees, orders, guard) {\n  if (collection == null) {\n    return [];\n  }\n  if (!isArray(iteratees)) {\n    iteratees = iteratees == null ? [] : [iteratees];\n  }\n  orders = guard ? undefined : orders;\n  if (!isArray(orders)) {\n    orders = orders == null ? [] : [orders];\n  }\n  return baseOrderBy(collection, iteratees, orders);\n}\n\nmodule.exports = orderBy;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from '../../helpers/l10n';\nimport './MultipleSelectionHint.css';\n\ninterface Props {\n  options: number;\n  values: number;\n}\n\nexport default function MultipleSelectionHint({ options, values }: Props) {\n  // do not render if nothing is selected or there are less than 2 possible options\n  if (values === 0 || options < 2) {\n    return null;\n  }\n\n  return (\n    <div className=\"multiple-selection-hint\">\n      <div className=\"multiple-selection-hint-inner\">\n        {translate(\n          isOnMac()\n            ? 'shortcuts.section.global.facets.multiselection.mac'\n            : 'shortcuts.section.global.facets.multiselection'\n        )}\n      </div>\n    </div>\n  );\n}\n\nfunction isOnMac() {\n  return navigator.userAgent.indexOf('Mac OS X') !== -1;\n}\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * SonarQube\\n * Copyright (C) 2009-2019 SonarSource SA\\n * mailto:info AT sonarsource DOT com\\n *\\n * This program is free software; you can redistribute it and/or\\n * modify it under the terms of the GNU Lesser General Public\\n * License as published by the Free Software Foundation; either\\n * version 3 of the License, or (at your option) any later version.\\n *\\n * This program is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\\n * Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with this program; if not, write to the Free Software Foundation,\\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\\n */\\n.tags-list {\\n  white-space: nowrap;\\n  line-height: 16px;\\n}\\n\\n.tags-list i::before {\\n  font-size: 12px;\\n}\\n\\n.tags-list span {\\n  display: inline-block;\\n  vertical-align: middle;\\n  text-align: left;\\n  max-width: 220px;\\n  padding-left: 4px;\\n  padding-right: 4px;\\n}\\n\", \"\"]);\n\n// exports\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { getOrganizationByKey, areThereCustomOrganizations, Store } from '../../store/rootReducer';\nimport OrganizationLink from '../ui/OrganizationLink';\n\ninterface OwnProps {\n  organizationKey: string;\n}\n\ninterface Props {\n  link?: boolean;\n  linkClassName?: string;\n  organization: { key: string; name: string } | null;\n  shouldBeDisplayed?: boolean;\n}\n\nfunction Organization(props: Props) {\n  const { link = true, organization, shouldBeDisplayed } = props;\n\n  if (!shouldBeDisplayed || !organization) {\n    return null;\n  }\n\n  return (\n    <span>\n      {link ? (\n        <OrganizationLink className={props.linkClassName} organization={organization}>\n          {organization.name}\n        </OrganizationLink>\n      ) : (\n        organization.name\n      )}\n      <span className=\"slash-separator\" />\n    </span>\n  );\n}\n\nconst mapStateToProps = (state: Store, ownProps: OwnProps) => ({\n  organization: getOrganizationByKey(state, ownProps.organizationKey),\n  shouldBeDisplayed: areThereCustomOrganizations(state)\n});\n\nexport default connect(mapStateToProps)(Organization);\n\nexport const UnconnectedOrganization = Organization;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport DateInput from './DateInput';\nimport { translate } from '../../helpers/l10n';\n\ntype DateRange = { from?: Date; to?: Date };\n\ninterface Props {\n  className?: string;\n  maxDate?: Date;\n  minDate?: Date;\n  onChange: (date: DateRange) => void;\n  value?: DateRange;\n}\n\nexport default class DateRangeInput extends React.PureComponent<Props> {\n  toDateInput?: DateInput | null;\n\n  get from() {\n    return this.props.value && this.props.value.from;\n  }\n\n  get to() {\n    return this.props.value && this.props.value.to;\n  }\n\n  handleFromChange = (from: Date | undefined) => {\n    this.props.onChange({ from, to: this.to });\n\n    // use `setTimeout` to work around the immediate closing of the `toDateInput`\n    setTimeout(() => {\n      if (from && !this.to && this.toDateInput) {\n        this.toDateInput.focus();\n      }\n    }, 0);\n  };\n\n  handleToChange = (to: Date | undefined) => {\n    this.setState({ to });\n    this.props.onChange({ from: this.from, to });\n  };\n\n  render() {\n    return (\n      <div className={classNames('display-inline-flex-center', this.props.className)}>\n        <DateInput\n          currentMonth={this.to}\n          data-test=\"from\"\n          highlightTo={this.to}\n          maxDate={this.to}\n          onChange={this.handleFromChange}\n          placeholder={translate('start_date')}\n          value={this.from}\n        />\n        <span className=\"note little-spacer-left little-spacer-right\">{translate('to_')}</span>\n        <DateInput\n          currentMonth={this.from}\n          data-test=\"to\"\n          highlightFrom={this.from}\n          minDate={this.from}\n          onChange={this.handleToChange}\n          placeholder={translate('end_date')}\n          ref={element => (this.toDateInput = element)}\n          value={this.to}\n        />\n      </div>\n    );\n  }\n}\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./BarChart.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./BarChart.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./BarChart.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * SonarQube\\n * Copyright (C) 2009-2019 SonarSource SA\\n * mailto:info AT sonarsource DOT com\\n *\\n * This program is free software; you can redistribute it and/or\\n * modify it under the terms of the GNU Lesser General Public\\n * License as published by the Free Software Foundation; either\\n * version 3 of the License, or (at your option) any later version.\\n *\\n * This program is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\\n * Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with this program; if not, write to the Free Software Foundation,\\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\\n */\\n.bar-chart-bar {\\n  fill: #4b9fd5;\\n}\\n\\n.bar-chart-tick {\\n  fill: #777;\\n  font-size: 12px;\\n  text-anchor: middle;\\n}\\n\", \"\"]);\n\n// exports\n","/**\n * The base implementation of `_.gt` which doesn't coerce arguments.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if `value` is greater than `other`,\n *  else `false`.\n */\nfunction baseGt(value, other) {\n  return value > other;\n}\n\nmodule.exports = baseGt;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\n\ninterface Props {\n  active?: boolean;\n  custom?: boolean;\n  disabled?: boolean;\n  element: string;\n  onHover: (elem: string) => void;\n  onSelectChange: (elem: string, selected: boolean) => void;\n  renderLabel: (element: string) => React.ReactNode;\n  selected?: boolean;\n}\n\nexport default class MultiSelectOption extends React.PureComponent<Props> {\n  handleSelect = (evt: React.SyntheticEvent<HTMLAnchorElement>) => {\n    evt.stopPropagation();\n    evt.preventDefault();\n    evt.currentTarget.blur();\n\n    if (!this.props.disabled) {\n      this.props.onSelectChange(this.props.element, !this.props.selected);\n    }\n  };\n\n  handleHover = () => this.props.onHover(this.props.element);\n\n  render() {\n    const { selected, disabled } = this.props;\n    const className = classNames('icon-checkbox', {\n      'icon-checkbox-checked': selected,\n      'icon-checkbox-invisible': disabled\n    });\n    const activeClass = classNames({ active: this.props.active, disabled });\n\n    return (\n      <li>\n        <a\n          className={activeClass}\n          href=\"#\"\n          onClick={this.handleSelect}\n          onFocus={this.handleHover}\n          onMouseOver={this.handleHover}>\n          <i className={className} /> {this.props.custom && '+ '}\n          {this.props.renderLabel(this.props.element)}\n        </a>\n      </li>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { difference } from 'lodash';\nimport MultiSelectOption from './MultiSelectOption';\nimport SearchBox from '../controls/SearchBox';\nimport { translateWithParameters } from '../../helpers/l10n';\n\ninterface Props {\n  allowNewElements?: boolean;\n  allowSelection?: boolean;\n  elements: string[];\n  filterSelected?: (query: string, selectedElements: string[]) => string[];\n  footerNode?: React.ReactNode;\n  listSize?: number;\n  onSearch: (query: string) => Promise<void>;\n  onSelect: (item: string) => void;\n  onUnselect: (item: string) => void;\n  placeholder: string;\n  renderLabel?: (element: string) => React.ReactNode;\n  selectedElements: string[];\n  validateSearchInput?: (value: string) => string;\n}\n\ninterface State {\n  activeIdx: number;\n  loading: boolean;\n  query: string;\n  selectedElements: string[];\n  unselectedElements: string[];\n}\n\ninterface DefaultProps {\n  filterSelected: (query: string, selectedElements: string[]) => string[];\n  listSize: number;\n  renderLabel: (element: string) => React.ReactNode;\n  validateSearchInput: (value: string) => string;\n}\n\ntype PropsWithDefault = Props & DefaultProps;\n\nexport default class MultiSelect extends React.PureComponent<Props, State> {\n  container?: HTMLDivElement | null;\n  searchInput?: HTMLInputElement | null;\n  mounted = false;\n\n  static defaultProps: DefaultProps = {\n    filterSelected: (query: string, selectedElements: string[]) =>\n      selectedElements.filter(elem => elem.includes(query)),\n    listSize: 0,\n    renderLabel: (element: string) => element,\n    validateSearchInput: (value: string) => value\n  };\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      activeIdx: 0,\n      loading: true,\n      query: '',\n      selectedElements: [],\n      unselectedElements: []\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    this.onSearchQuery('');\n    this.updateSelectedElements(this.props as PropsWithDefault);\n    this.updateUnselectedElements(this.props as PropsWithDefault);\n    if (this.container) {\n      this.container.addEventListener('keydown', this.handleKeyboard, true);\n    }\n  }\n\n  componentWillReceiveProps(nextProps: PropsWithDefault) {\n    if (\n      this.props.elements !== nextProps.elements ||\n      this.props.selectedElements !== nextProps.selectedElements\n    ) {\n      this.updateSelectedElements(nextProps);\n      this.updateUnselectedElements(nextProps);\n\n      const totalElements = this.getAllElements(nextProps, this.state).length;\n      if (this.state.activeIdx >= totalElements) {\n        this.setState({ activeIdx: totalElements - 1 });\n      }\n    }\n  }\n\n  componentDidUpdate() {\n    if (this.searchInput) {\n      this.searchInput.focus();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n    if (this.container) {\n      this.container.removeEventListener('keydown', this.handleKeyboard);\n    }\n  }\n\n  handleSelectChange = (item: string, selected: boolean) => {\n    if (selected) {\n      this.onSelectItem(item);\n    } else {\n      this.onUnselectItem(item);\n    }\n  };\n\n  handleSearchChange = (value: string) => {\n    this.onSearchQuery((this.props as PropsWithDefault).validateSearchInput(value));\n  };\n\n  handleElementHover = (element: string) => {\n    this.setState((prevState, props) => {\n      return { activeIdx: this.getAllElements(props, prevState).indexOf(element) };\n    });\n  };\n\n  handleKeyboard = (evt: KeyboardEvent) => {\n    switch (evt.keyCode) {\n      case 40: // down\n        evt.stopPropagation();\n        evt.preventDefault();\n        this.setState(this.selectNextElement);\n        break;\n      case 38: // up\n        evt.stopPropagation();\n        evt.preventDefault();\n        this.setState(this.selectPreviousElement);\n        break;\n      case 37: // left\n      case 39: // right\n        evt.stopPropagation();\n        break;\n      case 13: // enter\n        if (this.state.activeIdx >= 0) {\n          this.toggleSelect(this.getAllElements(this.props, this.state)[this.state.activeIdx]);\n        }\n        break;\n    }\n  };\n\n  onSearchQuery = (query: string) => {\n    this.setState({ activeIdx: 0, loading: true, query });\n    this.props.onSearch(query).then(this.stopLoading, this.stopLoading);\n  };\n\n  onSelectItem = (item: string) => {\n    if (this.isNewElement(item, this.props)) {\n      this.onSearchQuery('');\n    }\n    this.props.onSelect(item);\n  };\n\n  onUnselectItem = (item: string) => this.props.onUnselect(item);\n\n  isNewElement = (elem: string, { selectedElements, elements }: Props) =>\n    elem.length > 0 && selectedElements.indexOf(elem) === -1 && elements.indexOf(elem) === -1;\n\n  updateSelectedElements = (props: PropsWithDefault) => {\n    this.setState((state: State) => {\n      if (state.query) {\n        return {\n          selectedElements: props.filterSelected(state.query, props.selectedElements)\n        };\n      } else {\n        return { selectedElements: [...props.selectedElements] };\n      }\n    });\n  };\n\n  updateUnselectedElements = (props: PropsWithDefault) => {\n    this.setState((state: State) => {\n      if (props.listSize === 0) {\n        return { unselectedElements: difference(props.elements, props.selectedElements) };\n      } else if (props.listSize < state.selectedElements.length) {\n        return { unselectedElements: [] };\n      } else {\n        return {\n          unselectedElements: difference(props.elements, props.selectedElements).slice(\n            0,\n            props.listSize - state.selectedElements.length\n          )\n        };\n      }\n    });\n  };\n\n  getAllElements = (props: Props, state: State) => {\n    if (this.isNewElement(state.query, props)) {\n      return [...state.selectedElements, ...state.unselectedElements, state.query];\n    } else {\n      return [...state.selectedElements, ...state.unselectedElements];\n    }\n  };\n\n  setElementActive = (idx: number) => this.setState({ activeIdx: idx });\n\n  selectNextElement = (state: State, props: Props) => {\n    const { activeIdx } = state;\n    const allElements = this.getAllElements(props, state);\n    if (activeIdx < 0 || activeIdx >= allElements.length - 1) {\n      return { activeIdx: 0 };\n    } else {\n      return { activeIdx: activeIdx + 1 };\n    }\n  };\n\n  selectPreviousElement = (state: State, props: Props) => {\n    const { activeIdx } = state;\n    const allElements = this.getAllElements(props, state);\n    if (activeIdx <= 0) {\n      const lastIdx = allElements.length - 1;\n      return { activeIdx: lastIdx };\n    } else {\n      return { activeIdx: activeIdx - 1 };\n    }\n  };\n\n  stopLoading = () => {\n    if (this.mounted) {\n      this.setState({ loading: false });\n    }\n  };\n\n  toggleSelect = (item: string) => {\n    if (this.props.selectedElements.indexOf(item) === -1) {\n      this.onSelectItem(item);\n    } else {\n      this.onUnselectItem(item);\n    }\n  };\n\n  render() {\n    const { allowSelection = true, allowNewElements = true, footerNode = '' } = this.props;\n    const { renderLabel } = this.props as PropsWithDefault;\n    const { query, activeIdx, selectedElements, unselectedElements } = this.state;\n    const activeElement = this.getAllElements(this.props, this.state)[activeIdx];\n    const showNewElement = allowNewElements && this.isNewElement(query, this.props);\n    const infiniteList = this.props.listSize === 0;\n    const listClasses = classNames('menu', {\n      'menu-vertically-limited': infiniteList,\n      'spacer-top': infiniteList,\n      'with-top-separator': infiniteList,\n      'with-bottom-separator': Boolean(footerNode)\n    });\n\n    return (\n      <div className=\"multi-select\" ref={div => (this.container = div)}>\n        <div className=\"menu-search\">\n          <SearchBox\n            autoFocus={true}\n            className=\"little-spacer-top\"\n            loading={this.state.loading}\n            onChange={this.handleSearchChange}\n            placeholder={this.props.placeholder}\n            value={query}\n          />\n        </div>\n        <ul className={listClasses}>\n          {selectedElements.length > 0 &&\n            selectedElements.map(element => (\n              <MultiSelectOption\n                active={activeElement === element}\n                element={element}\n                key={element}\n                onHover={this.handleElementHover}\n                onSelectChange={this.handleSelectChange}\n                renderLabel={renderLabel}\n                selected={true}\n              />\n            ))}\n          {unselectedElements.length > 0 &&\n            unselectedElements.map(element => (\n              <MultiSelectOption\n                active={activeElement === element}\n                disabled={!allowSelection}\n                element={element}\n                key={element}\n                onHover={this.handleElementHover}\n                onSelectChange={this.handleSelectChange}\n                renderLabel={renderLabel}\n              />\n            ))}\n          {showNewElement && (\n            <MultiSelectOption\n              active={activeElement === query}\n              custom={true}\n              element={query}\n              key={query}\n              onHover={this.handleElementHover}\n              onSelectChange={this.handleSelectChange}\n              renderLabel={renderLabel}\n            />\n          )}\n          {!showNewElement &&\n            selectedElements.length < 1 &&\n            unselectedElements.length < 1 && (\n              <li className=\"spacer-left\">{translateWithParameters('no_results_for_x', query)}</li>\n            )}\n        </ul>\n        {footerNode}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport MultiSelect from '../common/MultiSelect';\nimport { translate } from '../../helpers/l10n';\nimport './TagsList.css';\n\ninterface Props {\n  listSize: number;\n  onSearch: (query: string) => Promise<void>;\n  onSelect: (item: string) => void;\n  onUnselect: (item: string) => void;\n  selectedTags: string[];\n  tags: string[];\n}\n\nexport default function TagsSelector(props: Props) {\n  return (\n    <MultiSelect\n      elements={props.tags}\n      listSize={props.listSize}\n      onSearch={props.onSearch}\n      onSelect={props.onSelect}\n      onUnselect={props.onUnselect}\n      placeholder={translate('search.search_for_tags')}\n      selectedElements={props.selectedTags}\n      validateSearchInput={validateTag}\n    />\n  );\n}\n\nexport function validateTag(value: string) {\n  // Allow only a-z, 0-9, '+', '-', '#', '.'\n  return value.toLowerCase().replace(/[^-a-z0-9+#.]/gi, '');\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { getMarkdownHelpUrl } from '../../helpers/urls';\nimport { translate } from '../../helpers/l10n';\n\nexport default class MarkdownTips extends React.PureComponent {\n  handleClick(evt: React.SyntheticEvent<HTMLAnchorElement>) {\n    evt.preventDefault();\n    window.open(getMarkdownHelpUrl(), 'Markdown', 'height=300,width=600,scrollbars=1,resizable=1');\n  }\n\n  render() {\n    return (\n      <div className=\"markdown-tips\">\n        <a className=\"little-spacer-right\" href=\"#\" onClick={this.handleClick}>\n          {translate('markdown.helplink')}\n        </a>\n        {':'}\n        <span className=\"spacer-left\">*{translate('bold')}*</span>\n        <span className=\"spacer-left\">\n          ``\n          {translate('code')}\n          ``\n        </span>\n        <span className=\"spacer-left\">* {translate('bulleted_point')}</span>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport './LocationIndex.css';\n\ninterface Props {\n  children?: React.ReactNode;\n  leading?: boolean;\n  onClick?: () => void;\n  selected?: boolean;\n  [x: string]: any;\n}\n\nexport default function LocationIndex(props: Props) {\n  const { children, leading, onClick, selected, ...other } = props;\n  const clickAttributes = onClick ? { onClick, role: 'button', tabIndex: 0 } : {};\n  // put {...others} because Tooltip sets some event handlers\n  return (\n    <div\n      className={classNames('location-index', {\n        'is-leading': leading,\n        selected\n      })}\n      {...clickAttributes}\n      {...other}>\n      {children}\n    </div>\n  );\n}\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./EmptySearch.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./EmptySearch.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./EmptySearch.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\nimport * as theme from '../../app/theme';\n\ninterface Props {\n  className?: string;\n  status: string;\n}\n\nconst statusIcons: { [x: string]: (props: IconProps) => React.ReactElement<any> } = {\n  open: OpenStatusIcon,\n  confirmed: ConfirmedStatusIcon,\n  reopened: ReopenedStatusIcon,\n  resolved: ResolvedStatusIcon,\n  closed: ClosedStatusIcon\n};\n\nexport default function StatusIcon(props: Props) {\n  const status = props.status.toLowerCase();\n  const Icon = statusIcons[status];\n  return Icon ? <Icon className={props.className} /> : null;\n}\n\nfunction OpenStatusIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M8 3.75c-.77 0-1.482.19-2.133.57A4.25 4.25 0 0 0 4.32 5.867c-.38.65-.57 1.362-.57 2.133 0 .77.19 1.482.57 2.133.38.65.896 1.167 1.547 1.547.65.38 1.362.57 2.133.57.77 0 1.482-.19 2.133-.57a4.242 4.242 0 0 0 1.547-1.547c.38-.65.57-1.362.57-2.133 0-.77-.19-1.482-.57-2.133a4.25 4.25 0 0 0-1.547-1.547A4.153 4.153 0 0 0 8 3.75zM14 8c0 1.09-.268 2.092-.805 3.012a5.96 5.96 0 0 1-2.183 2.183A5.863 5.863 0 0 1 8 14a5.863 5.863 0 0 1-3.012-.805 5.96 5.96 0 0 1-2.183-2.183A5.863 5.863 0 0 1 2 8c0-1.09.268-2.092.805-3.012a5.96 5.96 0 0 1 2.183-2.183A5.863 5.863 0 0 1 8 2c1.09 0 2.092.268 3.012.805a5.96 5.96 0 0 1 2.183 2.183C13.732 5.908 14 6.91 14 8z\"\n        style={{ fill: theme.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction ConfirmedStatusIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M10 8c0 .552-.195 1.023-.586 1.414-.39.39-.862.586-1.414.586a1.926 1.926 0 0 1-1.414-.586A1.928 1.928 0 0 1 6 8c0-.552.195-1.023.586-1.414C6.976 6.196 7.448 6 8 6c.552 0 1.023.195 1.414.586.39.39.586.862.586 1.414zM8 3.75c-.77 0-1.482.19-2.133.57A4.25 4.25 0 0 0 4.32 5.867c-.38.65-.57 1.362-.57 2.133 0 .77.19 1.482.57 2.133.38.65.896 1.167 1.547 1.547.65.38 1.362.57 2.133.57.77 0 1.482-.19 2.133-.57a4.242 4.242 0 0 0 1.547-1.547c.38-.65.57-1.362.57-2.133 0-.77-.19-1.482-.57-2.133a4.25 4.25 0 0 0-1.547-1.547A4.153 4.153 0 0 0 8 3.75zM14 8c0 1.09-.268 2.092-.805 3.012a5.96 5.96 0 0 1-2.183 2.183A5.863 5.863 0 0 1 8 14a5.863 5.863 0 0 1-3.012-.805 5.96 5.96 0 0 1-2.183-2.183A5.863 5.863 0 0 1 2 8c0-1.09.268-2.092.805-3.012a5.96 5.96 0 0 1 2.183-2.183A5.863 5.863 0 0 1 8 2c1.09 0 2.092.268 3.012.805a5.96 5.96 0 0 1 2.183 2.183C13.732 5.908 14 6.91 14 8z\"\n        style={{ fill: theme.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction ReopenedStatusIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M8 12.25v-8.5c-.77 0-1.482.19-2.133.57A4.25 4.25 0 0 0 4.32 5.867c-.38.65-.57 1.362-.57 2.133 0 .77.19 1.482.57 2.133.38.65.896 1.167 1.547 1.547.65.38 1.362.57 2.133.57zM14 8c0 1.09-.268 2.092-.805 3.012a5.96 5.96 0 0 1-2.183 2.183A5.863 5.863 0 0 1 8 14a5.863 5.863 0 0 1-3.012-.805 5.96 5.96 0 0 1-2.183-2.183A5.863 5.863 0 0 1 2 8c0-1.09.268-2.092.805-3.012a5.96 5.96 0 0 1 2.183-2.183A5.863 5.863 0 0 1 8 2c1.09 0 2.092.268 3.012.805a5.96 5.96 0 0 1 2.183 2.183C13.732 5.908 14 6.91 14 8z\"\n        style={{ fill: theme.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction ResolvedStatusIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M12.03 6.734a.49.49 0 0 0-.14-.36l-.71-.702a.48.48 0 0 0-.352-.15.474.474 0 0 0-.35.15l-3.19 3.18-1.765-1.766a.479.479 0 0 0-.35-.15.479.479 0 0 0-.353.15l-.71.703a.482.482 0 0 0-.14.358c0 .14.046.258.14.352l2.828 2.828c.098.1.216.15.35.15.142 0 .26-.05.36-.15l4.243-4.242a.475.475 0 0 0 .14-.352l-.001.001zM14 8c0 1.09-.268 2.092-.805 3.012a5.96 5.96 0 0 1-2.183 2.183A5.863 5.863 0 0 1 8 14a5.863 5.863 0 0 1-3.012-.805 5.96 5.96 0 0 1-2.183-2.183A5.863 5.863 0 0 1 2 8c0-1.09.268-2.092.805-3.012a5.96 5.96 0 0 1 2.183-2.183A5.863 5.863 0 0 1 8 2c1.09 0 2.092.268 3.012.805a5.96 5.96 0 0 1 2.183 2.183C13.732 5.908 14 6.91 14 8z\"\n        style={{ fill: theme.baseFontColor }}\n      />\n    </Icon>\n  );\n}\n\nfunction ClosedStatusIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14 8c0 1.09-.268 2.092-.805 3.012a5.96 5.96 0 0 1-2.183 2.183A5.863 5.863 0 0 1 8 14a5.863 5.863 0 0 1-3.012-.805 5.96 5.96 0 0 1-2.183-2.183A5.863 5.863 0 0 1 2 8c0-1.09.268-2.092.805-3.012a5.96 5.96 0 0 1 2.183-2.183A5.863 5.863 0 0 1 8 2c1.09 0 2.092.268 3.012.805a5.96 5.96 0 0 1 2.183 2.183C13.732 5.908 14 6.91 14 8z\"\n        style={{ fill: theme.baseFontColor }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport StatusIcon from '../icons-components/StatusIcon';\nimport { translate } from '../../helpers/l10n';\n\ninterface Props {\n  className?: string;\n  resolution: string | undefined;\n  status: string;\n}\n\nexport default function StatusHelper(props: Props) {\n  const resolution = props.resolution && ` (${translate('issue.resolution', props.resolution)})`;\n  return (\n    <span className={props.className}>\n      <StatusIcon className=\"little-spacer-right\" status={props.status} />\n      {translate('issue.status', props.status)}\n      {resolution}\n    </span>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function EllipsisIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M5.273 7.182v1.636a.818.818 0 0 1-.818.818H2.818A.818.818 0 0 1 2 8.818V7.182c0-.452.366-.818.818-.818h1.637c.451 0 .818.366.818.818zm4.363 0v1.636a.818.818 0 0 1-.818.818H7.182a.818.818 0 0 1-.818-.818V7.182c0-.452.366-.818.818-.818h1.636c.452 0 .818.366.818.818zm4.364 0v1.636a.818.818 0 0 1-.818.818h-1.637a.818.818 0 0 1-.818-.818V7.182c0-.452.367-.818.818-.818h1.637c.452 0 .818.366.818.818z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function FilterIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M13.957 2.333a.536.536 0 0 1-.12.596l-4.2 4.202v6.323a.552.552 0 0 1-.333.503.632.632 0 0 1-.213.043.51.51 0 0 1-.384-.162l-2.181-2.182a.542.542 0 0 1-.162-.383V7.13L2.162 2.929a.536.536 0 0 1-.12-.596A.552.552 0 0 1 2.547 2h10.908c.222 0 .418.137.503.333z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport type StandardType = 'owaspTop10' | 'sansTop25' | 'cwe';\n\nexport interface Standards {\n  owaspTop10: { [x: string]: { title: string; description?: string } };\n  sansTop25: { [x: string]: { title: string; description?: string } };\n  cwe: { [x: string]: { title: string; description?: string } };\n}\n\nexport function renderOwaspTop10Category(\n  standards: Standards,\n  category: string,\n  withPrefix = false\n): string {\n  const record = standards.owaspTop10[category];\n  if (!record) {\n    return addPrefix(category.toUpperCase(), 'OWASP', withPrefix);\n  } else if (category === 'unknown') {\n    return record.title;\n  } else {\n    return addPrefix(`${category.toUpperCase()} - ${record.title}`, 'OWASP', withPrefix);\n  }\n}\n\nexport function renderCWECategory(standards: Standards, category: string): string {\n  const record = standards.cwe[category];\n  if (!record) {\n    return `CWE-${category}`;\n  } else if (category === 'unknown') {\n    return record.title;\n  } else {\n    return `CWE-${category} - ${record.title}`;\n  }\n}\n\nexport function renderSansTop25Category(\n  standards: Standards,\n  category: string,\n  withPrefix = false\n): string {\n  const record = standards.sansTop25[category];\n  return addPrefix(record ? record.title : category, 'SANS', withPrefix);\n}\n\nfunction addPrefix(title: string, prefix: string, withPrefix: boolean) {\n  return withPrefix ? `${prefix} ${title}` : title;\n}\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./MultipleSelectionHint.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./MultipleSelectionHint.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./MultipleSelectionHint.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * SonarQube\\n * Copyright (C) 2009-2019 SonarSource SA\\n * mailto:info AT sonarsource DOT com\\n *\\n * This program is free software; you can redistribute it and/or\\n * modify it under the terms of the GNU Lesser General Public\\n * License as published by the Free Software Foundation; either\\n * version 3 of the License, or (at your option) any later version.\\n *\\n * This program is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\\n * Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with this program; if not, write to the Free Software Foundation,\\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\\n */\\n.multiple-selection-hint {\\n  margin-top: 8px;\\n  margin-bottom: 8px;\\n  text-align: center;\\n}\\n\\n.multiple-selection-hint-inner {\\n  display: inline-block;\\n  height: 24px;\\n  line-height: 24px;\\n  border-radius: 24px;\\n  background-color: #e6e6e6;\\n  text-align: center;\\n  padding: 0 8px;\\n  font-size: 12px;\\n}\\n\", \"\"]);\n\n// exports\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { formatMeasure } from '../../helpers/measures';\n\ninterface Props {\n  className?: string;\n  current?: number;\n  label: string;\n  total: number;\n}\n\nexport default function PageCounter({ className, current, label, total }: Props) {\n  return (\n    <div className={classNames('display-inline-block', className)}>\n      <strong className=\"little-spacer-right\">\n        {current !== undefined && formatMeasure(current + 1, 'INT') + ' / '}\n        <span className=\"js-page-counter-total\">{formatMeasure(total, 'INT')}</span>\n      </strong>\n      {label}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport IssueTypeIcon from '../ui/IssueTypeIcon';\nimport { translate } from '../../helpers/l10n';\n\ninterface Props {\n  className?: string;\n  type: T.IssueType | T.RuleType;\n}\n\nexport default function TypeHelper(props: Props) {\n  return (\n    <span className={props.className}>\n      <IssueTypeIcon className=\"little-spacer-right\" query={props.type} />\n      {translate('issue.type', props.type)}\n    </span>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from '../ui/buttons';\nimport { translate } from '../../helpers/l10n';\n\ninterface Props {\n  displayReset: boolean;\n  onReset: () => void;\n}\n\nexport default function FiltersHeader({ displayReset, onReset }: Props) {\n  return (\n    <div className=\"search-navigator-filters-header\">\n      {displayReset && (\n        <div className=\"pull-right\">\n          <Button className=\"button-red\" id=\"coding-rules-clear-all-filters\" onClick={onReset}>\n            {translate('clear_all_filters')}\n          </Button>\n        </div>\n      )}\n\n      <h3>{translate('filters')}</h3>\n    </div>\n  );\n}\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./LocationIndex.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./LocationIndex.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./LocationIndex.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * SonarQube\\n * Copyright (C) 2009-2019 SonarSource SA\\n * mailto:info AT sonarsource DOT com\\n *\\n * This program is free software; you can redistribute it and/or\\n * modify it under the terms of the GNU Lesser General Public\\n * License as published by the Free Software Foundation; either\\n * version 3 of the License, or (at your option) any later version.\\n *\\n * This program is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\\n * Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with this program; if not, write to the Free Software Foundation,\\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\\n */\\n.location-index {\\n  position: relative;\\n  display: inline-block;\\n  vertical-align: top;\\n  line-height: 16px;\\n  padding-left: 6px;\\n  padding-right: 6px;\\n  border-radius: 2px;\\n  background-color: #d18582;\\n  color: #fff;\\n  font-family: 'Helvetica Neue', 'Segoe UI', Helvetica, Arial, sans-serif;\\n  font-size: 12px;\\n  transition: background-color 0.3s ease;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n}\\n\\n.location-index.selected {\\n  background-color: #bc5e5e;\\n}\\n\\n.location-index.muted {\\n  background-color: #ccc;\\n}\\n\\n.location-index.is-leading {\\n  position: absolute;\\n  margin: 1px 0 0 -4px !important;\\n  transform: translateX(-100%);\\n}\\n\\n.location-index[tabindex] {\\n  cursor: pointer;\\n}\\n\\n.location-index[tabindex]:hover,\\na:hover > .location-index {\\n  background-color: #bc5e5e;\\n}\\n\\n.location-index[tabindex]:focus {\\n  outline: none;\\n}\\n\\n.source-line-code-inner .location-index {\\n  line-height: 16px;\\n  margin: 1px;\\n  margin-left: 4px;\\n  margin-right: 4px;\\n}\\n\\n.source-line-code-inner .location-index + .location-index {\\n  margin-left: 0;\\n}\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Issue.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Issue.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Issue.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * SonarQube\\n * Copyright (C) 2009-2019 SonarSource SA\\n * mailto:info AT sonarsource DOT com\\n *\\n * This program is free software; you can redistribute it and/or\\n * modify it under the terms of the GNU Lesser General Public\\n * License as published by the Free Software Foundation; either\\n * version 3 of the License, or (at your option) any later version.\\n *\\n * This program is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\\n * Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with this program; if not, write to the Free Software Foundation,\\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\\n */\\n.issue {\\n  position: relative;\\n  padding-top: 8px;\\n  padding-bottom: 8px;\\n  background-color: #ffeaea;\\n  box-shadow: inset 0px 0px 0px 1px #ffeaea;\\n  transition: all 0.3s ease, border 0 ease;\\n}\\n\\n.issue.selected {\\n  box-shadow: none;\\n  border: 1px solid #dd4040 !important;\\n}\\n\\n.issue + .issue,\\n.issue-container + .issue-container {\\n  margin-top: 5px;\\n}\\n\\n.issue.selected + .issue {\\n  border-top-color: transparent;\\n}\\n\\n.issue-row {\\n  display: flex;\\n  margin-bottom: 5px;\\n}\\n\\n.issue-row-meta {\\n  flex-grow: 0;\\n  padding-right: 5px;\\n  white-space: nowrap;\\n}\\n\\n.issue-message {\\n  flex-grow: 1;\\n  padding-left: 8px;\\n  padding-right: 8px;\\n  line-height: 1.5;\\n  font-size: 13px;\\n  font-weight: 600;\\n  text-overflow: ellipsis;\\n  overflow: hidden;\\n}\\n\\n.issue-message .button-link {\\n  height: 16px;\\n}\\n\\n.issue-rule {\\n  vertical-align: top;\\n  margin-top: 2px;\\n  padding: 0 3px;\\n  background: rgba(75, 159, 213, 0.3);\\n  opacity: 0.5;\\n}\\n\\n.issue-rule:hover {\\n  background: rgba(75, 159, 213, 0.3);\\n}\\n\\n.issue-actions {\\n  display: flex;\\n  justify-content: space-between;\\n  flex-wrap: wrap;\\n  align-items: center;\\n  padding-left: 8px;\\n}\\n\\n.issue-meta-list {\\n  display: flex;\\n  align-items: center;\\n}\\n\\n.issue-meta {\\n  line-height: 16px;\\n  font-size: 12px;\\n}\\n\\n.issue-meta + .issue-meta {\\n  margin-left: 8px;\\n}\\n\\n.issue-meta-label {\\n  display: inline-block;\\n  vertical-align: top;\\n  max-width: 180px;\\n  line-height: 16px;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n}\\n\\n.issue-changelog {\\n  width: 450px;\\n  max-height: 320px;\\n  overflow: auto;\\n  white-space: normal;\\n}\\n\\n.issue-comments {\\n  margin-top: 5px;\\n  padding-left: 8px;\\n  font-size: 12px;\\n}\\n\\n.issue-comment {\\n  display: flex;\\n}\\n\\n.issue-comment + .issue-comment {\\n  margin-top: 4px;\\n}\\n\\n.issue-comment-author {\\n  flex-shrink: 0;\\n  max-width: 130px;\\n  line-height: 18px;\\n  color: #777;\\n  font-weight: 600;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n}\\n\\n.issue-comment-age {\\n  flex-shrink: 0;\\n  line-height: 18px;\\n  white-space: nowrap;\\n  color: #777;\\n}\\n\\n.issue-comment-text {\\n  flex: 1;\\n  min-width: 0;\\n  margin-left: 5px;\\n  margin-right: 5px;\\n  line-height: 18px;\\n  line-height: 1.5;\\n  overflow: hidden;\\n  outline: none;\\n  word-break: break-all;\\n}\\n\\n.issue-comment-actions {\\n  flex-shrink: 0;\\n  padding-left: 5px;\\n  line-height: 18px;\\n  white-space: nowrap;\\n}\\n\\n.issue-comment-bubble-popup {\\n  width: 440px;\\n  font-size: 12px;\\n}\\n\\n.issue-comment-form-text textarea {\\n  width: 100%;\\n  max-width: 100%;\\n}\\n\\n.issue-comment-form-footer {\\n  margin-top: 5px;\\n  line-height: 22px;\\n}\\n\\n.issue-comment-form-footer:before,\\n.issue-comment-form-footer:after {\\n  display: table;\\n  content: '';\\n  line-height: 0;\\n}\\n\\n.issue-comment-form-footer:after {\\n  clear: both;\\n}\\n\\n.issue-comment-form-actions {\\n  float: right;\\n}\\n\\n.issue-comment-form-tips {\\n  float: left;\\n}\\n\\n.issue-with-checkbox {\\n  padding-left: 24px;\\n}\\n\\n.issue-with-checkbox .issue-checkbox-container {\\n  display: block;\\n}\\n\\n.issue-checkbox-container {\\n  display: none;\\n  position: absolute;\\n  width: 29px;\\n  top: 0;\\n  bottom: 0;\\n  left: 0;\\n  border: none;\\n}\\n\\n.issue-checkbox-container:hover {\\n  background-color: rgba(0, 0, 0, 0.05);\\n}\\n\\n.issue-checkbox {\\n  position: absolute;\\n  top: 50%;\\n  left: 50%;\\n  margin: -8px 0 0 -8px;\\n}\\n\\n.issue:not(.selected) .location-index {\\n  background-color: #ccc;\\n}\\n\\n.issue .menu:not(.issues-similar-issues-menu):not(.issue-changelog) {\\n  max-height: 120px;\\n  overflow: auto;\\n}\\n\", \"\"]);\n\n// exports\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * SonarQube\\n * Copyright (C) 2009-2019 SonarSource SA\\n * mailto:info AT sonarsource DOT com\\n *\\n * This program is free software; you can redistribute it and/or\\n * modify it under the terms of the GNU Lesser General Public\\n * License as published by the Free Software Foundation; either\\n * version 3 of the License, or (at your option) any later version.\\n *\\n * This program is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\\n * Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with this program; if not, write to the Free Software Foundation,\\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\\n */\\n.empty-search {\\n  padding: 60px 0;\\n  border: 1px solid #e6e6e6;\\n  border-radius: 2px;\\n  color: #777;\\n  text-align: center;\\n}\\n\", \"\"]);\n\n// exports\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport './LocationMessage.css';\n\ninterface Props {\n  children?: React.ReactNode;\n  selected: boolean;\n}\n\nexport default function LocationMessage(props: Props) {\n  return (\n    <div className={classNames('location-message', { selected: props.selected })}>\n      {props.children}\n    </div>\n  );\n}\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./LocationMessage.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./LocationMessage.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./LocationMessage.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * SonarQube\\n * Copyright (C) 2009-2019 SonarSource SA\\n * mailto:info AT sonarsource DOT com\\n *\\n * This program is free software; you can redistribute it and/or\\n * modify it under the terms of the GNU Lesser General Public\\n * License as published by the Free Software Foundation; either\\n * version 3 of the License, or (at your option) any later version.\\n *\\n * This program is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\\n * Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with this program; if not, write to the Free Software Foundation,\\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\\n */\\n.location-message {\\n  display: inline-block;\\n  vertical-align: top;\\n  line-height: 16px;\\n  padding: 0 6px;\\n  border-radius: 2px;\\n  background-color: #9e9e9e;\\n  color: #fff;\\n  font-family: 'Helvetica Neue', 'Segoe UI', Helvetica, Arial, sans-serif;\\n  font-size: 12px;\\n  text-overflow: ellipsis;\\n  overflow: hidden;\\n  transition: background-color 0.3s ease;\\n}\\n\\n.location-message.selected {\\n  background-color: #475760;\\n}\\n\\n.location-index + .location-message {\\n  margin-left: 4px;\\n}\\n\\n.location-index > .location-message {\\n  position: absolute;\\n  bottom: calc(100% + 4px);\\n  left: 0;\\n}\\n\\n.location-index > .location-message::after {\\n  position: absolute;\\n  bottom: -5px;\\n  left: 4px;\\n  width: 0;\\n  height: 0;\\n  border-top: 5px solid #475760;\\n  border-left: 5px solid transparent;\\n  border-right: 5px solid transparent;\\n  content: '';\\n}\\n\\n.source-line-code .location-message {\\n  padding-top: 2px;\\n  padding-bottom: 2px;\\n}\\n\", \"\"]);\n\n// exports\n","var baseExtremum = require('./_baseExtremum'),\n    baseGt = require('./_baseGt'),\n    identity = require('./identity');\n\n/**\n * Computes the maximum value of `array`. If `array` is empty or falsey,\n * `undefined` is returned.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Math\n * @param {Array} array The array to iterate over.\n * @returns {*} Returns the maximum value.\n * @example\n *\n * _.max([4, 2, 8, 6]);\n * // => 8\n *\n * _.max([]);\n * // => undefined\n */\nfunction max(array) {\n  return (array && array.length)\n    ? baseExtremum(array, identity, baseGt)\n    : undefined;\n}\n\nmodule.exports = max;\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from '../../helpers/l10n';\nimport './EmptySearch.css';\n\nexport default function EmptySearch() {\n  return (\n    <div className=\"empty-search\">\n      <h3>{translate('no_results_search')}</h3>\n      <p className=\"big-spacer-top\">{translate('no_results_search.2')}</p>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { formatMeasure } from '../../../helpers/measures';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\n\nexport interface ChangelogDiff {\n  key: string;\n  newValue?: string;\n  oldValue?: string;\n}\n\ninterface Props {\n  diff: ChangelogDiff;\n}\n\nexport default function IssueChangelogDiff({ diff }: Props) {\n  if (diff.key === 'file') {\n    return (\n      <p>\n        {translateWithParameters(\n          'issue.change.file_move',\n          diff.oldValue || '',\n          diff.newValue || ''\n        )}\n      </p>\n    );\n  } else if (diff.key === 'from_long_branch') {\n    return (\n      <p>\n        {translateWithParameters(\n          'issue.change.from_long_branch',\n          diff.oldValue || '',\n          diff.newValue || ''\n        )}\n      </p>\n    );\n  } else if (diff.key === 'from_short_branch') {\n    return (\n      <p>\n        {translateWithParameters(\n          'issue.change.from_short_branch',\n          diff.oldValue || '',\n          diff.newValue || ''\n        )}\n      </p>\n    );\n  }\n\n  let message;\n  if (diff.newValue != null) {\n    let { newValue } = diff;\n    if (diff.key === 'effort') {\n      newValue = formatMeasure(diff.newValue, 'WORK_DUR');\n    }\n    message = translateWithParameters(\n      'issue.changelog.changed_to',\n      translate('issue.changelog.field', diff.key),\n      newValue\n    );\n  } else {\n    message = translateWithParameters(\n      'issue.changelog.removed',\n      translate('issue.changelog.field', diff.key)\n    );\n  }\n\n  if (diff.oldValue != null) {\n    let { oldValue } = diff;\n    if (diff.key === 'effort') {\n      oldValue = formatMeasure(diff.oldValue, 'WORK_DUR');\n    }\n    message += ` (${translateWithParameters('issue.changelog.was', oldValue)})`;\n  }\n  return <p>{message}</p>;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { getIssueChangelog } from '../../../api/issues';\nimport { translate } from '../../../helpers/l10n';\nimport Avatar from '../../ui/Avatar';\nimport DateTimeFormatter from '../../intl/DateTimeFormatter';\nimport IssueChangelogDiff, { ChangelogDiff } from '../components/IssueChangelogDiff';\nimport { DropdownOverlay } from '../../controls/Dropdown';\nimport { PopupPlacement } from '../../ui/popups';\n\ninterface Changelog {\n  avatar?: string;\n  creationDate: string;\n  diffs: ChangelogDiff[];\n  user: string;\n  userName: string;\n}\n\ninterface Props {\n  issue: Pick<T.Issue, 'author' | 'creationDate' | 'key'>;\n}\n\ninterface State {\n  changelogs: Changelog[];\n}\n\nexport default class ChangelogPopup extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = {\n    changelogs: []\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.loadChangelog();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  loadChangelog() {\n    getIssueChangelog(this.props.issue.key).then(\n      changelogs => {\n        if (this.mounted) {\n          this.setState({ changelogs });\n        }\n      },\n      () => {}\n    );\n  }\n\n  render() {\n    const { issue } = this.props;\n    const { author } = issue;\n    return (\n      <DropdownOverlay placement={PopupPlacement.BottomRight}>\n        <div className=\"menu is-container issue-changelog\">\n          <table className=\"spaced\">\n            <tbody>\n              <tr>\n                <td className=\"thin text-left text-top nowrap\">\n                  <DateTimeFormatter date={issue.creationDate} />\n                </td>\n                <td className=\"text-left text-top\">\n                  {author ? `${translate('created_by')} ${author}` : translate('created')}\n                </td>\n              </tr>\n\n              {this.state.changelogs.map((item, idx) => (\n                <tr key={idx}>\n                  <td className=\"thin text-left text-top nowrap\">\n                    <DateTimeFormatter date={item.creationDate} />\n                  </td>\n                  <td className=\"text-left text-top\">\n                    {item.userName && (\n                      <p>\n                        <Avatar\n                          className=\"little-spacer-right\"\n                          hash={item.avatar}\n                          name={item.userName}\n                          size={16}\n                        />\n                        {item.userName}\n                      </p>\n                    )}\n                    {item.diffs.map(diff => (\n                      <IssueChangelogDiff diff={diff} key={diff.key} />\n                    ))}\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ChangelogPopup from '../popups/ChangelogPopup';\nimport DropdownIcon from '../../icons-components/DropdownIcon';\nimport DateFromNow from '../../intl/DateFromNow';\nimport DateTimeFormatter from '../../intl/DateTimeFormatter';\nimport Toggler from '../../controls/Toggler';\nimport Tooltip from '../../controls/Tooltip';\nimport { Button } from '../../ui/buttons';\n\ninterface Props {\n  isOpen: boolean;\n  issue: Pick<T.Issue, 'author' | 'creationDate' | 'key'>;\n  creationDate: string;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueChangelog extends React.PureComponent<Props> {\n  toggleChangelog = (open?: boolean) => {\n    this.props.togglePopup('changelog', open);\n  };\n\n  handleClick = () => {\n    this.toggleChangelog();\n  };\n\n  handleClose = () => {\n    this.toggleChangelog(false);\n  };\n\n  render() {\n    return (\n      <div className=\"dropdown\">\n        <Toggler\n          onRequestClose={this.handleClose}\n          open={this.props.isOpen}\n          overlay={<ChangelogPopup issue={this.props.issue} />}>\n          <Tooltip\n            mouseEnterDelay={0.5}\n            overlay={<DateTimeFormatter date={this.props.creationDate} />}>\n            <Button\n              className=\"button-link issue-action issue-action-with-options js-issue-show-changelog\"\n              onClick={this.handleClick}>\n              <span className=\"issue-meta-label\">\n                <DateFromNow date={this.props.creationDate} />\n              </span>\n              <DropdownIcon className=\"little-spacer-left\" />\n            </Button>\n          </Tooltip>\n        </Toggler>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport EllipsisIcon from '../../icons-components/EllipsisIcon';\nimport Tooltip from '../../controls/Tooltip';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport { Button } from '../../ui/buttons';\nimport { WorkspaceContextShape } from '../../workspace/context';\n\ninterface Props {\n  engine?: string;\n  manualVulnerability: boolean;\n  message: string;\n  openRule: WorkspaceContextShape['openRule'];\n  organization: string;\n  rule: string;\n}\n\nexport default class IssueMessage extends React.PureComponent<Props> {\n  handleClick = () => {\n    this.props.openRule({\n      key: this.props.rule,\n      organization: this.props.organization\n    });\n  };\n\n  render() {\n    return (\n      <div className=\"issue-message\">\n        {this.props.message}\n        <Button\n          aria-label={translate('issue.rule_details')}\n          className=\"button-link issue-rule little-spacer-left\"\n          onClick={this.handleClick}>\n          <EllipsisIcon />\n        </Button>\n        {this.props.engine && (\n          <Tooltip\n            overlay={translateWithParameters('issue.from_external_rule_engine', this.props.engine)}>\n            <div className=\"outline-badge badge-tiny-height spacer-left vertical-text-top\">\n              {this.props.engine}\n            </div>\n          </Tooltip>\n        )}\n        {this.props.manualVulnerability && (\n          <Tooltip overlay={translate('issue.manual_vulnerability.description')}>\n            <div className=\"outline-badge badge-tiny-height spacer-left vertical-text-top\">\n              {translate('issue.manual_vulnerability')}\n            </div>\n          </Tooltip>\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport Tooltip from '../controls/Tooltip';\n\ninterface Props {\n  active?: string;\n  item: string;\n  onHover?: (item: string) => void;\n  onSelect?: (item: string) => void;\n  title?: string;\n}\n\nexport default class SelectListItem extends React.PureComponent<Props> {\n  handleSelect = (event: React.MouseEvent) => {\n    event.preventDefault();\n    if (this.props.onSelect) {\n      this.props.onSelect(this.props.item);\n    }\n  };\n\n  handleHover = () => {\n    if (this.props.onHover) {\n      this.props.onHover(this.props.item);\n    }\n  };\n\n  renderLink() {\n    const children = this.props.children || this.props.item;\n    return (\n      <li>\n        <a\n          className={classNames({ active: this.props.active === this.props.item })}\n          href=\"#\"\n          onClick={this.handleSelect}\n          onFocus={this.handleHover}\n          onMouseOver={this.handleHover}>\n          {children}\n        </a>\n      </li>\n    );\n  }\n\n  render() {\n    return (\n      <Tooltip overlay={this.props.title || undefined} placement=\"right\">\n        {this.renderLink()}\n      </Tooltip>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as key from 'keymaster';\nimport { uniqueId } from 'lodash';\nimport classNames from 'classnames';\nimport SelectListItem from './SelectListItem';\n\ninterface Props {\n  className?: string;\n  items: string[];\n  currentItem: string;\n  onSelect: (item: string) => void;\n}\n\ninterface State {\n  active: string;\n}\n\nexport default class SelectList extends React.PureComponent<Props, State> {\n  currentKeyScope?: string;\n  previousFilter?: (event: any) => void;\n  previousKeyScope?: string;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      active: props.currentItem\n    };\n  }\n\n  componentDidMount() {\n    this.attachShortcuts();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (\n      prevProps.currentItem !== this.props.currentItem &&\n      !this.props.items.includes(this.state.active)\n    ) {\n      this.setState({ active: this.props.currentItem });\n    }\n  }\n\n  componentWillUnmount() {\n    this.detachShortcuts();\n  }\n\n  attachShortcuts = () => {\n    this.previousKeyScope = key.getScope();\n    this.previousFilter = key.filter;\n    this.currentKeyScope = uniqueId('key-scope');\n    key.setScope(this.currentKeyScope);\n\n    // sometimes there is a *focused* search field next to the SelectList component\n    // we need to allow shortcuts in this case, but only for the used keys\n    (key as any).filter = (event: KeyboardEvent & { target: HTMLElement }) => {\n      const { tagName } = event.target || event.srcElement;\n      const isInput = tagName === 'INPUT' || tagName === 'SELECT' || tagName === 'TEXTAREA';\n      return [13, 38, 40].includes(event.keyCode) || !isInput;\n    };\n\n    key('down', this.currentKeyScope, () => {\n      this.setState(this.selectNextElement);\n      return false;\n    });\n\n    key('up', this.currentKeyScope, () => {\n      this.setState(this.selectPreviousElement);\n      return false;\n    });\n\n    key('return', this.currentKeyScope, () => {\n      if (this.state.active != null) {\n        this.handleSelect(this.state.active);\n      }\n      return false;\n    });\n  };\n\n  detachShortcuts = () => {\n    if (this.previousKeyScope) {\n      key.setScope(this.previousKeyScope);\n    }\n    if (this.currentKeyScope) {\n      key.deleteScope(this.currentKeyScope);\n    }\n    (key as any).filter = this.previousFilter;\n  };\n\n  handleSelect = (item: string) => {\n    this.props.onSelect(item);\n  };\n\n  handleHover = (item: string) => {\n    this.setState({ active: item });\n  };\n\n  selectNextElement = (state: State, props: Props) => {\n    const idx = props.items.indexOf(state.active);\n    if (idx < 0) {\n      return { active: props.items[0] };\n    }\n    return { active: props.items[(idx + 1) % props.items.length] };\n  };\n\n  selectPreviousElement = (state: State, props: Props) => {\n    const idx = props.items.indexOf(state.active);\n    if (idx <= 0) {\n      return { active: props.items[props.items.length - 1] };\n    }\n    return { active: props.items[idx - 1] };\n  };\n\n  renderChild = (child: any) => {\n    if (child == null) {\n      return null;\n    }\n    // do not pass extra props to children like `<li className=\"divider\" />`\n    if (child.type !== SelectListItem) {\n      return child;\n    }\n    return React.cloneElement(child, {\n      active: this.state.active,\n      onHover: this.handleHover,\n      onSelect: this.handleSelect\n    });\n  };\n\n  render() {\n    const { children } = this.props;\n    const hasChildren = React.Children.count(children) > 0;\n    return (\n      <ul className={classNames('menu', this.props.className)}>\n        {hasChildren && React.Children.map(children, this.renderChild)}\n        {!hasChildren &&\n          this.props.items.map(item => (\n            <SelectListItem\n              active={this.state.active}\n              item={item}\n              key={item}\n              onHover={this.handleHover}\n              onSelect={this.handleSelect}\n            />\n          ))}\n      </ul>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\nimport { DropdownOverlay } from '../../controls/Dropdown';\nimport SeverityHelper from '../../shared/SeverityHelper';\nimport StatusHelper from '../../shared/StatusHelper';\nimport QualifierIcon from '../../icons-components/QualifierIcon';\nimport TagsIcon from '../../icons-components/TagsIcon';\nimport IssueTypeIcon from '../../ui/IssueTypeIcon';\nimport Avatar from '../../ui/Avatar';\nimport { translate } from '../../../helpers/l10n';\nimport { fileFromPath, limitComponentName } from '../../../helpers/path';\n\ninterface Props {\n  issue: T.Issue;\n  onFilter: (property: string, issue: T.Issue) => void;\n}\n\nexport default class SimilarIssuesPopup extends React.PureComponent<Props> {\n  handleSelect = (property: string) => {\n    this.props.onFilter(property, this.props.issue);\n  };\n\n  render() {\n    const { issue } = this.props;\n\n    const items = [\n      'type',\n      'severity',\n      'status',\n      'resolution',\n      'assignee',\n      'rule',\n      ...(issue.tags || []).map(tag => `tag###${tag}`),\n      'project',\n      issue.subProject ? 'module' : undefined,\n      'file'\n    ].filter(item => item) as string[];\n\n    return (\n      <DropdownOverlay noPadding={true}>\n        <header className=\"menu-search\">\n          <h6>{translate('issue.filter_similar_issues')}</h6>\n        </header>\n\n        <SelectList\n          className=\"issues-similar-issues-menu\"\n          currentItem={items[0]}\n          items={items}\n          onSelect={this.handleSelect}>\n          <SelectListItem item=\"type\">\n            <IssueTypeIcon className=\"little-spacer-right\" query={issue.type} />\n            {translate('issue.type', issue.type)}\n          </SelectListItem>\n\n          <SelectListItem item=\"severity\">\n            <SeverityHelper severity={issue.severity} />\n          </SelectListItem>\n\n          <SelectListItem item=\"status\">\n            <StatusHelper resolution={undefined} status={issue.status} />\n          </SelectListItem>\n\n          <SelectListItem item=\"resolution\">\n            {issue.resolution != null\n              ? translate('issue.resolution', issue.resolution)\n              : translate('unresolved')}\n          </SelectListItem>\n\n          <SelectListItem item=\"assignee\">\n            {issue.assignee != null ? (\n              <span>\n                {translate('assigned_to')}\n                <Avatar\n                  className=\"little-spacer-left little-spacer-right\"\n                  hash={issue.assigneeAvatar}\n                  name={issue.assigneeName || issue.assignee}\n                  size={16}\n                />\n                {issue.assigneeName || issue.assignee}\n              </span>\n            ) : (\n              translate('unassigned')\n            )}\n          </SelectListItem>\n\n          <li className=\"divider\" />\n\n          <SelectListItem item=\"rule\">{limitComponentName(issue.ruleName)}</SelectListItem>\n\n          {issue.tags != null &&\n            issue.tags.map(tag => (\n              <SelectListItem item={`tag###${tag}`} key={`tag###${tag}`}>\n                <TagsIcon className=\"icon-half-transparent little-spacer-right text-middle\" />\n                <span className=\"text-middle\">{tag}</span>\n              </SelectListItem>\n            ))}\n\n          <li className=\"divider\" />\n\n          <SelectListItem item=\"project\">\n            <QualifierIcon className=\"little-spacer-right\" qualifier=\"TRK\" />\n            {issue.projectName}\n          </SelectListItem>\n\n          {issue.subProject != null && (\n            <SelectListItem item=\"module\">\n              <QualifierIcon className=\"little-spacer-right\" qualifier=\"BRC\" />\n              {issue.subProjectName}\n            </SelectListItem>\n          )}\n\n          <SelectListItem item=\"file\">\n            <QualifierIcon className=\"little-spacer-right\" qualifier={issue.componentQualifier} />\n            {fileFromPath(issue.componentLongName)}\n          </SelectListItem>\n        </SelectList>\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport SimilarIssuesPopup from '../popups/SimilarIssuesPopup';\nimport Toggler from '../../controls/Toggler';\nimport DropdownIcon from '../../icons-components/DropdownIcon';\nimport FilterIcon from '../../icons-components/FilterIcon';\nimport { Button } from '../../ui/buttons';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  isOpen: boolean;\n  issue: T.Issue;\n  togglePopup: (popup: string, show?: boolean) => void;\n  onFilter?: (property: string, issue: T.Issue) => void;\n}\n\nexport default class SimilarIssuesFilter extends React.PureComponent<Props> {\n  handleFilter = (property: string, issue: T.Issue) => {\n    this.togglePopup(false);\n    if (this.props.onFilter) {\n      this.props.onFilter(property, issue);\n    }\n  };\n\n  togglePopup = (open?: boolean) => {\n    this.props.togglePopup('similarIssues', open);\n  };\n\n  handleClose = () => {\n    this.togglePopup(false);\n  };\n\n  render() {\n    return (\n      <div className=\"dropdown\">\n        <Toggler\n          onRequestClose={this.handleClose}\n          open={this.props.isOpen}\n          overlay={<SimilarIssuesPopup issue={this.props.issue} onFilter={this.handleFilter} />}>\n          <Button\n            aria-label={translate('issue.filter_similar_issues')}\n            className=\"js-issue-filter button-link issue-action issue-action-with-options\"\n            onClick={this.togglePopup}\n            title={translate('issue.filter_similar_issues')}>\n            <FilterIcon className=\"icon-half-transparent\" />\n            <DropdownIcon className=\"icon-half-transparent\" />\n          </Button>\n        </Toggler>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport IssueChangelog from './IssueChangelog';\nimport IssueMessage from './IssueMessage';\nimport SimilarIssuesFilter from './SimilarIssuesFilter';\nimport LinkIcon from '../../icons-components/LinkIcon';\nimport LocationIndex from '../../common/LocationIndex';\nimport Tooltip from '../../controls/Tooltip';\nimport { getBranchLikeQuery } from '../../../helpers/branches';\nimport { getComponentIssuesUrl } from '../../../helpers/urls';\nimport { formatMeasure } from '../../../helpers/measures';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport { WorkspaceContext } from '../../workspace/context';\n\ninterface Props {\n  branchLike?: T.BranchLike;\n  currentPopup?: string;\n  displayLocationsCount?: boolean;\n  displayLocationsLink?: boolean;\n  issue: T.Issue;\n  onFilter?: (property: string, issue: T.Issue) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default function IssueTitleBar(props: Props) {\n  const { issue } = props;\n  const hasSimilarIssuesFilter = props.onFilter != null;\n\n  const locationsCount =\n    issue.secondaryLocations.length +\n    issue.flows.reduce((sum, locations) => sum + locations.length, 0);\n\n  const locationsBadge = (\n    <Tooltip\n      overlay={translateWithParameters(\n        'issue.this_issue_involves_x_code_locations',\n        formatMeasure(locationsCount, 'INT')\n      )}>\n      <LocationIndex>{locationsCount}</LocationIndex>\n    </Tooltip>\n  );\n\n  const displayLocations = props.displayLocationsCount && locationsCount > 0;\n\n  const issueUrl = getComponentIssuesUrl(issue.project, {\n    ...getBranchLikeQuery(props.branchLike),\n    issues: issue.key,\n    open: issue.key,\n    types: issue.type === 'SECURITY_HOTSPOT' ? issue.type : undefined\n  });\n\n  return (\n    <div className=\"issue-row\">\n      <WorkspaceContext.Consumer>\n        {({ openRule }) => (\n          <IssueMessage\n            engine={issue.externalRuleEngine}\n            manualVulnerability={issue.fromHotspot && issue.type === 'VULNERABILITY'}\n            message={issue.message}\n            openRule={openRule}\n            organization={issue.organization}\n            rule={issue.rule}\n          />\n        )}\n      </WorkspaceContext.Consumer>\n\n      <div className=\"issue-row-meta\">\n        <ul className=\"issue-meta-list\">\n          <li className=\"issue-meta\">\n            <IssueChangelog\n              creationDate={issue.creationDate}\n              isOpen={props.currentPopup === 'changelog'}\n              issue={issue}\n              togglePopup={props.togglePopup}\n            />\n          </li>\n          {issue.textRange != null && (\n            <li className=\"issue-meta\">\n              <span className=\"issue-meta-label\" title={translate('line_number')}>\n                L{issue.textRange.endLine}\n              </span>\n            </li>\n          )}\n          {displayLocations && (\n            <li className=\"issue-meta\">\n              {props.displayLocationsLink ? (\n                <Link target=\"_blank\" to={issueUrl}>\n                  {locationsBadge}\n                </Link>\n              ) : (\n                locationsBadge\n              )}\n            </li>\n          )}\n          <li className=\"issue-meta\">\n            <Link\n              className=\"js-issue-permalink link-no-underline\"\n              target=\"_blank\"\n              title={translate('permalink')}\n              to={issueUrl}>\n              <LinkIcon />\n            </Link>\n          </li>\n          {hasSimilarIssuesFilter && (\n            <li className=\"issue-meta\">\n              <SimilarIssuesFilter\n                isOpen={props.currentPopup === 'similarIssues'}\n                issue={issue}\n                onFilter={props.onFilter}\n                togglePopup={props.togglePopup}\n              />\n            </li>\n          )}\n        </ul>\n      </div>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { map } from 'lodash';\nimport { connect } from 'react-redux';\nimport Avatar from '../../ui/Avatar';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\nimport SearchBox from '../../controls/SearchBox';\nimport { searchMembers } from '../../../api/organizations';\nimport { searchUsers } from '../../../api/users';\nimport { translate } from '../../../helpers/l10n';\nimport { getCurrentUser, Store } from '../../../store/rootReducer';\nimport { DropdownOverlay } from '../../controls/Dropdown';\nimport { isSonarCloud } from '../../../helpers/system';\nimport { isLoggedIn } from '../../../helpers/users';\n\ninterface User {\n  avatar?: string;\n  email?: string;\n  login: string;\n  name: string;\n}\n\ninterface Props {\n  currentUser: T.CurrentUser;\n  issue: Pick<T.Issue, 'projectOrganization'>;\n  onSelect: (login: string) => void;\n}\n\ninterface State {\n  currentUser: string;\n  query: string;\n  users: User[];\n}\n\nconst LIST_SIZE = 10;\n\nclass SetAssigneePopup extends React.PureComponent<Props, State> {\n  defaultUsersArray: User[];\n\n  constructor(props: Props) {\n    super(props);\n    this.defaultUsersArray = [{ login: '', name: translate('unassigned') }];\n\n    if (isLoggedIn(props.currentUser)) {\n      this.defaultUsersArray = [props.currentUser, ...this.defaultUsersArray];\n    }\n\n    this.state = {\n      query: '',\n      users: this.defaultUsersArray,\n      currentUser: this.defaultUsersArray.length > 0 ? this.defaultUsersArray[0].login : ''\n    };\n  }\n\n  searchMembers = (query: string) => {\n    searchMembers({\n      organization: this.props.issue.projectOrganization,\n      q: query,\n      ps: LIST_SIZE\n    }).then(this.handleSearchResult, () => {});\n  };\n\n  searchUsers = (query: string) => {\n    searchUsers({ q: query, ps: LIST_SIZE }).then(this.handleSearchResult, () => {});\n  };\n\n  handleSearchResult = (response: { users: T.OrganizationMember[] }) => {\n    this.setState({\n      users: response.users,\n      currentUser: response.users.length > 0 ? response.users[0].login : ''\n    });\n  };\n\n  handleSearchChange = (query: string) => {\n    if (query.length === 0) {\n      this.setState({\n        query,\n        users: this.defaultUsersArray,\n        currentUser: this.defaultUsersArray[0].login\n      });\n    } else {\n      this.setState({ query });\n      if (isSonarCloud()) {\n        this.searchMembers(query);\n      } else {\n        this.searchUsers(query);\n      }\n    }\n  };\n\n  render() {\n    return (\n      <DropdownOverlay noPadding={true}>\n        <div className=\"multi-select\">\n          <div className=\"menu-search\">\n            <SearchBox\n              autoFocus={true}\n              className=\"little-spacer-top\"\n              minLength={2}\n              onChange={this.handleSearchChange}\n              placeholder={translate('search.search_for_users')}\n              value={this.state.query}\n            />\n          </div>\n          <SelectList\n            currentItem={this.state.currentUser}\n            items={map(this.state.users, 'login')}\n            onSelect={this.props.onSelect}>\n            {this.state.users.map(user => (\n              <SelectListItem item={user.login} key={user.login}>\n                {!!user.login && (\n                  <Avatar className=\"spacer-right\" hash={user.avatar} name={user.name} size={16} />\n                )}\n                <span\n                  className=\"vertical-middle\"\n                  style={{ marginLeft: !user.login ? 24 : undefined }}>\n                  {user.name}\n                </span>\n              </SelectListItem>\n            ))}\n          </SelectList>\n        </div>\n      </DropdownOverlay>\n    );\n  }\n}\n\nconst mapStateToProps = (state: Store) => ({\n  currentUser: getCurrentUser(state)\n});\n\nexport default connect(mapStateToProps)(SetAssigneePopup);\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport SetAssigneePopup from '../popups/SetAssigneePopup';\nimport Avatar from '../../ui/Avatar';\nimport Toggler from '../../controls/Toggler';\nimport DropdownIcon from '../../icons-components/DropdownIcon';\nimport { Button } from '../../ui/buttons';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  isOpen: boolean;\n  issue: Pick<T.Issue, 'assignee' | 'assigneeAvatar' | 'assigneeName' | 'projectOrganization'>;\n  canAssign: boolean;\n  onAssign: (login: string) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueAssign extends React.PureComponent<Props> {\n  toggleAssign = (open?: boolean) => {\n    this.props.togglePopup('assign', open);\n  };\n\n  handleClose = () => {\n    this.toggleAssign(false);\n  };\n\n  renderAssignee() {\n    const { issue } = this.props;\n    return (\n      <span>\n        {issue.assignee && (\n          <span className=\"text-top\">\n            <Avatar\n              className=\"little-spacer-right\"\n              hash={issue.assigneeAvatar}\n              name={issue.assigneeName || issue.assignee}\n              size={16}\n            />\n          </span>\n        )}\n        <span className=\"issue-meta-label\">\n          {issue.assignee ? issue.assigneeName || issue.assignee : translate('unassigned')}\n        </span>\n      </span>\n    );\n  }\n\n  render() {\n    if (this.props.canAssign) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            closeOnEscape={true}\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen && this.props.canAssign}\n            overlay={<SetAssigneePopup issue={this.props.issue} onSelect={this.props.onAssign} />}>\n            <Button\n              className=\"button-link issue-action issue-action-with-options js-issue-assign\"\n              onClick={this.toggleAssign}>\n              {this.renderAssignee()}\n              <DropdownIcon className=\"little-spacer-left\" />\n            </Button>\n          </Toggler>\n        </div>\n      );\n    } else {\n      return this.renderAssignee();\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { parseIssueFromResponse } from '../../helpers/issues';\nimport { IssueResponse } from '../../api/issues';\n\nexport const updateIssue = (\n  onChange: (issue: T.Issue) => void,\n  resultPromise: Promise<IssueResponse>,\n  oldIssue?: T.Issue,\n  newIssue?: T.Issue\n) => {\n  const optimisticUpdate = oldIssue !== undefined && newIssue !== undefined;\n  if (optimisticUpdate) {\n    onChange(newIssue!);\n  }\n\n  resultPromise.then(\n    response => {\n      if (!optimisticUpdate) {\n        const issue = parseIssueFromResponse(\n          response.issue,\n          response.components,\n          response.users,\n          response.rules\n        );\n        onChange(issue);\n      }\n    },\n    () => {\n      if (optimisticUpdate) {\n        onChange(oldIssue!);\n      }\n    }\n  );\n};\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport MarkdownTips from '../../common/MarkdownTips';\nimport { Button, ResetButtonLink } from '../../ui/buttons';\nimport { translate } from '../../../helpers/l10n';\nimport { DropdownOverlay } from '../../controls/Dropdown';\nimport { PopupPlacement } from '../../ui/popups';\n\ninterface Props {\n  comment?: Pick<T.IssueComment, 'markdown'>;\n  onComment: (text: string) => void;\n  toggleComment: (visible: boolean) => void;\n  placeholder: string;\n  placement?: PopupPlacement;\n}\n\ninterface State {\n  textComment: string;\n}\n\nexport default class CommentPopup extends React.PureComponent<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      textComment: props.comment ? props.comment.markdown : ''\n    };\n  }\n\n  handleCommentChange = (event: React.ChangeEvent<HTMLTextAreaElement>) => {\n    this.setState({ textComment: event.target.value });\n  };\n\n  handleCommentClick = () => {\n    if (this.state.textComment.trim().length > 0) {\n      this.props.onComment(this.state.textComment);\n    }\n  };\n\n  handleCancelClick = () => {\n    this.props.toggleComment(false);\n  };\n\n  handleKeyboard = (event: React.KeyboardEvent) => {\n    if (event.keyCode === 13 && (event.metaKey || event.ctrlKey)) {\n      // Ctrl + Enter\n      this.handleCommentClick();\n    } else if ([37, 38, 39, 40].includes(event.keyCode)) {\n      // Arrow keys\n      event.stopPropagation();\n    }\n  };\n\n  render() {\n    const { comment } = this.props;\n    return (\n      <DropdownOverlay placement={this.props.placement}>\n        <div className=\"issue-comment-bubble-popup\">\n          <div className=\"issue-comment-form-text\">\n            <textarea\n              autoFocus={true}\n              onChange={this.handleCommentChange}\n              onKeyDown={this.handleKeyboard}\n              placeholder={this.props.placeholder}\n              rows={2}\n              value={this.state.textComment}\n            />\n          </div>\n          <div className=\"issue-comment-form-footer\">\n            <div className=\"issue-comment-form-actions\">\n              <Button\n                className=\"js-issue-comment-submit little-spacer-right\"\n                disabled={this.state.textComment.trim().length < 1}\n                onClick={this.handleCommentClick}>\n                {comment && translate('save')}\n                {!comment && translate('issue.comment.submit')}\n              </Button>\n              <ResetButtonLink className=\"js-issue-comment-cancel\" onClick={this.handleCancelClick}>\n                {translate('cancel')}\n              </ResetButtonLink>\n            </div>\n            <div className=\"issue-comment-form-tips\">\n              <MarkdownTips />\n            </div>\n          </div>\n        </div>\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { updateIssue } from '../actions';\nimport Toggler from '../../controls/Toggler';\nimport { Button } from '../../ui/buttons';\nimport CommentPopup from '../popups/CommentPopup';\nimport { addIssueComment } from '../../../api/issues';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  commentPlaceholder: string;\n  currentPopup?: string;\n  issueKey: string;\n  onChange: (issue: T.Issue) => void;\n  toggleComment: (open?: boolean, placeholder?: string) => void;\n}\n\nexport default class IssueCommentAction extends React.PureComponent<Props> {\n  addComment = (text: string) => {\n    updateIssue(this.props.onChange, addIssueComment({ issue: this.props.issueKey, text }));\n    this.props.toggleComment(false);\n  };\n\n  handleCommentClick = () => {\n    this.props.toggleComment();\n  };\n\n  handleClose = () => {\n    this.props.toggleComment(false);\n  };\n\n  render() {\n    return (\n      <li className=\"issue-meta dropdown\">\n        <Toggler\n          closeOnClickOutside={false}\n          onRequestClose={this.handleClose}\n          open={this.props.currentPopup === 'comment'}\n          overlay={\n            <CommentPopup\n              onComment={this.addComment}\n              placeholder={this.props.commentPlaceholder}\n              toggleComment={this.props.toggleComment}\n            />\n          }>\n          <Button\n            className=\"button-link issue-action js-issue-comment\"\n            onClick={this.handleCommentClick}>\n            <span className=\"issue-meta-label\">{translate('issue.comment.formlink')}</span>\n          </Button>\n        </Toggler>\n      </li>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from '../../../helpers/l10n';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\nimport SeverityIcon from '../../icons-components/SeverityIcon';\nimport { DropdownOverlay } from '../../controls/Dropdown';\n\ntype Props = {\n  issue: Pick<T.Issue, 'severity'>;\n  onSelect: (severity: string) => void;\n};\n\nconst SEVERITY = ['BLOCKER', 'CRITICAL', 'MAJOR', 'MINOR', 'INFO'];\n\nexport default function SetSeverityPopup({ issue, onSelect }: Props) {\n  return (\n    <DropdownOverlay>\n      <SelectList currentItem={issue.severity} items={SEVERITY} onSelect={onSelect}>\n        {SEVERITY.map(severity => (\n          <SelectListItem item={severity} key={severity}>\n            <SeverityIcon className=\"little-spacer-right\" severity={severity} />\n            {translate('severity', severity)}\n          </SelectListItem>\n        ))}\n      </SelectList>\n    </DropdownOverlay>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport SetSeverityPopup from '../popups/SetSeverityPopup';\nimport { setIssueSeverity, IssueResponse } from '../../../api/issues';\nimport Toggler from '../../controls/Toggler';\nimport DropdownIcon from '../../icons-components/DropdownIcon';\nimport SeverityHelper from '../../shared/SeverityHelper';\nimport { Button } from '../../ui/buttons';\nimport { RawQuery } from '../../../helpers/query';\n\ninterface Props {\n  canSetSeverity: boolean;\n  isOpen: boolean;\n  issue: Pick<T.Issue, 'severity'>;\n  setIssueProperty: (\n    property: keyof T.Issue,\n    popup: string,\n    apiCall: (query: RawQuery) => Promise<IssueResponse>,\n    value: string\n  ) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueSeverity extends React.PureComponent<Props> {\n  toggleSetSeverity = (open?: boolean) => {\n    this.props.togglePopup('set-severity', open);\n  };\n\n  setSeverity = (severity: string) => {\n    this.props.setIssueProperty('severity', 'set-severity', setIssueSeverity, severity);\n  };\n\n  handleClose = () => {\n    this.toggleSetSeverity(false);\n  };\n\n  render() {\n    const { issue } = this.props;\n    if (this.props.canSetSeverity) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen && this.props.canSetSeverity}\n            overlay={<SetSeverityPopup issue={issue} onSelect={this.setSeverity} />}>\n            <Button\n              className=\"button-link issue-action issue-action-with-options js-issue-set-severity\"\n              onClick={this.toggleSetSeverity}>\n              <SeverityHelper className=\"issue-meta-label\" severity={issue.severity} />\n              <DropdownIcon className=\"little-spacer-left\" />\n            </Button>\n          </Toggler>\n        </div>\n      );\n    } else {\n      return <SeverityHelper className=\"issue-meta-label\" severity={issue.severity} />;\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { difference, without } from 'lodash';\nimport TagsSelector from '../../tags/TagsSelector';\nimport { searchIssueTags } from '../../../api/issues';\nimport { DropdownOverlay } from '../../controls/Dropdown';\nimport { PopupPlacement } from '../../ui/popups';\n\ninterface Props {\n  organization: string;\n  selectedTags: string[];\n  setTags: (tags: string[]) => void;\n}\n\ninterface State {\n  searchResult: string[];\n}\n\nconst LIST_SIZE = 10;\n\nexport default class SetIssueTagsPopup extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { searchResult: [] };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  onSearch = (query: string) => {\n    return searchIssueTags({\n      q: query,\n      ps: Math.min(this.props.selectedTags.length - 1 + LIST_SIZE, 100),\n      organization: this.props.organization\n    }).then(\n      (tags: string[]) => {\n        if (this.mounted) {\n          this.setState({ searchResult: tags });\n        }\n      },\n      () => {}\n    );\n  };\n\n  onSelect = (tag: string) => {\n    this.props.setTags([...this.props.selectedTags, tag]);\n  };\n\n  onUnselect = (tag: string) => {\n    this.props.setTags(without(this.props.selectedTags, tag));\n  };\n\n  render() {\n    const availableTags = difference(this.state.searchResult, this.props.selectedTags);\n    return (\n      <DropdownOverlay placement={PopupPlacement.BottomRight}>\n        <TagsSelector\n          listSize={LIST_SIZE}\n          onSearch={this.onSearch}\n          onSelect={this.onSelect}\n          onUnselect={this.onUnselect}\n          selectedTags={this.props.selectedTags}\n          tags={availableTags}\n        />\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { updateIssue } from '../actions';\nimport SetIssueTagsPopup from '../popups/SetIssueTagsPopup';\nimport { setIssueTags } from '../../../api/issues';\nimport Toggler from '../../controls/Toggler';\nimport TagsList from '../../tags/TagsList';\nimport { Button } from '../../ui/buttons';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  canSetTags: boolean;\n  isOpen: boolean;\n  issue: Pick<T.Issue, 'key' | 'projectOrganization' | 'tags'>;\n  onChange: (issue: T.Issue) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueTags extends React.PureComponent<Props> {\n  toggleSetTags = (open?: boolean) => {\n    this.props.togglePopup('edit-tags', open);\n  };\n\n  setTags = (tags: string[]) => {\n    const { issue } = this.props;\n    const newIssue = { ...issue, tags };\n    updateIssue(\n      this.props.onChange,\n      setIssueTags({ issue: issue.key, tags: tags.join(',') }),\n      issue as T.Issue,\n      newIssue as T.Issue\n    );\n  };\n\n  handleClose = () => {\n    this.toggleSetTags(false);\n  };\n\n  render() {\n    const { issue } = this.props;\n    const { tags = [] } = issue;\n\n    if (this.props.canSetTags) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen}\n            overlay={\n              <SetIssueTagsPopup\n                organization={issue.projectOrganization}\n                selectedTags={tags}\n                setTags={this.setTags}\n              />\n            }>\n            <Button\n              className={'js-issue-edit-tags button-link issue-action issue-action-with-options'}\n              onClick={this.toggleSetTags}>\n              <TagsList\n                allowUpdate={this.props.canSetTags}\n                tags={\n                  issue.tags && issue.tags.length > 0 ? issue.tags : [translate('issue.no_tag')]\n                }\n              />\n            </Button>\n          </Toggler>\n        </div>\n      );\n    } else {\n      return (\n        <TagsList\n          allowUpdate={this.props.canSetTags}\n          className=\"note\"\n          tags={issue.tags && issue.tags.length > 0 ? issue.tags : [translate('issue.no_tag')]}\n        />\n      );\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\nimport { translate } from '../../../helpers/l10n';\nimport { DropdownOverlay } from '../../controls/Dropdown';\n\ninterface Props {\n  onSelect: (transition: string) => void;\n  transitions: string[];\n}\n\nexport default function SetTransitionPopup({ onSelect, transitions }: Props) {\n  return (\n    <DropdownOverlay>\n      <SelectList currentItem={transitions[0]} items={transitions} onSelect={onSelect}>\n        {transitions.map(transition => {\n          return (\n            <SelectListItem\n              item={transition}\n              key={transition}\n              title={translate('issue.transition', transition, 'description')}>\n              {translate('issue.transition', transition)}\n            </SelectListItem>\n          );\n        })}\n      </SelectList>\n    </DropdownOverlay>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { updateIssue } from '../actions';\nimport SetTransitionPopup from '../popups/SetTransitionPopup';\nimport { setIssueTransition } from '../../../api/issues';\nimport Toggler from '../../controls/Toggler';\nimport DropdownIcon from '../../icons-components/DropdownIcon';\nimport StatusHelper from '../../shared/StatusHelper';\nimport { Button } from '../../ui/buttons';\n\ninterface Props {\n  hasTransitions: boolean;\n  isOpen: boolean;\n  issue: Pick<T.Issue, 'key' | 'resolution' | 'status' | 'transitions'>;\n  onChange: (issue: T.Issue) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueTransition extends React.PureComponent<Props> {\n  setTransition = (transition: string) => {\n    updateIssue(\n      this.props.onChange,\n      setIssueTransition({ issue: this.props.issue.key, transition })\n    );\n    this.toggleSetTransition();\n  };\n\n  toggleSetTransition = (open?: boolean) => {\n    this.props.togglePopup('transition', open);\n  };\n\n  handleClose = () => {\n    this.toggleSetTransition(false);\n  };\n\n  render() {\n    const { issue } = this.props;\n\n    if (this.props.hasTransitions) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen && this.props.hasTransitions}\n            overlay={\n              <SetTransitionPopup onSelect={this.setTransition} transitions={issue.transitions} />\n            }>\n            <Button\n              className=\"button-link issue-action issue-action-with-options js-issue-transition\"\n              onClick={this.toggleSetTransition}>\n              <StatusHelper\n                className=\"issue-meta-label\"\n                resolution={issue.resolution}\n                status={issue.status}\n              />\n              <DropdownIcon className=\"little-spacer-left\" />\n            </Button>\n          </Toggler>\n        </div>\n      );\n    } else {\n      return (\n        <StatusHelper\n          className=\"issue-meta-label\"\n          resolution={issue.resolution}\n          status={issue.status}\n        />\n      );\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from '../../../helpers/l10n';\nimport IssueTypeIcon from '../../ui/IssueTypeIcon';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\nimport { DropdownOverlay } from '../../controls/Dropdown';\n\ninterface Props {\n  issue: Pick<T.Issue, 'type'>;\n  onSelect: (type: T.IssueType) => void;\n}\n\nconst TYPES = ['BUG', 'VULNERABILITY', 'CODE_SMELL'];\n\nexport default function SetTypePopup({ issue, onSelect }: Props) {\n  return (\n    <DropdownOverlay>\n      <SelectList currentItem={issue.type} items={TYPES} onSelect={onSelect}>\n        {TYPES.map(type => (\n          <SelectListItem item={type} key={type}>\n            <IssueTypeIcon className=\"little-spacer-right\" query={type} />\n            {translate('issue.type', type)}\n          </SelectListItem>\n        ))}\n      </SelectList>\n    </DropdownOverlay>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport SetTypePopup from '../popups/SetTypePopup';\nimport { setIssueType, IssueResponse } from '../../../api/issues';\nimport Toggler from '../../controls/Toggler';\nimport DropdownIcon from '../../icons-components/DropdownIcon';\nimport { Button } from '../../ui/buttons';\nimport IssueTypeIcon from '../../ui/IssueTypeIcon';\nimport { translate } from '../../../helpers/l10n';\nimport { RawQuery } from '../../../helpers/query';\n\ninterface Props {\n  canSetType: boolean;\n  isOpen: boolean;\n  issue: Pick<T.Issue, 'type'>;\n  setIssueProperty: (\n    property: keyof T.Issue,\n    popup: string,\n    apiCall: (query: RawQuery) => Promise<IssueResponse>,\n    value: string\n  ) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueType extends React.PureComponent<Props> {\n  toggleSetType = (open?: boolean) => {\n    this.props.togglePopup('set-type', open);\n  };\n\n  setType = (type: string) => {\n    this.props.setIssueProperty('type', 'set-type', setIssueType, type);\n  };\n\n  handleClose = () => {\n    this.toggleSetType(false);\n  };\n\n  render() {\n    const { issue } = this.props;\n    if (this.props.canSetType) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen && this.props.canSetType}\n            overlay={<SetTypePopup issue={issue} onSelect={this.setType} />}>\n            <Button\n              className=\"button-link issue-action issue-action-with-options js-issue-set-type\"\n              onClick={this.toggleSetType}>\n              <IssueTypeIcon className=\"little-spacer-right\" query={issue.type} />\n              {translate('issue.type', issue.type)}\n              <DropdownIcon className=\"little-spacer-left\" />\n            </Button>\n          </Toggler>\n        </div>\n      );\n    } else {\n      return (\n        <span>\n          <IssueTypeIcon className=\"little-spacer-right\" query={issue.type} />\n          {translate('issue.type', issue.type)}\n        </span>\n      );\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport IssueAssign from './IssueAssign';\nimport IssueCommentAction from './IssueCommentAction';\nimport IssueSeverity from './IssueSeverity';\nimport IssueTags from './IssueTags';\nimport IssueTransition from './IssueTransition';\nimport IssueType from './IssueType';\nimport { updateIssue } from '../actions';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport { RawQuery } from '../../../helpers/query';\nimport { IssueResponse } from '../../../api/issues';\n\ninterface Props {\n  issue: T.Issue;\n  currentPopup?: string;\n  onAssign: (login: string) => void;\n  onChange: (issue: T.Issue) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\ninterface State {\n  commentPlaceholder: string;\n}\n\nexport default class IssueActionsBar extends React.PureComponent<Props, State> {\n  state: State = {\n    commentPlaceholder: ''\n  };\n\n  setIssueProperty = (\n    property: keyof T.Issue,\n    popup: string,\n    apiCall: (query: RawQuery) => Promise<IssueResponse>,\n    value: string\n  ) => {\n    const { issue } = this.props;\n    if (issue[property] !== value) {\n      const newIssue = { ...issue, [property]: value };\n      updateIssue(\n        this.props.onChange,\n        apiCall({ issue: issue.key, [property]: value }),\n        issue,\n        newIssue\n      );\n    }\n    this.props.togglePopup(popup, false);\n  };\n\n  toggleComment = (open: boolean | undefined, placeholder: string | undefined) => {\n    this.setState({ commentPlaceholder: placeholder || '' });\n    this.props.togglePopup('comment', open);\n  };\n\n  handleTransition = (issue: T.Issue) => {\n    this.props.onChange(issue);\n    if (\n      issue.resolution === 'FALSE-POSITIVE' ||\n      (issue.resolution === 'WONTFIX' && issue.type !== 'SECURITY_HOTSPOT')\n    ) {\n      this.toggleComment(true, translate('issue.comment.explain_why'));\n    }\n  };\n\n  render() {\n    const { issue } = this.props;\n    const canAssign = issue.actions.includes('assign');\n    const canComment = issue.actions.includes('comment');\n    const canSetSeverity = issue.actions.includes('set_severity');\n    const canSetType = issue.actions.includes('set_type');\n    const canSetTags = issue.actions.includes('set_tags');\n    const hasTransitions = issue.transitions && issue.transitions.length > 0;\n    const isSecurityHotspot = issue.type === 'SECURITY_HOTSPOT';\n\n    return (\n      <div className=\"issue-actions\">\n        <ul className=\"issue-meta-list\">\n          <li className=\"issue-meta\">\n            <IssueType\n              canSetType={canSetType}\n              isOpen={this.props.currentPopup === 'set-type' && canSetType}\n              issue={issue}\n              setIssueProperty={this.setIssueProperty}\n              togglePopup={this.props.togglePopup}\n            />\n          </li>\n          {!isSecurityHotspot && (\n            <li className=\"issue-meta\">\n              <IssueSeverity\n                canSetSeverity={canSetSeverity}\n                isOpen={this.props.currentPopup === 'set-severity' && canSetSeverity}\n                issue={issue}\n                setIssueProperty={this.setIssueProperty}\n                togglePopup={this.props.togglePopup}\n              />\n            </li>\n          )}\n          <li className=\"issue-meta\">\n            <IssueTransition\n              hasTransitions={hasTransitions}\n              isOpen={this.props.currentPopup === 'transition' && hasTransitions}\n              issue={issue}\n              onChange={this.handleTransition}\n              togglePopup={this.props.togglePopup}\n            />\n          </li>\n          {!isSecurityHotspot && (\n            <li className=\"issue-meta\">\n              <IssueAssign\n                canAssign={canAssign}\n                isOpen={this.props.currentPopup === 'assign' && canAssign}\n                issue={issue}\n                onAssign={this.props.onAssign}\n                togglePopup={this.props.togglePopup}\n              />\n            </li>\n          )}\n          {!isSecurityHotspot &&\n            issue.effort && (\n              <li className=\"issue-meta\">\n                <span className=\"issue-meta-label\">\n                  {translateWithParameters('issue.x_effort', issue.effort)}\n                </span>\n              </li>\n            )}\n          {canComment && (\n            <IssueCommentAction\n              commentPlaceholder={this.state.commentPlaceholder}\n              currentPopup={this.props.currentPopup}\n              issueKey={issue.key}\n              onChange={this.props.onChange}\n              toggleComment={this.toggleComment}\n            />\n          )}\n        </ul>\n        <ul className=\"list-inline\">\n          <li className=\"issue-meta js-issue-tags\">\n            <IssueTags\n              canSetTags={canSetTags}\n              isOpen={this.props.currentPopup === 'edit-tags' && canSetTags}\n              issue={issue}\n              onChange={this.props.onChange}\n              togglePopup={this.props.togglePopup}\n            />\n          </li>\n        </ul>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from '../../ui/buttons';\nimport { translate } from '../../../helpers/l10n';\nimport { DropdownOverlay } from '../../controls/Dropdown';\nimport { PopupPlacement } from '../../ui/popups';\n\ninterface Props {\n  onDelete: () => void;\n}\n\nexport default function CommentDeletePopup({ onDelete }: Props) {\n  return (\n    <DropdownOverlay placement={PopupPlacement.BottomRight}>\n      <div className=\"menu is-container\">\n        <div className=\"spacer-bottom\">{translate('issue.comment.delete_confirm_message')}</div>\n        <Button className=\"button-red\" onClick={onDelete}>\n          {translate('delete')}\n        </Button>\n      </div>\n    </DropdownOverlay>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Avatar from '../../ui/Avatar';\nimport Toggler from '../../controls/Toggler';\nimport { EditButton, DeleteButton } from '../../ui/buttons';\nimport CommentDeletePopup from '../popups/CommentDeletePopup';\nimport CommentPopup from '../popups/CommentPopup';\nimport DateFromNow from '../../intl/DateFromNow';\nimport { PopupPlacement } from '../../ui/popups';\n\ninterface Props {\n  comment: T.IssueComment;\n  onDelete: (comment: string) => void;\n  onEdit: (comment: string, text: string) => void;\n}\n\ninterface State {\n  openPopup: string;\n}\n\nexport default class IssueCommentLine extends React.PureComponent<Props, State> {\n  state: State = {\n    openPopup: ''\n  };\n\n  handleEdit = (text: string) => {\n    this.props.onEdit(this.props.comment.key, text);\n    this.toggleEditPopup(false);\n  };\n\n  handleDelete = () => {\n    this.props.onDelete(this.props.comment.key);\n    this.toggleDeletePopup(false);\n  };\n\n  togglePopup = (popupName: string, force?: boolean) => {\n    this.setState(prevState => {\n      if (prevState.openPopup !== popupName && force !== false) {\n        return { openPopup: popupName };\n      } else if (prevState.openPopup === popupName && force !== true) {\n        return { openPopup: '' };\n      }\n      return prevState;\n    });\n  };\n\n  toggleDeletePopup = (force?: boolean) => {\n    this.togglePopup('delete', force);\n  };\n\n  toggleEditPopup = (force?: boolean) => {\n    this.togglePopup('edit', force);\n  };\n\n  closePopups = () => {\n    this.setState({ openPopup: '' });\n  };\n\n  render() {\n    const { comment } = this.props;\n    return (\n      <div className=\"issue-comment\">\n        <div className=\"issue-comment-author\" title={comment.authorName}>\n          <Avatar\n            className=\"little-spacer-right\"\n            hash={comment.authorAvatar}\n            name={comment.authorName || comment.author}\n            size={16}\n          />\n          {comment.authorName || comment.author}\n        </div>\n        <div\n          className=\"issue-comment-text markdown\"\n          dangerouslySetInnerHTML={{ __html: comment.htmlText }}\n        />\n        <div className=\"issue-comment-age\">\n          <DateFromNow date={comment.createdAt} />\n        </div>\n        <div className=\"issue-comment-actions\">\n          {comment.updatable && (\n            <div className=\"dropdown\">\n              <Toggler\n                closeOnClickOutside={false}\n                onRequestClose={this.closePopups}\n                open={this.state.openPopup === 'edit'}\n                overlay={\n                  <CommentPopup\n                    comment={comment}\n                    onComment={this.handleEdit}\n                    placeholder=\"\"\n                    placement={PopupPlacement.BottomRight}\n                    toggleComment={this.toggleEditPopup}\n                  />\n                }>\n                <EditButton\n                  className=\"js-issue-comment-edit button-small\"\n                  onClick={this.toggleEditPopup}\n                />\n              </Toggler>\n            </div>\n          )}\n          {comment.updatable && (\n            <div className=\"dropdown\">\n              <Toggler\n                onRequestClose={this.closePopups}\n                open={this.state.openPopup === 'delete'}\n                overlay={<CommentDeletePopup onDelete={this.handleDelete} />}>\n                <DeleteButton\n                  className=\"js-issue-comment-delete button-small\"\n                  onClick={this.toggleDeletePopup}\n                />\n              </Toggler>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport IssueTitleBar from './components/IssueTitleBar';\nimport IssueActionsBar from './components/IssueActionsBar';\nimport IssueCommentLine from './components/IssueCommentLine';\nimport { updateIssue } from './actions';\nimport { deleteIssueComment, editIssueComment } from '../../api/issues';\n\ninterface Props {\n  branchLike?: T.BranchLike;\n  checked?: boolean;\n  currentPopup?: string;\n  displayLocationsCount?: boolean;\n  displayLocationsLink?: boolean;\n  issue: T.Issue;\n  onAssign: (login: string) => void;\n  onChange: (issue: T.Issue) => void;\n  onCheck?: (issue: string, event: { shiftKey?: boolean }) => void;\n  onClick: (issueKey: string) => void;\n  onFilter?: (property: string, issue: T.Issue) => void;\n  selected: boolean;\n  togglePopup: (popup: string, show: boolean | void) => void;\n}\n\nexport default class IssueView extends React.PureComponent<Props> {\n  handleCheck = (event: React.MouseEvent) => {\n    event.preventDefault();\n    if (this.props.onCheck) {\n      this.props.onCheck(this.props.issue.key, event);\n    }\n  };\n\n  handleClick = (event: React.MouseEvent) => {\n    if (!isClickable(event.target as HTMLElement) && this.props.onClick) {\n      event.preventDefault();\n      this.props.onClick(this.props.issue.key);\n    }\n  };\n\n  editComment = (comment: string, text: string) => {\n    updateIssue(this.props.onChange, editIssueComment({ comment, text }));\n  };\n\n  deleteComment = (comment: string) => {\n    updateIssue(this.props.onChange, deleteIssueComment({ comment }));\n  };\n\n  render() {\n    const { issue } = this.props;\n\n    const hasCheckbox = this.props.onCheck != null;\n\n    const issueClass = classNames('issue', {\n      'issue-with-checkbox': hasCheckbox,\n      selected: this.props.selected\n    });\n\n    return (\n      <div\n        className={issueClass}\n        data-issue={issue.key}\n        onClick={this.handleClick}\n        role=\"listitem\"\n        tabIndex={0}>\n        <IssueTitleBar\n          branchLike={this.props.branchLike}\n          currentPopup={this.props.currentPopup}\n          displayLocationsCount={this.props.displayLocationsCount}\n          displayLocationsLink={this.props.displayLocationsLink}\n          issue={issue}\n          onFilter={this.props.onFilter}\n          togglePopup={this.props.togglePopup}\n        />\n        <IssueActionsBar\n          currentPopup={this.props.currentPopup}\n          issue={issue}\n          onAssign={this.props.onAssign}\n          onChange={this.props.onChange}\n          togglePopup={this.props.togglePopup}\n        />\n        {issue.comments &&\n          issue.comments.length > 0 && (\n            <div className=\"issue-comments\">\n              {issue.comments.map(comment => (\n                <IssueCommentLine\n                  comment={comment}\n                  key={comment.key}\n                  onDelete={this.deleteComment}\n                  onEdit={this.editComment}\n                />\n              ))}\n            </div>\n          )}\n        {hasCheckbox && (\n          <a className=\"js-toggle issue-checkbox-container\" href=\"#\" onClick={this.handleCheck}>\n            <i\n              className={classNames('issue-checkbox', 'icon-checkbox', {\n                'icon-checkbox-checked': this.props.checked\n              })}\n            />\n          </a>\n        )}\n      </div>\n    );\n  }\n}\n\nfunction isClickable(node: HTMLElement | undefined | null): boolean {\n  if (!node) {\n    return false;\n  }\n  const clickableTags = ['A', 'BUTTON', 'INPUT', 'TEXTAREA'];\n  const tagName = (node.tagName || '').toUpperCase();\n  return clickableTags.includes(tagName) || isClickable(node.parentElement);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2019 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as key from 'keymaster';\nimport IssueView from './IssueView';\nimport { updateIssue } from './actions';\nimport { setIssueAssignee } from '../../api/issues';\nimport './Issue.css';\n\ninterface Props {\n  branchLike?: T.BranchLike;\n  checked?: boolean;\n  displayLocationsCount?: boolean;\n  displayLocationsLink?: boolean;\n  issue: T.Issue;\n  onChange: (issue: T.Issue) => void;\n  onCheck?: (issue: string, event: { shiftKey?: boolean }) => void;\n  onClick: (issueKey: string) => void;\n  onFilter?: (property: string, issue: T.Issue) => void;\n  onPopupToggle: (issue: string, popupName: string, open?: boolean) => void;\n  openPopup?: string;\n  selected: boolean;\n}\n\nexport default class Issue extends React.PureComponent<Props> {\n  static defaultProps = {\n    displayLocationsCount: true,\n    displayLocationsLink: true,\n    selected: false\n  };\n\n  componentDidMount() {\n    if (this.props.selected) {\n      this.bindShortcuts();\n    }\n  }\n\n  componentWillUpdate(nextProps: Props) {\n    if (!nextProps.selected && this.props.selected) {\n      this.unbindShortcuts();\n    }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (!prevProps.selected && this.props.selected) {\n      this.bindShortcuts();\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.props.selected) {\n      this.unbindShortcuts();\n    }\n  }\n\n  bindShortcuts() {\n    key('f', 'issues', () => {\n      this.togglePopup('transition');\n      return false;\n    });\n    key('a', 'issues', () => {\n      this.togglePopup('assign');\n      return false;\n    });\n    key('m', 'issues', () => {\n      if (this.props.issue.actions.includes('assign')) {\n        this.handleAssignement('_me');\n      }\n      return false;\n    });\n    key('i', 'issues', () => {\n      this.togglePopup('set-severity');\n      return false;\n    });\n    key('c', 'issues', () => {\n      this.togglePopup('comment');\n      return false;\n    });\n    key('t', 'issues', () => {\n      this.togglePopup('edit-tags');\n      return false;\n    });\n    key('space', 'issues', (event: KeyboardEvent) => {\n      if (this.props.onCheck) {\n        this.props.onCheck(this.props.issue.key, event);\n        return false;\n      }\n      return undefined;\n    });\n  }\n\n  unbindShortcuts() {\n    key.unbind('f', 'issues');\n    key.unbind('a', 'issues');\n    key.unbind('m', 'issues');\n    key.unbind('i', 'issues');\n    key.unbind('c', 'issues');\n    key.unbind('space', 'issues');\n    key.unbind('t', 'issues');\n  }\n\n  togglePopup = (popupName: string, open?: boolean) => {\n    this.props.onPopupToggle(this.props.issue.key, popupName, open);\n  };\n\n  handleAssignement = (login: string) => {\n    const { issue } = this.props;\n    if (issue.assignee !== login) {\n      updateIssue(this.props.onChange, setIssueAssignee({ issue: issue.key, assignee: login }));\n    }\n    this.togglePopup('assign', false);\n  };\n\n  render() {\n    return (\n      <IssueView\n        branchLike={this.props.branchLike}\n        checked={this.props.checked}\n        currentPopup={this.props.openPopup}\n        displayLocationsCount={this.props.displayLocationsCount}\n        displayLocationsLink={this.props.displayLocationsLink}\n        issue={this.props.issue}\n        onAssign={this.handleAssignement}\n        onChange={this.props.onChange}\n        onCheck={this.props.onCheck}\n        onClick={this.props.onClick}\n        onFilter={this.props.onFilter}\n        selected={this.props.selected}\n        togglePopup={this.togglePopup}\n      />\n    );\n  }\n}\n"],"sourceRoot":""}